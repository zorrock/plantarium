import{S as he,i as de,s as ve,e as k,t as T,k as N,c as E,a as w,h as I,d as u,m as j,b as B,g as b,G as v,j as G,l as K,I as ge,H as Q,a1 as xe,R as Ae,a2 as Ve,w as ke,x as Ee,y as Re,a3 as $e,q as M,o as W,B as we,p as Ge,J as Ue,v as el,n as Je,L as Le}from"../../chunks/vendor-b399ad20.js";import{b as ll,c as tl,p as sl,d as il,e as fl,f as rl,u as ol,s as al}from"../../chunks/index-e77f9004.js";import{c as ul,p as nl}from"../../chunks/Section.svelte_svelte_type_style_lang-3f4d10ba.js";function Ce(f,e,l){const t=f.slice();return t[1]=e[l],t}function Me(f){let e,l,t,r=f[0].type+"",o,s,a,n=f[0].title+"",c,p,h,S,P=f[0].lines,_=[];for(let d=0;d<P.length;d+=1)_[d]=Fe(Ce(f,P,d));return{c(){e=k("div"),l=k("p"),t=k("b"),o=T(r),s=T(":"),a=N(),c=T(n),p=N(),h=k("pre"),S=k("code");for(let d=0;d<_.length;d+=1)_[d].c();this.h()},l(d){e=E(d,"DIV",{class:!0});var O=w(e);l=E(O,"P",{});var R=w(l);t=E(R,"B",{});var L=w(t);o=I(L,r),s=I(L,":"),L.forEach(u),a=j(R),c=I(R,n),R.forEach(u),p=j(O),h=E(O,"PRE",{class:!0});var X=w(h);S=E(X,"CODE",{});var Y=w(S);for(let q=0;q<_.length;q+=1)_[q].l(Y);Y.forEach(u),X.forEach(u),O.forEach(u),this.h()},h(){B(h,"class","svelte-1jrh130"),B(e,"class","wrapper svelte-1jrh130")},m(d,O){b(d,e,O),v(e,l),v(l,t),v(t,o),v(t,s),v(l,a),v(l,c),v(e,p),v(e,h),v(h,S);for(let R=0;R<_.length;R+=1)_[R].m(S,null)},p(d,O){if(O&1&&r!==(r=d[0].type+"")&&G(o,r),O&1&&n!==(n=d[0].title+"")&&G(c,n),O&1){P=d[0].lines;let R;for(R=0;R<P.length;R+=1){const L=Ce(d,P,R);_[R]?_[R].p(L,O):(_[R]=Fe(L),_[R].c(),_[R].m(S,null))}for(;R<_.length;R+=1)_[R].d(1);_.length=P.length}},d(d){d&&u(e),ge(_,d)}}}function qe(f){let e,l,t,r=f[1].alias+"",o;return{c(){e=T("as "),l=k("strong"),t=T("$"),o=T(r)},l(s){e=I(s,"as "),l=E(s,"STRONG",{});var a=w(l);t=I(a,"$"),o=I(a,r),a.forEach(u)},m(s,a){b(s,e,a),b(s,l,a),v(l,t),v(l,o)},p(s,a){a&1&&r!==(r=s[1].alias+"")&&G(o,r)},d(s){s&&u(e),s&&u(l)}}}function ze(f){let e,l,t=f[1].location+"",r,o;return{c(){e=T("\xA0("),l=k("i"),r=T(t),o=T(")")},l(s){e=I(s,"\xA0("),l=E(s,"I",{});var a=w(l);r=I(a,t),a.forEach(u),o=I(s,")")},m(s,a){b(s,e,a),b(s,l,a),v(l,r),b(s,o,a)},p(s,a){a&1&&t!==(t=s[1].location+"")&&G(r,t)},d(s){s&&u(e),s&&u(l),s&&u(o)}}}function Fe(f){let e,l,t=f[1].name+"",r,o,s,a=f[1].alias&&qe(f),n=f[1].location&&ze(f);return{c(){e=T("at "),l=k("strong"),r=T(t),a&&a.c(),o=K(),n&&n.c(),s=k("br")},l(c){e=I(c,"at "),l=E(c,"STRONG",{});var p=w(l);r=I(p,t),p.forEach(u),a&&a.l(c),o=K(),n&&n.l(c),s=E(c,"BR",{})},m(c,p){b(c,e,p),b(c,l,p),v(l,r),a&&a.m(c,p),b(c,o,p),n&&n.m(c,p),b(c,s,p)},p(c,p){p&1&&t!==(t=c[1].name+"")&&G(r,t),c[1].alias?a?a.p(c,p):(a=qe(c),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null),c[1].location?n?n.p(c,p):(n=ze(c),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(c){c&&u(e),c&&u(l),a&&a.d(c),c&&u(o),n&&n.d(c),c&&u(s)}}}function cl(f){let e,l=f[0]&&Me(f);return{c(){l&&l.c(),e=K()},l(t){l&&l.l(t),e=K()},m(t,r){l&&l.m(t,r),b(t,e,r)},p(t,[r]){t[0]?l?l.p(t,r):(l=Me(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Q,o:Q,d(t){l&&l.d(t),t&&u(e)}}}function _l(f,e,l){let{stacktrace:t}=e;return f.$$set=r=>{"stacktrace"in r&&l(0,t=r.stacktrace)},[t]}class pl extends he{constructor(e){super();de(this,e,_l,cl,ve,{stacktrace:0})}}function bl(f){let e,l,t,r=JSON.stringify(f[0],null,2)+"",o;return{c(){e=k("details"),l=k("pre"),t=k("code"),o=T(r)},l(s){e=E(s,"DETAILS",{});var a=w(e);l=E(a,"PRE",{});var n=w(l);t=E(n,"CODE",{});var c=w(t);o=I(c,r),c.forEach(u),n.forEach(u),a.forEach(u)},m(s,a){b(s,e,a),v(e,l),v(l,t),v(t,o)},p(s,[a]){a&1&&r!==(r=JSON.stringify(s[0],null,2)+"")&&G(o,r)},i:Q,o:Q,d(s){s&&u(e)}}}function ml(f,e,l){let{object:t}=e;return f.$$set=r=>{"object"in r&&l(0,t=r.object)},[t]}class hl extends he{constructor(e){super();de(this,e,ml,bl,ve,{object:0})}}function dl(f){let e,l,t;function r(s){f[2](s)}let o={options:f[1]};return f[0]!==void 0&&(o.selected=f[0]),e=new xe({props:o}),Ae.push(()=>Ve(e,"selected",r)),{c(){ke(e.$$.fragment)},l(s){Ee(e.$$.fragment,s)},m(s,a){Re(e,s,a),t=!0},p(s,[a]){const n={};a&2&&(n.options=s[1]),!l&&a&1&&(l=!0,n.selected=s[0],$e(()=>l=!1)),e.$set(n)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){we(e,s)}}}function vl(f,e,l){let{values:t=[]}=e,{selected:r}=e;function o(s){r=s,l(0,r)}return f.$$set=s=>{"values"in s&&l(1,t=s.values),"selected"in s&&l(0,r=s.selected)},[r,t,o]}class kl extends he{constructor(e){super();de(this,e,vl,dl,ve,{values:1,selected:0})}}function El(f){var ye,Be;let e,l,t,r=f[0].type+"",o,s,a,n,c,p,h,S,P,_,d,O,R=(f[0].title?f[0].title:"")+"",L,X,Y,q,x,se=f[0].description+"",re,oe,ae,ue,Z,Te,ne,U,Ie,ce,_e,pe,ee,le,ie,be,$,z,Oe,Se=(Be=(ye=f[4])==null?void 0:ye.permissions)==null?void 0:Be.includes("report.delete"),g,V=f[3]&&Ke();function Ne(i,m){var J,F;if(m&16&&(S=null),i[0].gh_issue)return Tl;if(S==null&&(S=!!((F=(J=i[4])==null?void 0:J.permissions)==null?void 0:F.includes("report.update"))),S)return wl}let te=Ne(f,-1),D=te&&te(f);function Ze(i){f[11](i)}let je={values:f[1]};f[2]!==void 0&&(je.selected=f[2]),U=new kl({props:je}),Ae.push(()=>Ve(U,"selected",Ze));let H=f[0].browser&&We(f),y=f[0].stacktrace&&Xe(f);z=new hl({props:{object:f[0]}});let A=Se&&Ye(f);return{c(){e=k("header"),l=k("h2"),t=k("b"),o=T(r),s=N(),a=k("div"),n=k("a"),c=T("api"),p=N(),V&&V.c(),h=N(),D&&D.c(),P=N(),_=k("hr"),d=N(),O=k("h1"),L=T(R),X=N(),Y=k("br"),q=N(),x=k("p"),re=T(se),oe=N(),ae=k("br"),ue=N(),Z=k("h3"),Te=T("Tags:"),ne=N(),ke(U.$$.fragment),ce=N(),_e=k("br"),pe=N(),H&&H.c(),ee=N(),y&&y.c(),le=N(),ie=k("hr"),be=N(),$=k("footer"),ke(z.$$.fragment),Oe=N(),A&&A.c(),this.h()},l(i){e=E(i,"HEADER",{class:!0});var m=w(e);l=E(m,"H2",{class:!0});var J=w(l);t=E(J,"B",{});var F=w(t);o=I(F,r),F.forEach(u),J.forEach(u),s=j(m),a=E(m,"DIV",{});var C=w(a);n=E(C,"A",{href:!0});var fe=w(n);c=I(fe,"api"),fe.forEach(u),p=j(C),V&&V.l(C),h=j(C),D&&D.l(C),C.forEach(u),m.forEach(u),P=j(i),_=E(i,"HR",{class:!0}),d=j(i),O=E(i,"H1",{class:!0});var Pe=w(O);L=I(Pe,R),Pe.forEach(u),X=j(i),Y=E(i,"BR",{}),q=j(i),x=E(i,"P",{});var De=w(x);re=I(De,se),De.forEach(u),oe=j(i),ae=E(i,"BR",{}),ue=j(i),Z=E(i,"H3",{class:!0});var He=w(Z);Te=I(He,"Tags:"),He.forEach(u),ne=j(i),Ee(U.$$.fragment,i),ce=j(i),_e=E(i,"BR",{}),pe=j(i),H&&H.l(i),ee=j(i),y&&y.l(i),le=j(i),ie=E(i,"HR",{class:!0}),be=j(i),$=E(i,"FOOTER",{class:!0});var me=w($);Ee(z.$$.fragment,me),Oe=j(me),A&&A.l(me),me.forEach(u),this.h()},h(){B(l,"class","text-4xl"),B(n,"href",`${f[6]}/api/report/${f[5]}`),B(e,"class","flex justify-between border-bottom items-center"),B(_,"class","my-2"),B(O,"class","text-4xl"),B(Z,"class","svelte-13w5fsi"),B(ie,"class","my-2"),B($,"class","flex items-center justify-between mb-10")},m(i,m){b(i,e,m),v(e,l),v(l,t),v(t,o),v(e,s),v(e,a),v(a,n),v(n,c),v(a,p),V&&V.m(a,null),v(a,h),D&&D.m(a,null),b(i,P,m),b(i,_,m),b(i,d,m),b(i,O,m),v(O,L),b(i,X,m),b(i,Y,m),b(i,q,m),b(i,x,m),v(x,re),b(i,oe,m),b(i,ae,m),b(i,ue,m),b(i,Z,m),v(Z,Te),b(i,ne,m),Re(U,i,m),b(i,ce,m),b(i,_e,m),b(i,pe,m),H&&H.m(i,m),b(i,ee,m),y&&y.m(i,m),b(i,le,m),b(i,ie,m),b(i,be,m),b(i,$,m),Re(z,$,null),v($,Oe),A&&A.m($,null),g=!0},p(i,m){var C,fe;(!g||m&1)&&r!==(r=i[0].type+"")&&G(o,r),i[3]?V||(V=Ke(),V.c(),V.m(a,h)):V&&(V.d(1),V=null),te===(te=Ne(i,m))&&D?D.p(i,m):(D&&D.d(1),D=te&&te(i),D&&(D.c(),D.m(a,null))),(!g||m&1)&&R!==(R=(i[0].title?i[0].title:"")+"")&&G(L,R),(!g||m&1)&&se!==(se=i[0].description+"")&&G(re,se);const J={};m&2&&(J.values=i[1]),!Ie&&m&4&&(Ie=!0,J.selected=i[2],$e(()=>Ie=!1)),U.$set(J),i[0].browser?H?H.p(i,m):(H=We(i),H.c(),H.m(ee.parentNode,ee)):H&&(H.d(1),H=null),i[0].stacktrace?y?(y.p(i,m),m&1&&M(y,1)):(y=Xe(i),y.c(),M(y,1),y.m(le.parentNode,le)):y&&(Je(),W(y,1,1,()=>{y=null}),Ge());const F={};m&1&&(F.object=i[0]),z.$set(F),m&16&&(Se=(fe=(C=i[4])==null?void 0:C.permissions)==null?void 0:fe.includes("report.delete")),Se?A?A.p(i,m):(A=Ye(i),A.c(),A.m($,null)):A&&(A.d(1),A=null)},i(i){g||(M(U.$$.fragment,i),M(y),M(z.$$.fragment,i),g=!0)},o(i){W(U.$$.fragment,i),W(y),W(z.$$.fragment,i),g=!1},d(i){i&&u(e),V&&V.d(),D&&D.d(),i&&u(P),i&&u(_),i&&u(d),i&&u(O),i&&u(X),i&&u(Y),i&&u(q),i&&u(x),i&&u(oe),i&&u(ae),i&&u(ue),i&&u(Z),i&&u(ne),we(U,i),i&&u(ce),i&&u(_e),i&&u(pe),H&&H.d(i),i&&u(ee),y&&y.d(i),i&&u(le),i&&u(ie),i&&u(be),i&&u($),we(z),A&&A.d()}}}function Rl(f){let e,l;return{c(){e=T("Loading ... "),l=T(f[5])},l(t){e=I(t,"Loading ... "),l=I(t,f[5])},m(t,r){b(t,e,r),b(t,l,r)},p:Q,i:Q,o:Q,d(t){t&&u(e),t&&u(l)}}}function Ke(f){let e,l;return{c(){e=k("span"),l=T("...")},l(t){e=E(t,"SPAN",{});var r=w(e);l=I(r,"..."),r.forEach(u)},m(t,r){b(t,e,r),v(e,l)},d(t){t&&u(e)}}}function wl(f){let e,l,t,r;return{c(){e=k("button"),l=T("publish"),this.h()},l(o){e=E(o,"BUTTON",{class:!0});var s=w(e);l=I(s,"publish"),s.forEach(u),this.h()},h(){B(e,"class","publish svelte-13w5fsi"),e.disabled=f[3]},m(o,s){b(o,e,s),v(e,l),t||(r=Le(e,"click",f[9]),t=!0)},p(o,s){s&8&&(e.disabled=o[3])},d(o){o&&u(e),t=!1,r()}}}function Tl(f){var S,P;let e,l,t,r,o,s,a,n,c=(P=(S=f[4])==null?void 0:S.permissions)==null?void 0:P.includes("report.update"),p,h=c&&Qe(f);return{c(){e=k("a"),l=T("gh-api"),r=N(),o=k("a"),s=T("gh-issue"),n=N(),h&&h.c(),p=K(),this.h()},l(_){e=E(_,"A",{href:!0});var d=w(e);l=I(d,"gh-api"),d.forEach(u),r=j(_),o=E(_,"A",{href:!0});var O=w(o);s=I(O,"gh-issue"),O.forEach(u),n=j(_),h&&h.l(_),p=K(),this.h()},h(){B(e,"href",t="https://api.github.com/repos/"+f[7]+"/"+f[8]+"/issues/"+f[0].gh_issue),B(o,"href",a="https://github.com/"+f[7]+"/"+f[8]+"/issues/"+f[0].gh_issue)},m(_,d){b(_,e,d),v(e,l),b(_,r,d),b(_,o,d),v(o,s),b(_,n,d),h&&h.m(_,d),b(_,p,d)},p(_,d){var O,R;d&1&&t!==(t="https://api.github.com/repos/"+_[7]+"/"+_[8]+"/issues/"+_[0].gh_issue)&&B(e,"href",t),d&1&&a!==(a="https://github.com/"+_[7]+"/"+_[8]+"/issues/"+_[0].gh_issue)&&B(o,"href",a),d&16&&(c=(R=(O=_[4])==null?void 0:O.permissions)==null?void 0:R.includes("report.update")),c?h?h.p(_,d):(h=Qe(_),h.c(),h.m(p.parentNode,p)):h&&(h.d(1),h=null)},d(_){_&&u(e),_&&u(r),_&&u(o),_&&u(n),h&&h.d(_),_&&u(p)}}}function Qe(f){let e,l,t,r;return{c(){e=k("button"),l=T("unpublish"),this.h()},l(o){e=E(o,"BUTTON",{class:!0});var s=w(e);l=I(s,"unpublish"),s.forEach(u),this.h()},h(){B(e,"class","publish svelte-13w5fsi"),e.disabled=f[3]},m(o,s){b(o,e,s),v(e,l),t||(r=Le(e,"click",f[9]),t=!0)},p(o,s){s&8&&(e.disabled=o[3])},d(o){o&&u(e),t=!1,r()}}}function We(f){let e,l,t,r,o,s=JSON.stringify(f[0].browser,null,2)+"",a,n,c;return{c(){e=k("h3"),l=T("Browser:"),t=N(),r=k("pre"),o=k("code"),a=T(s),n=N(),c=k("br"),this.h()},l(p){e=E(p,"H3",{class:!0});var h=w(e);l=I(h,"Browser:"),h.forEach(u),t=j(p),r=E(p,"PRE",{});var S=w(r);o=E(S,"CODE",{});var P=w(o);a=I(P,s),P.forEach(u),S.forEach(u),n=j(p),c=E(p,"BR",{}),this.h()},h(){B(e,"class","svelte-13w5fsi")},m(p,h){b(p,e,h),v(e,l),b(p,t,h),b(p,r,h),v(r,o),v(o,a),b(p,n,h),b(p,c,h)},p(p,h){h&1&&s!==(s=JSON.stringify(p[0].browser,null,2)+"")&&G(a,s)},d(p){p&&u(e),p&&u(t),p&&u(r),p&&u(n),p&&u(c)}}}function Xe(f){let e,l,t,r,o,s;return o=new pl({props:{stacktrace:f[0].stacktrace}}),{c(){e=k("div"),l=k("h3"),t=T("StackTrace:"),r=N(),ke(o.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var n=w(e);l=E(n,"H3",{class:!0});var c=w(l);t=I(c,"StackTrace:"),c.forEach(u),r=j(n),Ee(o.$$.fragment,n),n.forEach(u),this.h()},h(){B(l,"class","svelte-13w5fsi"),B(e,"class","stack svelte-13w5fsi")},m(a,n){b(a,e,n),v(e,l),v(l,t),v(e,r),Re(o,e,null),s=!0},p(a,n){const c={};n&1&&(c.stacktrace=a[0].stacktrace),o.$set(c)},i(a){s||(M(o.$$.fragment,a),s=!0)},o(a){W(o.$$.fragment,a),s=!1},d(a){a&&u(e),we(o)}}}function Ye(f){let e,l,t,r;return{c(){e=k("button"),l=T("delete"),this.h()},l(o){e=E(o,"BUTTON",{class:!0});var s=w(e);l=I(s,"delete"),s.forEach(u),this.h()},h(){B(e,"class","bg-red-600 rounded-md text-white px-2 py-1 self-start")},m(o,s){b(o,e,s),v(e,l),t||(r=Le(e,"click",f[10]),t=!0)},p:Q,d(o){o&&u(e),t=!1,r()}}}function Il(f){let e,l,t,r;const o=[Rl,El],s=[];function a(n,c){return n[0]?1:0}return e=a(f),l=s[e]=o[e](f),{c(){l.c(),t=K()},l(n){l.l(n),t=K()},m(n,c){s[e].m(n,c),b(n,t,c),r=!0},p(n,[c]){let p=e;e=a(n),e===p?s[e].p(n,c):(Je(),W(s[p],1,1,()=>{s[p]=null}),Ge(),l=s[e],l?l.p(n,c):(l=s[e]=o[e](n),l.c()),M(l,1),l.m(t.parentNode,t))},i(n){r||(M(l),r=!0)},o(n){W(l),r=!1},d(n){s[e].d(n),n&&u(t)}}}async function jl({page:f}){console.log("Looad",f.params);const e=await ll(f.params.reportId),l=await tl();return{props:{report:e,reportLabels:l}}}function Ol(f,e,l){let t,r;Ue(f,nl,L=>l(15,t=L)),Ue(f,ol,L=>l(4,r=L));const{reportId:o}=t.params,{VITE_API_URL:s="http://localhost:3000",VITE_GH_ORG:a,VITE_GH_REPO:n}={VITE_API_URL:"https://plant-api.jim-fx.com",VITE_SVELTEKIT_AMP:"",VITE_GH_ORG:"jim-fx",VITE_GH_REPO:"plantarium",BASE_URL:"/admin/_app/",MODE:"production",DEV:!1,PROD:!0};let{report:c}=e,{reportLabels:p}=e,h=!1,S;async function P(){S||(c.gh_issue?l(3,S=il(o)):l(3,S=sl(o)),l(0,c.gh_issue=await S,c),l(0,c),l(2,_),S.then(()=>l(3,S=null)))}let _=c.labels;async function d(){!h||al(o,_)}async function O(){await ul("Delete Report?",{values:["yes","no"]})==="yes"&&fl(o)}el(async()=>{rl(),setTimeout(()=>{h=!0},500)});function R(L){_=L,l(2,_)}return f.$$set=L=>{"report"in L&&l(0,c=L.report),"reportLabels"in L&&l(1,p=L.reportLabels)},f.$$.update=()=>{f.$$.dirty&4&&l(0,c.labels=_,c),f.$$.dirty&5&&c.labels&&_&&d()},[c,p,_,S,r,o,s,a,n,P,O,R]}class yl extends he{constructor(e){super();de(this,e,Ol,Il,ve,{report:0,reportLabels:1})}}export{yl as default,jl as load};
