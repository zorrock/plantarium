var Nn=Object.create;var je=Object.defineProperty;var Sn=Object.getOwnPropertyDescriptor;var Dn=Object.getOwnPropertyNames;var Rn=Object.getPrototypeOf,Ln=Object.prototype.hasOwnProperty;var K=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ce=(e,t)=>{for(var n in t)je(e,n,{get:t[n],enumerable:!0})},$n=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Dn(t))!Ln.call(e,s)&&s!==n&&je(e,s,{get:()=>t[s],enumerable:!(r=Sn(t,s))||r.enumerable});return e};var _t=(e,t,n)=>(n=e!=null?Nn(Rn(e)):{},$n(t||!e||!e.__esModule?je(n,"default",{value:e,enumerable:!0}):n,e));var Ct=K((Ze,Xe)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof Ze<"u"?t():(t(),e.FileSaver={})})(Ze,function(){"use strict";function e(o,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function t(o,l,c){var f=new XMLHttpRequest;f.open("GET",o),f.responseType="blob",f.onload=function(){a(f.response,l,c)},f.onerror=function(){console.error("could not download file")},f.send()}function n(o){var l=new XMLHttpRequest;l.open("HEAD",o,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function r(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(l)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,i=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(o,l,c){var f=s.URL||s.webkitURL,d=document.createElement("a");l=l||o.name||"download",d.download=l,d.rel="noopener",typeof o=="string"?(d.href=o,d.origin===location.origin?r(d):n(d.href)?t(o,l,c):r(d,d.target="_blank")):(d.href=f.createObjectURL(o),setTimeout(function(){f.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(o,l,c){if(l=l||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(e(o,c),l);else if(n(o))t(o,l,c);else{var f=document.createElement("a");f.href=o,f.target="_blank",setTimeout(function(){r(f)})}}:function(o,l,c,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof o=="string")return t(o,l,c);var d=o.type==="application/octet-stream",u=/constructor/i.test(s.HTMLElement)||s.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&u||i)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var x=m.result;x=p?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=x:location=x,f=null},m.readAsDataURL(o)}else{var v=s.URL||s.webkitURL,h=v.createObjectURL(o);f?f.location=h:location.href=h,f=null,setTimeout(function(){v.revokeObjectURL(h)},4e4)}});s.saveAs=a.saveAs=a,typeof Xe<"u"&&(Xe.exports=a)})});var Oe=K(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});function J1(e){var t=new Uint32Array(1);return t[0]=e[0]*1664525+1013904223,t}ct.default=J1});var hn=K(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.makeNoise2D=void 0;var Te=Oe(),Q1=1/47,ut=(Math.sqrt(2+1)-1)/2,Z1=(1/Math.sqrt(2+1)-1)/2;function un(e,t,n){return{dx:-t-e*ut,dy:-n-e*ut,xsb:t,ysb:n}}function X1(e){for(var t=[],n=0;n<de.length;n+=4){for(var r=K1[de[n]],s=null,i=null,a=0;a<r.length;a+=3)i=un(r[a],r[a+1],r[a+2]),s===null?t[n/4]=i:s.next=i,s=i;i.next=un(de[n+1],de[n+2],de[n+3])}for(var o=[],n=0;n<ft.length;n+=2)o[ft[n]]=t[ft[n+1]];for(var l=new Uint8Array(256),c=new Uint8Array(256),f=new Uint8Array(256),n=0;n<256;n++)f[n]=n;var d=new Uint32Array(1);d[0]=e,d=Te.default(Te.default(Te.default(d)));for(var n=255;n>=0;n--){d=Te.default(d);var u=new Uint32Array(1);u[0]=(d[0]+31)%(n+1),u[0]<0&&(u[0]+=n+1),l[n]=f[u[0]],c[n]=l[n]&14,f[u[0]]=f[n]}return function(p,m){for(var v=(p+m)*Z1,h=p+v,x=m+v,b=Math.floor(h),_=Math.floor(x),w=(b+_)*ut,g=p-(b+w),y=m-(_+w),M=h-b,A=x-_,O=M+A,S=M-A+1|O<<1|O+A<<2|O+M<<4,N=0,E=o[S];E!==void 0;E=E.next){var z=g+E.dx,F=y+E.dy,R=2-z*z-F*F;if(R>0){var k=b+E.xsb,L=_+E.ysb,I=l[k&255],P=c[I+L&255],J=dn[P]*z+dn[P+1]*F;N+=R*R*R*R*J}}return N*Q1}}Ne.makeNoise2D=X1;var K1=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],dn=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],ft=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],de=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0]});var pn=K(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.makeNoise3D=void 0;var Se=Oe(),es=1/103,De=(Math.sqrt(3+1)-1)/3,ts=(1/Math.sqrt(3+1)-1)/3;function dt(e,t,n,r){return{dx:-t-e*De,dy:-n-e*De,dz:-r-e*De,xsb:t,ysb:n,zsb:r}}function ns(e){for(var t=[],n=0;n<G.length;n+=9){for(var r=rs[G[n]],s=null,i=null,a=0;a<r.length;a+=4)i=dt(r[a],r[a+1],r[a+2],r[a+3]),s===null?t[n/9]=i:s.next=i,s=i;i.next=dt(G[n+1],G[n+2],G[n+3],G[n+4]),i.next.next=dt(G[n+5],G[n+6],G[n+7],G[n+8])}for(var o=[],n=0;n<pt.length;n+=2)o[pt[n]]=t[pt[n+1]];for(var l=new Uint8Array(256),c=new Uint8Array(256),f=new Uint8Array(256),n=0;n<256;n++)f[n]=n;var d=new Uint32Array(1);d[0]=e,d=Se.default(Se.default(Se.default(d)));for(var n=255;n>=0;n--){d=Se.default(d);var u=new Uint32Array(1);u[0]=(d[0]+31)%(n+1),u[0]<0&&(u[0]+=n+1),l[n]=f[u[0]],c[n]=l[n]%24*3,f[u[0]]=f[n]}return function(p,m,v){for(var h=(p+m+v)*ts,x=p+h,b=m+h,_=v+h,w=Math.floor(x),g=Math.floor(b),y=Math.floor(_),M=(w+g+y)*De,A=p-(w+M),O=m-(g+M),S=v-(y+M),N=x-w,E=b-g,z=_-y,F=N+E+z,R=E-z+1|N-E+1<<1|N-z+1<<2|F<<3|F+z<<5|F+E<<7|F+N<<9,k=0,L=o[R];L!==void 0;L=L.next){var I=A+L.dx,P=O+L.dy,J=S+L.dz,H=2-I*I-P*P-J*J;if(H>0){var V=w+L.xsb,oe=g+L.ysb,le=y+L.zsb,ce=l[V&255],fe=l[ce+oe&255],U=c[fe+le&255],Ve=ht[U]*I+ht[U+1]*P+ht[U+2]*J;k+=H*H*H*H*Ve}}return k*es}}Re.makeNoise3D=ns;var rs=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],ht=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],pt=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],G=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0]});var mn=K(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.makeNoise4D=void 0;var Le=Oe(),ss=1/30,he=(Math.sqrt(4+1)-1)/4,is=(1/Math.sqrt(4+1)-1)/4;function $e(e,t,n,r,s){return{dx:-t-e*he,dy:-n-e*he,dz:-r-e*he,dw:-s-e*he,xsb:t,ysb:n,zsb:r,wsb:s}}function as(e){for(var t=[],n=0;n<$.length;n+=16){for(var r=os[$[n]],s=null,i=null,a=0;a<r.length;a+=5)i=$e(r[a],r[a+1],r[a+2],r[a+3],r[a+4]),s===null?t[n/16]=i:s.next=i,s=i;i.next=$e($[n+1],$[n+2],$[n+3],$[n+4],$[n+5]),i.next.next=$e($[n+6],$[n+7],$[n+8],$[n+9],$[n+10]),i.next.next.next=$e($[n+11],$[n+12],$[n+13],$[n+14],$[n+15])}for(var o=[],n=0;n<mt.length;n+=2)o[mt[n]]=t[mt[n+1]];for(var l=new Uint8Array(256),c=new Uint8Array(256),f=new Uint8Array(256),n=0;n<256;n++)f[n]=n;var d=new Uint32Array(1);d[0]=e,d=Le.default(Le.default(Le.default(d)));for(var n=255;n>=0;n--){d=Le.default(d);var u=new Uint32Array(1);u[0]=(d[0]+31)%(n+1),u[0]<0&&(u[0]+=n+1),l[n]=f[u[0]],c[n]=l[n]&252,f[u[0]]=f[n]}return function(p,m,v,h){for(var x=(p+m+v+h)*is,b=p+x,_=m+x,w=v+x,g=h+x,y=Math.floor(b),M=Math.floor(_),A=Math.floor(w),O=Math.floor(g),S=(y+M+A+O)*he,N=p-(y+S),E=m-(M+S),z=v-(A+S),F=h-(O+S),R=b-y,k=_-M,L=w-A,I=g-O,P=R+k+L+I,J=L-I+1|k-L+1<<1|k-I+1<<2|R-k+1<<3|R-L+1<<4|R-I+1<<5|P<<6|P+I<<8|P+L<<11|P+k<<14|P+R<<17,H=0,V=o[J];V!==void 0;V=V.next){var oe=N+V.dx,le=E+V.dy,ce=z+V.dz,fe=F+V.dw,U=2-oe*oe-le*le-ce*ce-fe*fe;if(U>0){var Ve=y+V.xsb,Mn=M+V.ysb,An=A+V.zsb,Fn=O+V.wsb,En=l[Ve&255],zn=l[En+Mn&255],On=l[zn+An&255],me=c[On+Fn&255],Tn=ke[me]*oe+ke[me+1]*le+ke[me+2]*ce+ke[me+3]*fe;H+=U*U*U*U*Tn}}return H*ss}}Pe.makeNoise4D=as;var os=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],ke=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],mt=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],$=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1]});var vn=K(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.makeNoise4D=Y.makeNoise3D=Y.makeNoise2D=void 0;var ls=hn();Object.defineProperty(Y,"makeNoise2D",{enumerable:!0,get:function(){return ls.makeNoise2D}});var cs=pn();Object.defineProperty(Y,"makeNoise3D",{enumerable:!0,get:function(){return cs.makeNoise3D}});var fs=mn();Object.defineProperty(Y,"makeNoise4D",{enumerable:!0,get:function(){return fs.makeNoise4D}})});function Ge(e){let t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function ve(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function wt(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Ue(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function qe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Mt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function At(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function ye(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Ft(e,t){let n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)}function Et(e,t){let n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}function Be(e){let t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function zt(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Ot(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function xe(e,t){let n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function He(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ye(e,t,n){let r=t[0],s=t[1],i=t[2],a=n[0],o=n[1],l=n[2];return e[0]=s*l-i*o,e[1]=i*a-r*l,e[2]=r*o-s*a,e}function Tt(e,t,n,r){let s=t[0],i=t[1],a=t[2];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e}function Nt(e,t,n){let r=t[0],s=t[1],i=t[2],a=n[3]*r+n[7]*s+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/a,e}function St(e,t,n){let r=t[0],s=t[1],i=t[2],a=n[3]*r+n[7]*s+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*s+n[8]*i)/a,e[1]=(n[1]*r+n[5]*s+n[9]*i)/a,e[2]=(n[2]*r+n[6]*s+n[10]*i)/a,e}function Dt(e,t,n){let r=t[0],s=t[1],i=t[2],a=n[0],o=n[1],l=n[2],c=n[3],f=o*i-l*s,d=l*r-a*i,u=a*s-o*r,p=o*u-l*d,m=l*f-a*u,v=a*d-o*f,h=c*2;return f*=h,d*=h,u*=h,p*=2,m*=2,v*=2,e[0]=r+f+p,e[1]=s+d+m,e[2]=i+u+v,e}var Rt=function(){let e=[0,0,0],t=[0,0,0];return function(n,r){ve(e,n),ve(t,r),xe(e,e),xe(t,t);let s=He(e,t);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();function Lt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var $t=e=>!!e.length;var T=class extends Array{constructor(t=0,n=t,r=t){return super(t,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,n=t,r=t){return $t(t)?this.copy(t):(wt(this,t,n,r),this)}copy(t){return ve(this,t),this}add(t,n){return n?Ue(this,t,n):Ue(this,this,t),this}sub(t,n){return n?qe(this,t,n):qe(this,this,t),this}multiply(t){return t.length?Mt(this,this,t):ye(this,this,t),this}divide(t){return t.length?At(this,this,t):ye(this,this,1/t),this}inverse(t=this){return Ot(this,t),this}len(){return Ge(this)}distance(t){return t?Ft(this,t):Ge(this)}squaredLen(){return Be(this)}squaredDistance(t){return t?Et(this,t):Be(this)}negate(t=this){return zt(this,t),this}cross(t,n){return n?Ye(this,t,n):Ye(this,this,t),this}scale(t){return ye(this,this,t),this}normalize(){return xe(this,this),this}dot(t){return He(this,t)}equals(t){return Lt(this,t)}applyMatrix4(t){return Nt(this,this,t),this}scaleRotateMatrix4(t){return St(this,this,t),this}applyQuaternion(t){return Dt(this,this,t),this}angle(t){return Rt(this,t)}lerp(t,n){return Tt(this,this,t,n),this}clone(){return new T(this[0],this[1],this[2])}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}transformDirection(t){let n=this[0],r=this[1],s=this[2];return this[0]=t[0]*n+t[4]*r+t[8]*s,this[1]=t[1]*n+t[5]*r+t[9]*s,this[2]=t[2]*n+t[6]*r+t[10]*s,this.normalize()}};var Q=new T,Pn=1,In=1,kt=!1,ge=class{constructor(t,n={}){this.raycast="box",t.canvas||console.error("gl not passed as fist argument to Geometry"),this.gl=t,this.attributes=n,this.id=Pn++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(t,n){if(this.attributes[t]=n,n.id=In++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.buffer||(n.buffer=this.gl.createBuffer(),this.updateAttribute(n)),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else t==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(t){this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),this.gl.bufferData(t.target,t.data,this.gl.STATIC_DRAW),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((n,{name:r,type:s})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}let i=this.attributes[r];this.gl.bindBuffer(i.target,i.buffer),this.glState.boundBuffer=i.buffer;let a=1;s===35674&&(a=2),s===35675&&(a=3),s===35676&&(a=4);let o=i.size/a,l=a===1?0:a*a*a,c=a===1?0:a*a;for(let f=0;f<a;f++)this.gl.vertexAttribPointer(n+f,o,i.type,i.normalized,i.stride+l,i.offset+f*c),this.gl.enableVertexAttribArray(n+f),this.gl.renderer.vertexAttribDivisor(n+f,i.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((r,{name:s})=>{let i=this.attributes[s];i.needsUpdate&&this.updateAttribute(i)}),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){let t=this.attributes.position;if(t.data)return t;if(!kt)return console.warn("No position buffer data found to compute bounds"),kt=!0}computeBoundingBox(t=null){t||(t=this.getPosition());let n=t.data,r=t.offset||0,s=t.stride||t.size;this.bounds||(this.bounds={min:new T,max:new T,center:new T,scale:new T,radius:1/0});let i=this.bounds.min,a=this.bounds.max,o=this.bounds.center,l=this.bounds.scale;i.set(1/0),a.set(-1/0);for(let c=r,f=n.length;c<f;c+=s){let d=n[c],u=n[c+1],p=n[c+2];i.x=Math.min(d,i.x),i.y=Math.min(u,i.y),i.z=Math.min(p,i.z),a.x=Math.max(d,a.x),a.y=Math.max(u,a.y),a.z=Math.max(p,a.z)}l.sub(a,i),o.add(i,a).divide(2)}computeBoundingSphere(t=null){t||(t=this.getPosition());let n=t.data,r=t.offset||0,s=t.stride||t.size;this.bounds||this.computeBoundingBox(t);let i=0;for(let a=r,o=n.length;a<o;a+=s)Q.fromArray(n,a),i=Math.max(i,this.bounds.center.squaredDistance(Q));this.bounds.radius=Math.sqrt(i)}computeVertexNormals(){let t=this.attributes.position;if(!t)return;let n=this.attributes.normal;n?n.data.fill(0):(this.addAttribute("normal",{size:3,data:new Float32Array(t.count*3)}),n=this.attributes.normal);let r=new T,s=new T,i=new T,a=new T,o=new T,l=new T,c=new T,f=new T,d=this.attributes.index;if(d){let u,p,m;for(let v=0,h=d.count;v<h;v+=3)u=d.data[v],p=d.data[v+1],m=d.data[v+2],r.fromArray(t.data,u*t.size),s.fromArray(t.data,p*t.size),i.fromArray(t.data,m*t.size),c.sub(i,s),f.sub(r,s),c.cross(f),a.fromArray(n.data,u*n.size),o.fromArray(n.data,p*n.size),l.fromArray(n.data,m*n.size),a.add(c),o.add(c),l.add(c),u*=n.size,n.data[u]=a.x,n.data[u+1]=a.y,n.data[u+2]=a.z,p*=n.size,n.data[p]=o.x,n.data[p+1]=o.y,n.data[p+2]=o.z,m*=n.size,n.data[m]=l.x,n.data[m+1]=l.y,n.data[m+2]=l.z}else for(let u=0,p=t.count;u<p;u+=3)r.fromArray(t.data,u*t.size),s.fromArray(t.data,(u+1)*t.size),i.fromArray(t.data,(u+2)*t.size),c.sub(i,s),f.sub(r,s),c.cross(f),n.data[u*n.size]=c.x,n.data[u*n.size+1]=c.y,n.data[u*n.size+2]=c.z,n.data[(u+1)*n.size]=c.x,n.data[(u+1)*n.size+1]=c.y,n.data[(u+1)*n.size+2]=c.z,n.data[(u+2)*n.size]=c.x,n.data[(u+2)*n.size+1]=c.y,n.data[(u+2)*n.size+2]=c.z;this.normalizeNormals(),n.needsUpdate=!0}normalizeNormals(){let t=this.attributes.normal;for(let n=0,r=t.count;n<r;n++)Q.fromArray(t.data,n*t.size),Q.normalize(),t.data[n*t.size]=Q.x,t.data[n*t.size+1]=Q.y,t.data[n*t.size+2]=Q.z}remove(){for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}};var Pt={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function It(e){e.length===4&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn(`Unable to convert hex string ${e} to rgb values`),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function Vn(e){return e=parseInt(e),[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255]}function We(e=null){return e?arguments.length===3?arguments:isNaN(e)?e[0]==="#"?It(e):Pt[e.toLowerCase()]?It(Pt[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Vn(e):[0,0,0]}var be=class extends Array{constructor(t=null){Array.isArray(t)?super(...t):super(...We(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(We(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}};var Vt;function Je(e){let t=e.position,n=e.index,r=e.normal;for(let s=0;s<n.length/3;s++){let i=new T(t[n[s*3+0]*3+0],t[n[s*3+0]*3+1],t[n[s*3+0]*3+2]),a=new T(t[n[s*3+1]*3+0]-i.x,t[n[s*3+1]*3+1]-i.y,t[n[s*3+1]*3+2]-i.z),o=new T(t[n[s*3+2]*3+0]-i.x,t[n[s*3+2]*3+1]-i.y,t[n[s*3+2]*3+2]-i.z),l=new T().cross(a,o).normalize();l[0]===0&&l[1]===0&&l[3]===0&&(l=Vt);for(let c=0;c<3;c++)r[n[s*3+c]*3+0]=l.x,r[n[s*3+c]*3+1]=l.y,r[n[s*3+c]*3+2]=l.z;Vt=l}return e}function Cn(e,t=[0,0,0],n=[0,0,0],r=[1,1,1]){let s=new Float32Array(e.position.length),i=e.position.length,a=e.position;for(let o=0;o<i;o+=3){let l=a[o+0]*r[0],c=a[o+1]*r[1],f=a[o+2]*r[2],d=l,u=Math.cos(n[0])*c-Math.sin(n[0])*f,p=Math.sin(n[0])*c+Math.cos(n[0])*f,m=Math.cos(n[1])*d-Math.sin(n[1])*p,v=u,h=Math.sin(n[1])*d+Math.cos(n[1])*p;s[o+0]=m+t[0],s[o+1]=v+t[1],s[o+2]=h+t[2]}return{position:s,uv:e.uv,normal:e.normal,index:e.index}}function Qe(e){if(Array.isArray(e))return e.map(o=>Qe(o)).flat();let t=[],n={position:e.position,normal:e.normal,uv:e.uv,index:e.index},r=e.offset,s=e.rotation,i=e.scale,a=e.offset.length;for(let o=0;o<a;o+=3)t.push(Cn(n,[r[o+0],r[o+1],r[o+2]],[s[o+0],s[o+1],s[o+2]],[i[o+0],i[o+1],i[o+2]]));return t}var we={};Ce(we,{computeControlPoints:()=>_e,drawControlPoints:()=>qn,drawCurve:()=>Bn,drawLinear:()=>Un,drawSamplePoints:()=>Hn,toArray:()=>jt});function Gn(e,t,n,r,s,i,a,o,l,c){let f=s-n,d=a-s,u=l-a,p=i-r,m=o-i,v=c-o,h,x,b,_,w=-1e4,g=-1e4,y=[{x:n,y:r}];for(let M=1;M<e;M++){let A=M/e;h=n+f*A,b=s+d*A;let O=a+u*A;h+=(b-h)*A,b+=(O-b)*A,x=r+p*A,_=i+m*A;let S=o+v*A;x+=(_-x)*A,_+=(S-_)*A;let N=h+(b-h)*A,E=x+(_-x)*A,z=N-w,F=E-g;z*z+F*F>t&&(y.push({x:N,y:E}),w=N,g=E)}return y.push({x:l,y:c}),y}function _e(e){let t=e.length-1;return e.map((n,r,s)=>{if(r===0)return{rx:s[r+1].x*.4*0,ry:n.y+(s[r+1].y-n.y)*.4*0};if(r===t)return{lx:s[r-1].x+(n.x-s[r-1].x)*.4*2,ly:s[r-1].y+(n.y-s[r-1].y)*.4*2};if(n.y>s[r+1].y&&n.y>s[r-1].y||n.y<s[r+1].y&&n.y<s[r-1].y)return{lx:s[r-1].x+(n.x-s[r-1].x)*.4,ly:n.y,rx:n.x+(s[r+1].x-n.x)*.4,ry:n.y};{let a={x:s[r-1].x-s[r+1].x,y:s[r-1].y-s[r+1].y},o=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));a.x/=o,a.y/=o;let l=s[r+1].x-n.x,c=n.x-s[r-1].x;return{lx:n.x+a.x*c*.4,ly:n.y+a.y*c*.4,rx:n.x-a.x*l*.4,ry:n.y-a.y*l*.4}}})}function Un(e,t){e.save(),e.beginPath(),t.forEach((n,r,s)=>{r<s.length-1&&(e.strokeStyle="gray",e.moveTo(n.x,n.y),e.lineTo(s[r+1].x,s[r+1].y))}),e.stroke(),e.restore()}function qn(e,t){_e(t).forEach((n,r)=>{"rx"in n&&"ry"in n&&(e.fillRect(n.rx-1,n.ry-1,2,2),e.beginPath(),e.moveTo(t[r].x,t[r].y),e.lineTo(n.rx,n.ry),e.stroke()),"lx"in n&&"ly"in n&&(e.fillRect(n.lx-1,n.ly-1,2,2),e.beginPath(),e.moveTo(t[r].x,t[r].y),e.lineTo(n.lx,n.ly),e.stroke())})}function Bn(e,t){let n=_e(t);t.forEach((r,s,i)=>{s<i.length-1&&(e.moveTo(r.x,r.y),e.bezierCurveTo(n[s].rx,n[s].ry,n[s+1].lx,n[s+1].ly,i[s+1].x,i[s+1].y),e.stroke())})}function jt(e){let t=e.length-1,n={},r=_e(e);return e.map((s,i,a)=>{if(i<t)return Gn(t*20,0,s.x,s.y,r[i].rx,r[i].ry,r[i+1].lx,r[i+1].ly,a[i+1].x,a[i+1].y)}).flat().filter(s=>!s||s.x in n?!1:(n[s.x]=!0,!0))}function Hn(e,t){e.save(),e.fillStyle="red",jt(t).forEach(n=>{e.fillRect(n.x-1,n.y-1,2,2)}),e.restore()}var Yn=_t(Ct(),1);var Qn={amountEmitters:0,amountCallbacks:0,emitters:[]};typeof self<"u"&&"window"in self&&(globalThis.debug=Qn);function ue(){}function Gt(e){return e()}function Ke(e){e.forEach(Gt)}function Ut(e){return typeof e=="function"}function qt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Xn(e){return Object.keys(e).length===0}var si=Promise.resolve();var ii=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Kn(e,t){let n=e.$$;n.fragment!==null&&(Ke(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}var er;typeof HTMLElement=="function"&&(er=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(Gt).filter(Ut);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){Ke(this.$$.on_disconnect)}$destroy(){Kn(this,1),this.$destroy=ue}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Xn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var ee=[];function Bt(e,t=ue){let n,r=new Set;function s(o){if(qt(e,o)&&(e=o,n)){let l=!ee.length;for(let c of r)c[1](),ee.push(c,e);if(l){for(let c=0;c<ee.length;c+=2)ee[c][0](ee[c+1]);ee.length=0}}}function i(o){s(o(e))}function a(o,l=ue){let c=[o,l];return r.add(c),r.size===1&&(n=t(s)||ue),o(e),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:a}}var tr=typeof globalThis.WorkerGlobalScope<"u"&&self instanceof globalThis.WorkerGlobalScope,Me=[],Ae=2,Z=0,nr={},et=0,rr=["#00ffff","#f0ffff","#f5f5dc","#000000","#0000ff","#a52a2a","#00ffff","#00008b","#008b8b","#a9a9a9","#006400","#bdb76b","#8b008b","#556b2f","#ff8c00","#9932cc","#8b0000","#e9967a","#9400d3","#ff00ff","#ffd700","#008000","#4b0082","#f0e68c","#add8e6","#e0ffff","#90ee90","#d3d3d3","#ffb6c1","#ffffe0","#00ff00","#ff00ff","#800000","#000080","#808000","#ffa500","#ffc0cb","#800080","#800080","#ff0000","#c0c0c0","#ffffff","#ffff00"],tt="plant.log.history",nt="localStorage"in globalThis,te=nt?tt in localStorage?JSON.parse(localStorage.getItem(tt)):[]:[];nt&&(Ae=parseInt(localStorage.getItem("pt-log-level"))||2);function sr(){nt&&localStorage.setItem(tt,JSON.stringify(te))}var ne;function Fe(e){Z=Math.max(Z,e.length);let t=et;nr[e]=rr[et],et++;let n=(s,i)=>{if(!tr&&(te.push({scope:e,args:s,level:Ae,date:Date.now()}),te.length=Math.min(100,te.length),ne&&ne.set(te),sr(),(!Me.length||Me.includes(e))&&i<=Ae)){if(s instanceof Error){console.error(`[${e.padEnd(Z," ")}]`,s);return}if(Array.isArray(s)&&typeof s[0]=="string"&&typeof s[1]=="object"){console.groupCollapsed(`%c[${e.padEnd(Z," ")}]`,`color: hsl(${t*30}deg 68% 64%); font-weight: bold;`,s[0]),console.log(...s.slice(1)),console.groupEnd();return}if(i===0){console.error(`%c[${e.padEnd(Z," ")}]`,`color: hsl(${t*30}deg 68% 64%); font-weight: bold;`,...s);return}if(i===1){console.warn(`[${e.padEnd(Z," ")}]`,...s);return}i===2&&console.log(`%c[${e.padEnd(Z," ")}]`,`color: hsl(${t*30}deg 68% 64%); font-weight: bold;`,...s)}},r=(...s)=>n(s,2);return r.warn=(...s)=>n(s,1),r.error=s=>n(s,0),r}Fe.getStore=function(){return ne||(ne=Bt([]),ne)};Fe.getHistory=function(){return[...te]};Fe.setFilter=(...e)=>{Me=e,console.log("[log] set filter",{filters:Me})};Fe.setLevel=(e=0)=>{Ae=e,localStorage.setItem("pt-log-level",""+e)};function ar(e){return we.toArray(e).map(t=>t.y)}var D=1e-6,j=typeof Float32Array<"u"?Float32Array:Array,rt=Math.random;var ha=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Ee={};Ce(Ee,{add:()=>qr,adjoint:()=>pr,clone:()=>lr,copy:()=>cr,create:()=>or,determinant:()=>mr,equals:()=>Wr,exactEquals:()=>Yr,frob:()=>Ur,fromQuat:()=>Rr,fromQuat2:()=>Or,fromRotation:()=>Ar,fromRotationTranslation:()=>Jt,fromRotationTranslationScale:()=>Sr,fromRotationTranslationScaleOrigin:()=>Dr,fromScaling:()=>Mr,fromTranslation:()=>wr,fromValues:()=>fr,fromXRotation:()=>Fr,fromYRotation:()=>Er,fromZRotation:()=>zr,frustum:()=>Lr,getRotation:()=>Nr,getScaling:()=>Qt,getTranslation:()=>Tr,identity:()=>Yt,invert:()=>hr,lookAt:()=>jr,mul:()=>Jr,multiply:()=>Wt,multiplyScalar:()=>Br,multiplyScalarAndAdd:()=>Hr,ortho:()=>Ir,orthoNO:()=>Xt,orthoZO:()=>Vr,perspective:()=>$r,perspectiveFromFieldOfView:()=>Pr,perspectiveNO:()=>Zt,perspectiveZO:()=>kr,rotate:()=>yr,rotateX:()=>gr,rotateY:()=>br,rotateZ:()=>_r,scale:()=>xr,set:()=>ur,str:()=>Gr,sub:()=>Qr,subtract:()=>Kt,targetTo:()=>Cr,translate:()=>vr,transpose:()=>dr});function or(){var e=new j(16);return j!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function lr(e){var t=new j(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function cr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function fr(e,t,n,r,s,i,a,o,l,c,f,d,u,p,m,v){var h=new j(16);return h[0]=e,h[1]=t,h[2]=n,h[3]=r,h[4]=s,h[5]=i,h[6]=a,h[7]=o,h[8]=l,h[9]=c,h[10]=f,h[11]=d,h[12]=u,h[13]=p,h[14]=m,h[15]=v,h}function ur(e,t,n,r,s,i,a,o,l,c,f,d,u,p,m,v,h){return e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=a,e[6]=o,e[7]=l,e[8]=c,e[9]=f,e[10]=d,e[11]=u,e[12]=p,e[13]=m,e[14]=v,e[15]=h,e}function Yt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function dr(e,t){if(e===t){var n=t[1],r=t[2],s=t[3],i=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=s,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function hr(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],a=t[4],o=t[5],l=t[6],c=t[7],f=t[8],d=t[9],u=t[10],p=t[11],m=t[12],v=t[13],h=t[14],x=t[15],b=n*o-r*a,_=n*l-s*a,w=n*c-i*a,g=r*l-s*o,y=r*c-i*o,M=s*c-i*l,A=f*v-d*m,O=f*h-u*m,S=f*x-p*m,N=d*h-u*v,E=d*x-p*v,z=u*x-p*h,F=b*z-_*E+w*N+g*S-y*O+M*A;return F?(F=1/F,e[0]=(o*z-l*E+c*N)*F,e[1]=(s*E-r*z-i*N)*F,e[2]=(v*M-h*y+x*g)*F,e[3]=(u*y-d*M-p*g)*F,e[4]=(l*S-a*z-c*O)*F,e[5]=(n*z-s*S+i*O)*F,e[6]=(h*w-m*M-x*_)*F,e[7]=(f*M-u*w+p*_)*F,e[8]=(a*E-o*S+c*A)*F,e[9]=(r*S-n*E-i*A)*F,e[10]=(m*y-v*w+x*b)*F,e[11]=(d*w-f*y-p*b)*F,e[12]=(o*O-a*N-l*A)*F,e[13]=(n*N-r*O+s*A)*F,e[14]=(v*_-m*g-h*b)*F,e[15]=(f*g-d*_+u*b)*F,e):null}function pr(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],a=t[4],o=t[5],l=t[6],c=t[7],f=t[8],d=t[9],u=t[10],p=t[11],m=t[12],v=t[13],h=t[14],x=t[15];return e[0]=o*(u*x-p*h)-d*(l*x-c*h)+v*(l*p-c*u),e[1]=-(r*(u*x-p*h)-d*(s*x-i*h)+v*(s*p-i*u)),e[2]=r*(l*x-c*h)-o*(s*x-i*h)+v*(s*c-i*l),e[3]=-(r*(l*p-c*u)-o*(s*p-i*u)+d*(s*c-i*l)),e[4]=-(a*(u*x-p*h)-f*(l*x-c*h)+m*(l*p-c*u)),e[5]=n*(u*x-p*h)-f*(s*x-i*h)+m*(s*p-i*u),e[6]=-(n*(l*x-c*h)-a*(s*x-i*h)+m*(s*c-i*l)),e[7]=n*(l*p-c*u)-a*(s*p-i*u)+f*(s*c-i*l),e[8]=a*(d*x-p*v)-f*(o*x-c*v)+m*(o*p-c*d),e[9]=-(n*(d*x-p*v)-f*(r*x-i*v)+m*(r*p-i*d)),e[10]=n*(o*x-c*v)-a*(r*x-i*v)+m*(r*c-i*o),e[11]=-(n*(o*p-c*d)-a*(r*p-i*d)+f*(r*c-i*o)),e[12]=-(a*(d*h-u*v)-f*(o*h-l*v)+m*(o*u-l*d)),e[13]=n*(d*h-u*v)-f*(r*h-s*v)+m*(r*u-s*d),e[14]=-(n*(o*h-l*v)-a*(r*h-s*v)+m*(r*l-s*o)),e[15]=n*(o*u-l*d)-a*(r*u-s*d)+f*(r*l-s*o),e}function mr(e){var t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],a=e[5],o=e[6],l=e[7],c=e[8],f=e[9],d=e[10],u=e[11],p=e[12],m=e[13],v=e[14],h=e[15],x=t*a-n*i,b=t*o-r*i,_=t*l-s*i,w=n*o-r*a,g=n*l-s*a,y=r*l-s*o,M=c*m-f*p,A=c*v-d*p,O=c*h-u*p,S=f*v-d*m,N=f*h-u*m,E=d*h-u*v;return x*E-b*N+_*S+w*O-g*A+y*M}function Wt(e,t,n){var r=t[0],s=t[1],i=t[2],a=t[3],o=t[4],l=t[5],c=t[6],f=t[7],d=t[8],u=t[9],p=t[10],m=t[11],v=t[12],h=t[13],x=t[14],b=t[15],_=n[0],w=n[1],g=n[2],y=n[3];return e[0]=_*r+w*o+g*d+y*v,e[1]=_*s+w*l+g*u+y*h,e[2]=_*i+w*c+g*p+y*x,e[3]=_*a+w*f+g*m+y*b,_=n[4],w=n[5],g=n[6],y=n[7],e[4]=_*r+w*o+g*d+y*v,e[5]=_*s+w*l+g*u+y*h,e[6]=_*i+w*c+g*p+y*x,e[7]=_*a+w*f+g*m+y*b,_=n[8],w=n[9],g=n[10],y=n[11],e[8]=_*r+w*o+g*d+y*v,e[9]=_*s+w*l+g*u+y*h,e[10]=_*i+w*c+g*p+y*x,e[11]=_*a+w*f+g*m+y*b,_=n[12],w=n[13],g=n[14],y=n[15],e[12]=_*r+w*o+g*d+y*v,e[13]=_*s+w*l+g*u+y*h,e[14]=_*i+w*c+g*p+y*x,e[15]=_*a+w*f+g*m+y*b,e}function vr(e,t,n){var r=n[0],s=n[1],i=n[2],a,o,l,c,f,d,u,p,m,v,h,x;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(a=t[0],o=t[1],l=t[2],c=t[3],f=t[4],d=t[5],u=t[6],p=t[7],m=t[8],v=t[9],h=t[10],x=t[11],e[0]=a,e[1]=o,e[2]=l,e[3]=c,e[4]=f,e[5]=d,e[6]=u,e[7]=p,e[8]=m,e[9]=v,e[10]=h,e[11]=x,e[12]=a*r+f*s+m*i+t[12],e[13]=o*r+d*s+v*i+t[13],e[14]=l*r+u*s+h*i+t[14],e[15]=c*r+p*s+x*i+t[15]),e}function xr(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function yr(e,t,n,r){var s=r[0],i=r[1],a=r[2],o=Math.hypot(s,i,a),l,c,f,d,u,p,m,v,h,x,b,_,w,g,y,M,A,O,S,N,E,z,F,R;return o<D?null:(o=1/o,s*=o,i*=o,a*=o,l=Math.sin(n),c=Math.cos(n),f=1-c,d=t[0],u=t[1],p=t[2],m=t[3],v=t[4],h=t[5],x=t[6],b=t[7],_=t[8],w=t[9],g=t[10],y=t[11],M=s*s*f+c,A=i*s*f+a*l,O=a*s*f-i*l,S=s*i*f-a*l,N=i*i*f+c,E=a*i*f+s*l,z=s*a*f+i*l,F=i*a*f-s*l,R=a*a*f+c,e[0]=d*M+v*A+_*O,e[1]=u*M+h*A+w*O,e[2]=p*M+x*A+g*O,e[3]=m*M+b*A+y*O,e[4]=d*S+v*N+_*E,e[5]=u*S+h*N+w*E,e[6]=p*S+x*N+g*E,e[7]=m*S+b*N+y*E,e[8]=d*z+v*F+_*R,e[9]=u*z+h*F+w*R,e[10]=p*z+x*F+g*R,e[11]=m*z+b*F+y*R,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function gr(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[4],a=t[5],o=t[6],l=t[7],c=t[8],f=t[9],d=t[10],u=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=a*s+f*r,e[6]=o*s+d*r,e[7]=l*s+u*r,e[8]=c*s-i*r,e[9]=f*s-a*r,e[10]=d*s-o*r,e[11]=u*s-l*r,e}function br(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],a=t[1],o=t[2],l=t[3],c=t[8],f=t[9],d=t[10],u=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=a*s-f*r,e[2]=o*s-d*r,e[3]=l*s-u*r,e[8]=i*r+c*s,e[9]=a*r+f*s,e[10]=o*r+d*s,e[11]=l*r+u*s,e}function _r(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],a=t[1],o=t[2],l=t[3],c=t[4],f=t[5],d=t[6],u=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=a*s+f*r,e[2]=o*s+d*r,e[3]=l*s+u*r,e[4]=c*s-i*r,e[5]=f*s-a*r,e[6]=d*s-o*r,e[7]=u*s-l*r,e}function wr(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Mr(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ar(e,t,n){var r=n[0],s=n[1],i=n[2],a=Math.hypot(r,s,i),o,l,c;return a<D?null:(a=1/a,r*=a,s*=a,i*=a,o=Math.sin(t),l=Math.cos(t),c=1-l,e[0]=r*r*c+l,e[1]=s*r*c+i*o,e[2]=i*r*c-s*o,e[3]=0,e[4]=r*s*c-i*o,e[5]=s*s*c+l,e[6]=i*s*c+r*o,e[7]=0,e[8]=r*i*c+s*o,e[9]=s*i*c-r*o,e[10]=i*i*c+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Fr(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Er(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function zr(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Jt(e,t,n){var r=t[0],s=t[1],i=t[2],a=t[3],o=r+r,l=s+s,c=i+i,f=r*o,d=r*l,u=r*c,p=s*l,m=s*c,v=i*c,h=a*o,x=a*l,b=a*c;return e[0]=1-(p+v),e[1]=d+b,e[2]=u-x,e[3]=0,e[4]=d-b,e[5]=1-(f+v),e[6]=m+h,e[7]=0,e[8]=u+x,e[9]=m-h,e[10]=1-(f+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Or(e,t){var n=new j(3),r=-t[0],s=-t[1],i=-t[2],a=t[3],o=t[4],l=t[5],c=t[6],f=t[7],d=r*r+s*s+i*i+a*a;return d>0?(n[0]=(o*a+f*r+l*i-c*s)*2/d,n[1]=(l*a+f*s+c*r-o*i)*2/d,n[2]=(c*a+f*i+o*s-l*r)*2/d):(n[0]=(o*a+f*r+l*i-c*s)*2,n[1]=(l*a+f*s+c*r-o*i)*2,n[2]=(c*a+f*i+o*s-l*r)*2),Jt(e,t,n),e}function Tr(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Qt(e,t){var n=t[0],r=t[1],s=t[2],i=t[4],a=t[5],o=t[6],l=t[8],c=t[9],f=t[10];return e[0]=Math.hypot(n,r,s),e[1]=Math.hypot(i,a,o),e[2]=Math.hypot(l,c,f),e}function Nr(e,t){var n=new j(3);Qt(n,t);var r=1/n[0],s=1/n[1],i=1/n[2],a=t[0]*r,o=t[1]*s,l=t[2]*i,c=t[4]*r,f=t[5]*s,d=t[6]*i,u=t[8]*r,p=t[9]*s,m=t[10]*i,v=a+f+m,h=0;return v>0?(h=Math.sqrt(v+1)*2,e[3]=.25*h,e[0]=(d-p)/h,e[1]=(u-l)/h,e[2]=(o-c)/h):a>f&&a>m?(h=Math.sqrt(1+a-f-m)*2,e[3]=(d-p)/h,e[0]=.25*h,e[1]=(o+c)/h,e[2]=(u+l)/h):f>m?(h=Math.sqrt(1+f-a-m)*2,e[3]=(u-l)/h,e[0]=(o+c)/h,e[1]=.25*h,e[2]=(d+p)/h):(h=Math.sqrt(1+m-a-f)*2,e[3]=(o-c)/h,e[0]=(u+l)/h,e[1]=(d+p)/h,e[2]=.25*h),e}function Sr(e,t,n,r){var s=t[0],i=t[1],a=t[2],o=t[3],l=s+s,c=i+i,f=a+a,d=s*l,u=s*c,p=s*f,m=i*c,v=i*f,h=a*f,x=o*l,b=o*c,_=o*f,w=r[0],g=r[1],y=r[2];return e[0]=(1-(m+h))*w,e[1]=(u+_)*w,e[2]=(p-b)*w,e[3]=0,e[4]=(u-_)*g,e[5]=(1-(d+h))*g,e[6]=(v+x)*g,e[7]=0,e[8]=(p+b)*y,e[9]=(v-x)*y,e[10]=(1-(d+m))*y,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Dr(e,t,n,r,s){var i=t[0],a=t[1],o=t[2],l=t[3],c=i+i,f=a+a,d=o+o,u=i*c,p=i*f,m=i*d,v=a*f,h=a*d,x=o*d,b=l*c,_=l*f,w=l*d,g=r[0],y=r[1],M=r[2],A=s[0],O=s[1],S=s[2],N=(1-(v+x))*g,E=(p+w)*g,z=(m-_)*g,F=(p-w)*y,R=(1-(u+x))*y,k=(h+b)*y,L=(m+_)*M,I=(h-b)*M,P=(1-(u+v))*M;return e[0]=N,e[1]=E,e[2]=z,e[3]=0,e[4]=F,e[5]=R,e[6]=k,e[7]=0,e[8]=L,e[9]=I,e[10]=P,e[11]=0,e[12]=n[0]+A-(N*A+F*O+L*S),e[13]=n[1]+O-(E*A+R*O+I*S),e[14]=n[2]+S-(z*A+k*O+P*S),e[15]=1,e}function Rr(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],a=n+n,o=r+r,l=s+s,c=n*a,f=r*a,d=r*o,u=s*a,p=s*o,m=s*l,v=i*a,h=i*o,x=i*l;return e[0]=1-d-m,e[1]=f+x,e[2]=u-h,e[3]=0,e[4]=f-x,e[5]=1-c-m,e[6]=p+v,e[7]=0,e[8]=u+h,e[9]=p-v,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Lr(e,t,n,r,s,i,a){var o=1/(n-t),l=1/(s-r),c=1/(i-a);return e[0]=i*2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*o,e[9]=(s+r)*l,e[10]=(a+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*c,e[15]=0,e}function Zt(e,t,n,r,s){var i=1/Math.tan(t/2),a;return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(a=1/(r-s),e[10]=(s+r)*a,e[14]=2*s*r*a):(e[10]=-1,e[14]=-2*r),e}var $r=Zt;function kr(e,t,n,r,s){var i=1/Math.tan(t/2),a;return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(a=1/(r-s),e[10]=s*a,e[14]=s*r*a):(e[10]=-1,e[14]=-r),e}function Pr(e,t,n,r){var s=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+o),c=2/(s+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((a-o)*l*.5),e[9]=(s-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function Xt(e,t,n,r,s,i,a){var o=1/(t-n),l=1/(r-s),c=1/(i-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*o,e[13]=(s+r)*l,e[14]=(a+i)*c,e[15]=1,e}var Ir=Xt;function Vr(e,t,n,r,s,i,a){var o=1/(t-n),l=1/(r-s),c=1/(i-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*o,e[13]=(s+r)*l,e[14]=i*c,e[15]=1,e}function jr(e,t,n,r){var s,i,a,o,l,c,f,d,u,p,m=t[0],v=t[1],h=t[2],x=r[0],b=r[1],_=r[2],w=n[0],g=n[1],y=n[2];return Math.abs(m-w)<D&&Math.abs(v-g)<D&&Math.abs(h-y)<D?Yt(e):(f=m-w,d=v-g,u=h-y,p=1/Math.hypot(f,d,u),f*=p,d*=p,u*=p,s=b*u-_*d,i=_*f-x*u,a=x*d-b*f,p=Math.hypot(s,i,a),p?(p=1/p,s*=p,i*=p,a*=p):(s=0,i=0,a=0),o=d*a-u*i,l=u*s-f*a,c=f*i-d*s,p=Math.hypot(o,l,c),p?(p=1/p,o*=p,l*=p,c*=p):(o=0,l=0,c=0),e[0]=s,e[1]=o,e[2]=f,e[3]=0,e[4]=i,e[5]=l,e[6]=d,e[7]=0,e[8]=a,e[9]=c,e[10]=u,e[11]=0,e[12]=-(s*m+i*v+a*h),e[13]=-(o*m+l*v+c*h),e[14]=-(f*m+d*v+u*h),e[15]=1,e)}function Cr(e,t,n,r){var s=t[0],i=t[1],a=t[2],o=r[0],l=r[1],c=r[2],f=s-n[0],d=i-n[1],u=a-n[2],p=f*f+d*d+u*u;p>0&&(p=1/Math.sqrt(p),f*=p,d*=p,u*=p);var m=l*u-c*d,v=c*f-o*u,h=o*d-l*f;return p=m*m+v*v+h*h,p>0&&(p=1/Math.sqrt(p),m*=p,v*=p,h*=p),e[0]=m,e[1]=v,e[2]=h,e[3]=0,e[4]=d*h-u*v,e[5]=u*m-f*h,e[6]=f*v-d*m,e[7]=0,e[8]=f,e[9]=d,e[10]=u,e[11]=0,e[12]=s,e[13]=i,e[14]=a,e[15]=1,e}function Gr(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ur(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function qr(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Kt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Br(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Hr(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Yr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Wr(e,t){var n=e[0],r=e[1],s=e[2],i=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8],d=e[9],u=e[10],p=e[11],m=e[12],v=e[13],h=e[14],x=e[15],b=t[0],_=t[1],w=t[2],g=t[3],y=t[4],M=t[5],A=t[6],O=t[7],S=t[8],N=t[9],E=t[10],z=t[11],F=t[12],R=t[13],k=t[14],L=t[15];return Math.abs(n-b)<=D*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-_)<=D*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(s-w)<=D*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(i-g)<=D*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(a-y)<=D*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(o-M)<=D*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(l-A)<=D*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-O)<=D*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-S)<=D*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(d-N)<=D*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(u-E)<=D*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(p-z)<=D*Math.max(1,Math.abs(p),Math.abs(z))&&Math.abs(m-F)<=D*Math.max(1,Math.abs(m),Math.abs(F))&&Math.abs(v-R)<=D*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(h-k)<=D*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(x-L)<=D*Math.max(1,Math.abs(x),Math.abs(L))}var Jr=Wt,Qr=Kt;var ze={};Ce(ze,{add:()=>t1,angle:()=>M1,bezier:()=>m1,ceil:()=>n1,clone:()=>Zr,copy:()=>Kr,create:()=>en,cross:()=>d1,dist:()=>S1,distance:()=>an,div:()=>N1,divide:()=>sn,dot:()=>cn,equals:()=>z1,exactEquals:()=>E1,floor:()=>r1,forEach:()=>$1,fromValues:()=>Xr,hermite:()=>p1,inverse:()=>f1,len:()=>R1,length:()=>tn,lerp:()=>h1,max:()=>i1,min:()=>s1,mul:()=>T1,multiply:()=>rn,negate:()=>c1,normalize:()=>u1,random:()=>v1,rotateX:()=>b1,rotateY:()=>_1,rotateZ:()=>w1,round:()=>a1,scale:()=>o1,scaleAndAdd:()=>l1,set:()=>e1,sqrDist:()=>D1,sqrLen:()=>L1,squaredDistance:()=>on,squaredLength:()=>ln,str:()=>F1,sub:()=>O1,subtract:()=>nn,transformMat3:()=>y1,transformMat4:()=>x1,transformQuat:()=>g1,zero:()=>A1});function en(){var e=new j(3);return j!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Zr(e){var t=new j(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function tn(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Xr(e,t,n){var r=new j(3);return r[0]=e,r[1]=t,r[2]=n,r}function Kr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function e1(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function t1(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function nn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function rn(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function sn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function n1(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function r1(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function s1(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function i1(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function a1(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function o1(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function l1(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function an(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.hypot(n,r,s)}function on(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}function ln(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function c1(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function f1(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function u1(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function cn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function d1(e,t,n){var r=t[0],s=t[1],i=t[2],a=n[0],o=n[1],l=n[2];return e[0]=s*l-i*o,e[1]=i*a-r*l,e[2]=r*o-s*a,e}function h1(e,t,n,r){var s=t[0],i=t[1],a=t[2];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e}function p1(e,t,n,r,s,i){var a=i*i,o=a*(2*i-3)+1,l=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return e[0]=t[0]*o+n[0]*l+r[0]*c+s[0]*f,e[1]=t[1]*o+n[1]*l+r[1]*c+s[1]*f,e[2]=t[2]*o+n[2]*l+r[2]*c+s[2]*f,e}function m1(e,t,n,r,s,i){var a=1-i,o=a*a,l=i*i,c=o*a,f=3*i*o,d=3*l*a,u=l*i;return e[0]=t[0]*c+n[0]*f+r[0]*d+s[0]*u,e[1]=t[1]*c+n[1]*f+r[1]*d+s[1]*u,e[2]=t[2]*c+n[2]*f+r[2]*d+s[2]*u,e}function v1(e,t){t=t||1;var n=rt()*2*Math.PI,r=rt()*2-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}function x1(e,t,n){var r=t[0],s=t[1],i=t[2],a=n[3]*r+n[7]*s+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/a,e}function y1(e,t,n){var r=t[0],s=t[1],i=t[2];return e[0]=r*n[0]+s*n[3]+i*n[6],e[1]=r*n[1]+s*n[4]+i*n[7],e[2]=r*n[2]+s*n[5]+i*n[8],e}function g1(e,t,n){var r=n[0],s=n[1],i=n[2],a=n[3],o=t[0],l=t[1],c=t[2],f=s*c-i*l,d=i*o-r*c,u=r*l-s*o,p=s*u-i*d,m=i*f-r*u,v=r*d-s*f,h=a*2;return f*=h,d*=h,u*=h,p*=2,m*=2,v*=2,e[0]=o+f+p,e[1]=l+d+m,e[2]=c+u+v,e}function b1(e,t,n,r){var s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[0],i[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),i[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function _1(e,t,n,r){var s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),i[1]=s[1],i[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function w1(e,t,n,r){var s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),i[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),i[2]=s[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function M1(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],a=t[1],o=t[2],l=Math.sqrt(n*n+r*r+s*s),c=Math.sqrt(i*i+a*a+o*o),f=l*c,d=f&&cn(e,t)/f;return Math.acos(Math.min(Math.max(d,-1),1))}function A1(e){return e[0]=0,e[1]=0,e[2]=0,e}function F1(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function E1(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function z1(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],a=t[1],o=t[2];return Math.abs(n-i)<=D*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=D*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-o)<=D*Math.max(1,Math.abs(s),Math.abs(o))}var O1=nn,T1=rn,N1=sn,S1=an,D1=on,R1=tn,L1=ln,$1=function(){var e=en();return function(t,n,r,s,i,a){var o,l;for(n||(n=3),r||(r=0),s?l=Math.min(s*n+r,t.length):l=t.length,o=r;o<l;o+=n)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],i(e,e,a),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2];return t}}();function q(e,t,n){for(let r=0;r<n.length;r++)e[t+r]=n[r]}var{identity:k1,rotate:P1}=Ee,{add:I1,cross:V1,dot:j1,mul:C1,normalize:G1,subtract:st,transformMat4:U1}=ze;function q1(e){let t=2*Math.PI/e;return new Array(e).fill(null).map((n,r)=>[Math.cos(t*r),Math.sin(t*r)])}function B1(e,t=1){let n=new Uint16Array(e*(Math.max(t,1)-1)*6);for(let r=0;r<t;r++){let s=r*e*6,i=r*e;for(let a=0;a<e;a++){let o=s+a*6,l=i+a;a===e-1?(n[o+0]=l+1,n[o+1]=l-e+1,n[o+2]=l,n[o+3]=l,n[o+4]=l+e,n[o+5]=l+1):(n[o+0]=l+e+1,n[o+1]=l+1,n[o+2]=l,n[o+3]=l,n[o+4]=l+e,n[o+5]=l+e+1)}}return n}function it(e,t=3){let n=[],r=[],s=[],i=e.length/4,a=i*t,o=new Float32Array(a*3),l=new Float32Array(a*3),c=new Float32Array(a*2),f=B1(t,i),d=q1(t);for(let u=0;u<i;u++){let p=[0,0,1],m=e.slice(u*4,u*4+3),v=e.slice((u+1)*4,(u+1)*4+3),h=e.slice((u-1)*4,(u-1)*4+3),x=e[u*4+3];u===0?st(r,m,v):u===i-1?st(r,h,m):st(r,h,v),G1(r,r),V1(s,p,r);let b=Math.acos(j1(p,r));k1(n),P1(n,n,b,s);for(let _=0;_<t;_++){let w=[...d[_],0];C1(w,w,[x,x,1]),U1(w,w,n);let g=u*t*3+_*3;I1(w,w,m),q(o,g,w),q(c,u*t*2+_*2,[_/t,u/i])}}return{position:o,normal:l,uv:c,index:f}}function H1(e){let t=e.position.length/3,n=new Float32Array(t*2);for(let r=0;r<t;r++)n[r*2+0]=e.position[r*3+0],n[r*2+1]=e.position[r*3+2];return{...e,position:n}}function B(e,t,n){return e*(1-n)+t*n}function fn(e,t=0){let n=(e.length-1)*t,r=Math.floor(n),s=Math.ceil(n);return B(e[s],e[r],s-n)}function Y1(e,t){let n=e.length/4*Math.max(Math.min(t,.9999),1e-4),r=Math.max(Math.floor(n),0),s=Math.min(Math.ceil(n),e.length/4-1),i=s-n;return[B(e[s*4+0],e[r*4+0],i),B(e[s*4+1],e[r*4+1],i),B(e[s*4+2],e[r*4+2],i),B(e[s*4+3],e[r*4+3],i)]}function at(e,t){let n=e.length/4*Math.max(Math.min(t,.9999),1e-4),r=Math.max(Math.floor(n),0),s=Math.min(Math.ceil(n),e.length/4-1);return[e[s*4+0]-e[r*4+0],e[s*4+1]-e[r*4+1],e[s*4+2]-e[r*4+2],e[s*4+3]+e[r*4+3]/2]}function W1(...e){let t=e.filter(p=>!!p);if(t.length===1)return t[0];let n=0,r=0,s=0;for(let{position:p,index:m,uv:v}of t)n+=p.length,r+=v.length,s+=m.length;let i=new Float32Array(r),a=new Float32Array(n),o=new Float32Array(n),l=s>65536?new Uint32Array(s):new Uint16Array(s),c=0,f=0,d=0,u=0;for(let p=0;p<t.length;p++){let m=t[p].normal,v=m.length;for(let y=0;y<v;y++)o[f+y]=m[y];f+=v;let h=t[p].uv,x=h.length;for(let y=0;y<x;y++)i[d+y]=h[y];d+=x;let b=t[p].index,_=b.length;for(let y=0;y<_;y++)l[y+u]=b[y]+c/3;u+=_;let w=t[p].position,g=w.length;for(let y=0;y<g;y++)a[c+y]=w[y];c+=g}return{position:a,normal:o,uv:i,index:l}}var ot=(e,t)=>Math.sqrt(e*e+t*t);var lt=(e,t,n)=>Math.sqrt(e*e+t*t+n*n);var re=_t(vn(),1),X=0,vt=(0,re.makeNoise2D)(X),xn=(0,re.makeNoise3D)(X),pe={n1d:e=>vt(e,0),n2d:(e,t)=>vt(e,t),n3d:(e,t,n)=>xn(e,t,n),get seed(){return X},set seed(e){e!==X&&(X=e,vt=(0,re.makeNoise2D)(X),xn=(0,re.makeNoise3D)(X))}};var us=([e,t])=>{let n=ot(e,t);return n===0?[1,0]:[e/n,t/n]};var se=([e,t,n])=>{let r=lt(e,t,n);return[e/r,t/r,n/r]};function yn(e,{offset:t,scale:n,rotation:r,id:s,baseAlpha:i,depth:a}){let o=Math.max(...[t?.length,n?.length,r?.length].filter(d=>!!d)),l=new Float32Array(o),c=new Float32Array(o).fill(1),f=new Float32Array(o);return t?.length&&q(l,0,t),n?.length&&q(c,0,n),r?.length&&q(f,0,r),{...e,id:s,baseAlpha:i,depth:a,offset:l,scale:c,rotation:f}}var Ie=([e,t],n)=>n===0?[e,t]:[e*Math.cos(-n)-t*Math.sin(-n),e*Math.sin(-n)+t*Math.cos(-n)];function W(e,t,n){let[r,s,i]=e,[a,o,l]=se(t),c=Math.cos(n),f=Math.sin(n);return new T((c+(1-c)*a*a)*r+((1-c)*a*o-l*f)*s+((1-c)*a*l+o*f)*i,((1-c)*a*o+l*f)*r+(c+(1-c)*o*o)*s+((1-c)*o*l-a*f)*i,((1-c)*a*l-o*f)*r+((1-c)*o*l+a*f)*s+(c+(1-c)*l*l)*i)}function ds(e,t,n){let r=new Float32Array(e.position.length),s=e.position.length/3;for(let i=0;i<s;i++){let a=W([e.position[i*3],e.position[i*3+1],e.position[i*3+2]],t,n);r[i*3+0]=a[0],r[i*3+1]=a[1],r[i*3+2]=a[2]}return{...e,position:r}}function hs(e,t){let n=t.normal.length/3;for(let r=0;r<n;r++)t.normal[r*3+0]=t.normal[r*3+0],t.normal[r*3+1]=t.normal[r*3+1],t.normal[r*3+2]=t.normal[r*3+2];return new ge(e,{position:{size:3,data:t.position},normal:{size:3,data:t.normal},uv:{size:2,data:t.uv},index:{data:t.index}})}function ps(e,t){let n=e.position.length/3;for(let r=0;r<n;r++)e.position[r*3+0]+=t[0],e.position[r*3+1]+=t[1],e.position[r*3+2]+=t[2];return e}var ms=/^[og]\s*(.+)?/,vs=/^mtllib /,xs=/^usemtl /,ys=/^usemap /,gn=new T,xt=new T,bn=new T,_n=new T,C=new T,ie=new be;function gs(){let e={objects:[],object:{smooth:!1},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,n=!1){if(this.object&&this.object.fromDeclaration===!1){this.object.name=t,this.object.fromDeclaration=n!==!1;return}this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:n!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1}}},finalize:function(){console.log(this.object)},parseVertexIndex:function(t,n){let r=parseInt(t,10);return(r>=0?r-1:r+n/3)*3},parseNormalIndex:function(t,n){let r=parseInt(t,10);return(r>=0?r-1:r+n/3)*3},parseUVIndex:function(t,n){let r=parseInt(t,10);return(r>=0?r-1:r+n/2)*2},addVertex:function(t,n,r){let s=this.vertices,i=this.object.geometry.vertices;i.push(s[t+0],s[t+1],s[t+2]),i.push(s[n+0],s[n+1],s[n+2]),i.push(s[r+0],s[r+1],s[r+2])},addVertexPoint:function(t){let n=this.vertices;this.object.geometry.vertices.push(n[t+0],n[t+1],n[t+2])},addVertexLine:function(t){let n=this.vertices;this.object.geometry.vertices.push(n[t+0],n[t+1],n[t+2])},addNormal:function(t,n,r){let s=this.normals,i=this.object.geometry.normals;i.push(s[t+0],s[t+1],s[t+2]),i.push(s[n+0],s[n+1],s[n+2]),i.push(s[r+0],s[r+1],s[r+2])},addFaceNormal:function(t,n,r){let s=this.vertices,i=this.object.geometry.normals;gn.fromArray(s,t),xt.fromArray(s,n),bn.fromArray(s,r),C.sub(bn,xt),_n.sub(gn,xt),C.cross(_n),C.normalize(),i.push(C.x,C.y,C.z),i.push(C.x,C.y,C.z),i.push(C.x,C.y,C.z)},addColor:function(t,n,r){let s=this.colors,i=this.object.geometry.colors;s[t]!==void 0&&i.push(s[t+0],s[t+1],s[t+2]),s[n]!==void 0&&i.push(s[n+0],s[n+1],s[n+2]),s[r]!==void 0&&i.push(s[r+0],s[r+1],s[r+2])},addUV:function(t,n,r){let s=this.uvs,i=this.object.geometry.uvs;i.push(s[t+0],s[t+1]),i.push(s[n+0],s[n+1]),i.push(s[r+0],s[r+1])},addDefaultUV:function(){let t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){let n=this.uvs;this.object.geometry.uvs.push(n[t+0],n[t+1])},addFace:function(t,n,r,s,i,a,o,l,c){let f=this.vertices.length,d=this.parseVertexIndex(t,f),u=this.parseVertexIndex(n,f),p=this.parseVertexIndex(r,f);if(this.addVertex(d,u,p),this.addColor(d,u,p),o!==void 0&&o!==""){let m=this.normals.length;d=this.parseNormalIndex(o,m),u=this.parseNormalIndex(l,m),p=this.parseNormalIndex(c,m),this.addNormal(d,u,p)}else this.addFaceNormal(d,u,p);if(s!==void 0&&s!==""){let m=this.uvs.length;d=this.parseUVIndex(s,m),u=this.parseUVIndex(i,m),p=this.parseUVIndex(a,m),this.addUV(d,u,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";let n=this.vertices.length;for(let r=0,s=t.length;r<s;r++){let i=this.parseVertexIndex(t[r],n);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(t,n){this.object.geometry.type="Line";let r=this.vertices.length,s=this.uvs.length;for(let i=0,a=t.length;i<a;i++)this.addVertexLine(this.parseVertexIndex(t[i],r));for(let i=0,a=n.length;i<a;i++)this.addUVLine(this.parseUVIndex(n[i],s))}};return e.startObject("",!1),e}var yt=e=>{let t=gs();e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));let n=e.split(`
`),r="",s="",i=0,a=[],o=typeof"".trimLeft=="function";for(let l=0,c=n.length;l<c;l++)if(r=n[l],r=o?r.trimLeft():r.trim(),i=r.length,i!==0&&(s=r.charAt(0),s!=="#")){if(s==="v"){let f=r.split(/\s+/);switch(f[0]){case"v":t.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7?(ie[0]=parseFloat(f[4]),ie[1]=parseFloat(f[5]),ie[2]=parseFloat(f[6]),t.colors.push(ie.r,ie.g,ie.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":t.uvs.push(parseFloat(f[1]),parseFloat(f[2]));break}}else if(s==="f"){let d=r.slice(1).trim().split(/\s+/),u=[];for(let m=0,v=d.length;m<v;m++){let h=d[m];if(h.length>0){let x=h.split("/");u.push(x)}}let p=u[0];for(let m=1,v=u.length-1;m<v;m++){let h=u[m],x=u[m+1];t.addFace(p[0],h[0],x[0],p[1],h[1],x[1],p[2],h[2],x[2])}}else if(s==="l"){let f=r.substring(1).trim().split(" "),d=[],u=[];if(r.indexOf("/")===-1)d=f;else for(let p=0,m=f.length;p<m;p++){let v=f[p].split("/");v[0]!==""&&d.push(v[0]),v[1]!==""&&u.push(v[1])}t.addLineGeometry(d,u)}else if(s==="p"){let d=r.slice(1).trim().split(" ");t.addPointGeometry(d)}else if((a=ms.exec(r))!==null){let f=(" "+a[0].slice(1).trim()).slice(1);t.startObject(f)}else if(!xs.test(r))if(vs.test(r))t.materialLibraries.push(r.substring(7).trim());else if(ys.test(r))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(s==="s")if(a=r.split(" "),a.length>1){let f=a[1].trim().toLowerCase();t.object.smooth=f!=="0"&&f!=="off"}else t.object.smooth=!0;else{if(r==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+r+'"')}}t.finalize()};function bs(e){let t=Array.isArray(e)?e:[e];console.log("TOOBJ",t);let n="",r=0,s=0,i=0,a=[];function o(l){let c=0,f=0,d=0,{index:u,uv:p,normal:m,position:v}=l;if(u.includes(NaN)&&console.warn("Export will fail, index includes NaN"),p.includes(NaN)&&console.warn("Export will fail, uv includes NaN"),m.includes(NaN)&&console.warn("Export will fail, normal includes NaN"),v.includes(NaN)&&console.warn("Export will fail, position includes NaN"),n+=`o plant
`,v?.length)for(let h=0;h<v.length;h+=3){let[x,b,_]=v.slice(h,h+3);n+="v "+x+" "+b+" "+_+`
`}if(p?.length)for(let h=0;h<p.length;h+=2){let[x,b]=p.slice(h,h+2);n+="vt "+x+" "+b+`
`}if(m?.length)for(let h=0;h<m.length;h+=3){let[x,b,_]=m.slice(h,h+3);n+="vn "+x+" "+b+" "+_+`
`}if(u?.length)for(let h=0;h<u.length;h+=3){for(let x=0;x<3;x++){let b=u[h+x]+1;a[x]=r+b+(m||p?"/"+(p?s+b:"")+(m?"/"+(i+b):""):"")}n+="f "+a.join(" ")+`
`}else for(let h=0,x=v.length;h<x;h+=3){for(let b=0;b<3;b++){let _=h+b+1;a[b]=r+_+(m||p?"/"+(p?s+_:"")+(m?"/"+(i+_):""):"")}n+="f "+a.join(" ")+`
`}r+=c,s+=d,i+=f}return t.forEach(l=>o(l)),yt(n),n}var ae=e=>{console.groupCollapsed(e),console.trace(),console.groupEnd()};function _s(e,t=!1){let n=e.normal.includes(NaN);n&&ae("Normals has NaN");let r=e.index.includes(NaN);r&&ae("Index has NaN");let s=e.position.includes(NaN);s&&ae("Position has NaN");let i=e.uv.includes(NaN);i&&ae("UV has NaN");let a=e.position.length/3;e.position.length!==e.normal.length&&ae("position and normal amount not eqal"),e.uv.length!==a*2&&ae("uv amount not correct, should be "+a*2+" is "+e.uv.length),(n||r||s||i||t)&&console.log("Check",{p:e.position.length,pn:s,n:e.normal.length,nn:n,i:e.index.length,in:r,u:e.uv.length,un:i})}function wn([e,t,n]){return e===0&&n===0?[1,0,0]:[1,1,-((e+t)/n)]}function ws(e=2,t=3){t=t+2;let n=(t*4-4)*3,r=new Float32Array(n*2),s=new Float32Array(n),i=new Float32Array((t*4-4)*2),a=new Uint16Array(t*4);for(let l=0;l<t;l++){let c=l/(t-1)*2-1;r[l*6+0]=-e,r[l*6+1]=0,r[l*6+2]=e*c,r[l*6+3]=e,r[l*6+4]=0,r[l*6+5]=e*c}let o=t*6;for(let l=0;l<t;l++){let c=l/(t-1)*2-1;r[o+l*6+0]=-e*c,r[o+l*6+1]=0,r[o+l*6+2]=-e,r[o+l*6+3]=-e*c,r[o+l*6+4]=0,r[o+l*6+5]=e}return{position:r,normal:s,uv:i,index:a}}function Ms(e=1,t=12,n=12){let r=360*(Math.PI/180)/n,s=t*n+1,i=(t-1)*n*2+n,a=new Float32Array(s*3),o=new Float32Array(s*3),l=new Float32Array(s*2),c=new Uint16Array(i*3);a[0]=0,a[1]=1-1,a[2]=0,o[0]=0,o[1]=1,o[2]=0,l[0]=.5,l[1]=.5;let f=new Array(t-1).fill(null).map((u,p,m)=>e+p/(m.length-1)*2);f.push(100);let d=f.map(u=>{let p=(Math.max(Math.min(u,e+2),e)-e)/2;return Math.sin((p+.5)*Math.PI)/2+.5-1});for(let u=0;u<t;u++){let p=f[u],m=d[u];for(let v=0;v<n;v++){let h=r*v,x=Math.cos(h)*p,b=m,_=Math.sin(h)*p,g=u*n+v+1;if(a[g*3+0]=x,a[g*3+1]=b,a[g*3+2]=_,o[g*3+0]=0,o[g*3+1]=1,o[g*3+2]=0,l[g*2+0]=x,l[g*2+1]=_,u===0){let y=(g-1)*3;c[y+0]=0,c[y+1]=(v+1)%n+1,c[y+2]=v+1}else if(v===n-1){let y=u*n*6+v*6-n*3;c[y+0]=g,c[y+1]=g+1-n-n,c[y+2]=g+1-n,c[y+3]=g,c[y+4]=g-n,c[y+5]=g+1-n*2}else{let y=u*n*6+v*6-n*3;c[y+0]=g,c[y+1]=g+1-n,c[y+2]=g+1,c[y+3]=g,c[y+4]=g-n,c[y+5]=g+1-n}}}return{position:a,normal:o,uv:l,index:c}}function As(e,{res:t=1,xCurvature:n=.5,yCurvature:r=.2}={}){let s=e.length,i=3+t*2,a=i*s,o=(i-1)*(s-1)*2,l=new Float32Array(a*3),c=new Float32Array(a*3),f=new Float32Array(a*2),d=new Uint16Array(o*3),u=0,p=0,m=0,v=0;return e.sort((h,x)=>h.y>x.y?1:-1).forEach((h,x)=>{let b=x*i,_=h.y-p;v+=_*r;let[w,g]=Ie([_,0],v),y=Math.sin(Math.PI*h.y);for(let M=0;M<i;M++){let A=2-M/(i-1)*2-1,O=Math.sin(Math.abs(A)*Math.PI)*.01,[S,N]=Ie([1e-4,O*n*y],v),E=(Math.min(Math.max(h.x,.001),.999)-1)*A*.5;if(l[b*3+M*3+0]=E,l[b*3+M*3+1]=N+g+m,l[b*3+M*3+2]=S+w+u,f[b*2+M*2+0]=l[b*3+M*3+0]+1/2,f[b*2+M*2+1]=l[b*3+M*3+2],x!==e.length-1){let z=x*(i-1);d[z*6+M*6+0]=b+M+i,d[z*6+M*6+1]=b+M+1,d[z*6+M*6+2]=b+M+0,d[z*6+M*6+3]=b+M+1,d[z*6+M*6+4]=b+M+i,d[z*6+M*6+5]=b+M+i+1}}m+=g,u+=w,p=h.y}),Je({position:l,normal:c,index:d,uv:f})}var Fs=e=>{let t=e*3,n=Float32Array.from([+e,-e,-e,+e,-e,+e,-e,-e,+e,-e,-e,-e,-e,+e,-e,+e,+e,-e,+e,+e,+e,-e,+e,+e]),r=Float32Array.from([...n].map(a=>a/t)),s=Float32Array.from(new Array(24).fill(.5)),i=Uint16Array.from([0,1,2,0,2,3,0,3,4,4,5,0,0,1,6,0,6,5,1,2,7,1,7,6,3,7,2,3,7,4,4,6,7,4,6,5]);return{position:n,normal:r,uv:s,index:i}};function Es(e=[0,0,0],t=1,n=3){let r=(n+1)*3,s=360*(Math.PI/180)/n,i=[e[0],e[1],e[2]+t],a=new Float32Array(r),o=new Float32Array(r),l=new Float32Array(n*2),c=new Uint16Array(n*3);a[0]=e[0],a[1]=e[1],a[2]=e[2];for(let f=1;f<=n+1;f++){let d=s*(f-1),u=Math.cos(d)*(i[0]-e[0])-Math.sin(d)*(i[2]-e[2])+e[0],p=e[1],m=Math.sin(d)*(i[0]-e[0])+Math.cos(d)*(i[2]-e[2])+e[2];a[f*3+0]=u,a[f*3+1]=p,a[f*3+2]=m}for(let f=0;f<n;f++)f===n-1?(c[f*3+0]=0,c[f*3+1]=n,c[f*3+2]=1):(c[f*3+0]=0,c[f*3+1]=f+1,c[f*3+2]=f+2);return{position:a,normal:o,uv:l,index:c}}function zs(e,t){return e[0]===0&&e[2]===0?new T(0,0,1):new T().cross(e,t).normalize()}function Os(e,t,n,r=3,s){t.normalize();let i=r*3,a=360*(Math.PI/180)/r,o=new Float32Array(i),l=e[0],c=e[1],f=e[2],d=zs(e,t).multiply(n);for(let u=0;u<r;u++){let p=a*u,m=W(d,s||t,p);o[u*3+0]=l+m[0],o[u*3+1]=c+m[1],o[u*3+2]=f+m[2]}return o}function Ts(e=new T(0,0,0),t=1){let n=new Float32Array(9),r=new Float32Array(9),s=new Float32Array(6),i=new Uint16Array(3);return n[0]=e[0],n[1]=e[1],n[2]=e[2]-t,n[3]=e[0]+t,n[4]=e[1],n[5]=e[2]+t,n[6]=e[0]-t,n[7]=e[1],n[8]=e[2]+t,r[0]=0,r[1]=1,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=1,r[8]=0,s[0]=.5,s[1]=1,s[2]=1,s[3]=0,s[4]=0,s[5]=0,i[0]=0,i[1]=2,i[2]=1,{position:n,normal:r,uv:s,index:i}}function Ns(e,t=8){return it(e,t)}function n0(e,t=1,n=1,r=0,s=!0){let i=Array.isArray(n)?1:n,a=(n[0]??i)*10,o=(n[1]??i)*10,l=(n[2]??i)*10,c=Array.isArray(r)?0:r,f=r[0]??c,d=r[1]??c,u=r[2]??c,p=e.length/4,m=[e[0],e[1],e[2]],v=0;for(let h=0;h<p;h++){let x=h/p;v+=(Math.abs(m[0]-e[h*4+0])+Math.abs(m[1]-e[h*4+1])+Math.abs(m[2]-e[h*4+2]))/3,m[0]=e[h*4+0],m[1]=e[h*4+1],m[2]=e[h*4+2];let b=s?t*x:t,[_,w,g]=e.slice(h*4,h*4+3);e[h*4+0]=_+pe.n1d(1e3+f+v*a)*b,e[h*4+1]=w+pe.n1d(2e3+d+v*o)*b,e[h*4+2]=g+pe.n1d(3e3+u+v*l)*b}return e}function gt(e,[t,n,r]){let s=e.length/4,i=-1;for(;i++<s-1;)e[i*4+0]=e[i*4+0]+t,e[i*4+1]=e[i*4+1]+n,e[i*4+2]=e[i*4+2]+r;return e}function bt(e,t,n=1,r,s=!1){let[i=0,a=0,o=0]=r||e;i&&a&&o&&gt(e,[-i,-a,-o]);let l=e.length/4,c=-1;for(;c++<l-1;){let f=e.slice(c*4,c*4+3),d=c/l,u=W([...f],t,s?n*d:n);e[c*4+0]=u[0],e[c*4+1]=u[1],e[c*4+2]=u[2]}return i&&a&&o&&gt(e,[i,a,o]),e}function f0(e,t=.5,n=2,r=1){let s=Math.max(Math.min(t,1),0),i=Math.floor(Math.max(0,n));if(i<2)return[e];let a=e.length/4,o=Math.floor(a*s),l=se(at(e,s)),c=se(wn(l));return[...o<0?[]:[e.slice(0,o*4)],...new Array(i).fill(null).map((f,d)=>{let u=e.slice((o-2)*4),p=d/n;return bt(u,c,r,void 0,!0),bt(u,l,p*6),u})].filter(f=>f.length>4)}export{Fs as box,Je as calculateNormals,Es as circle,Qe as convertInstancedGeometry,ar as curveToArray,it as extrudePath,wn as findOrthogonalVector,H1 as flatten,ws as grid,Ms as ground,q as insertArray,yn as instanceGeometry,fn as interpolateArray,Y1 as interpolateSkeleton,at as interpolateSkeletonVec,W1 as join,As as leaf,ot as length2D,lt as length3D,B as lerp,pe as noise,n0 as noiseSkeleton,us as normalize2D,se as normalize3D,yt as parseOBJ,Os as ring,Ie as rotate2D,W as rotate3D,ds as rotateMesh3D,bt as rotateSkeleton,_s as sanityCheckGeometry,f0 as splitSkeleton,bs as toOBJ,hs as transferToGeometry,ps as translateMesh,gt as translateSkeleton,Ts as triangle,Ns as tube};
//# sourceMappingURL=index.js.map
