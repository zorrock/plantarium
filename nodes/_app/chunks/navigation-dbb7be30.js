var Oi=Object.defineProperty,Vi=Object.defineProperties;var Di=Object.getOwnPropertyDescriptors;var os=Object.getOwnPropertySymbols;var Ai=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable;var rs=(n,e,t)=>e in n?Oi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,de=(n,e)=>{for(var t in e||(e={}))Ai.call(e,t)&&rs(n,t,e[t]);if(os)for(var t of os(e))Pi.call(e,t)&&rs(n,t,e[t]);return n},_e=(n,e)=>Vi(n,Di(e));import{L as ji,S as ae,i as ce,s as ue,e as N,c as S,a as E,d as v,b as p,M as R,g as O,E as U,l as J,n as te,o as A,p as se,q as V,t as q,h as Z,J as g,j as me,F as ii,k as H,m as z,N as $,G as ni,H as oi,I as ri,O as Le,P as be,w as ne,x as fe,f as X,y as oe,B as re,K as Oe,Q as Ee,R as ht,T as Ie,U as wt,z as $i,A as Bi,C as Ri,v as Vt,V as Fi,W as Ui,X as Hi,Y as le,Z as Q,_ as ee,$ as ze,a0 as Ue,a1 as gt,a2 as zi}from"./index-24edfbcc.js";import{w as _t,c as Ae}from"./singletons-6de98c64.js";var Wi=(n,...e)=>{const t=(i,o)=>{Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o).map(r=>r.toString())).forEach(r=>{r.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(o,r))})},s=class extends n{constructor(...o){super(...o),e.forEach(r=>t(this,new r))}};return e.forEach(i=>{t(s.prototype,i.prototype),t(s,i)}),s};const Mt=class extends Error{constructor(n,e={}){super(n),this.detail=n,this.meta=e}static fromParent(n,e,t,s){return new Mt(t,Object.assign({cause:n},s))}getCause(){return this.meta.cause||void 0}unwrapChain(n=this){return Mt.unwrapChain(n)}};let Xi=Mt;Xi.unwrapChain=n=>{const e=[n];let t=n.getCause();for(;t;)e.push(t),t=t.getCause();return e};function Yi(n,e=!1){return function(t,s,i){let o;const r=i.value;return i.value=function(...l){const a=()=>{o=null,e||r.apply(this,l)},c=e&&!o;clearTimeout(o),o=setTimeout(a,n),c&&r.apply(this,l)},i}}var Ye=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},qi={exports:{}};(function(n,e){(function(t,s){s()})(Ye,function(){function t(c,u){return typeof u=="undefined"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function s(c,u,f){var d=new XMLHttpRequest;d.open("GET",c),d.responseType="blob",d.onload=function(){a(d.response,u,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function o(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ye=="object"&&Ye.global===Ye?Ye:void 0,l=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,u,f){var d=r.URL||r.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?o(h):i(h.href)?s(c,u,f):o(h,h.target="_blank")):(h.href=d.createObjectURL(c),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){o(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,f),u);else if(i(c))s(c,u,f);else{var d=document.createElement("a");d.href=c,d.target="_blank",setTimeout(function(){o(d)})}}:function(c,u,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof c=="string")return s(c,u,f);var h=c.type==="application/octet-stream",m=/constructor/i.test(r.HTMLElement)||r.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||h&&m||l)&&typeof FileReader!="undefined"){var _=new FileReader;_.onloadend=function(){var M=_.result;M=y?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=M:location=M,d=null},_.readAsDataURL(c)}else{var L=r.URL||r.webkitURL,I=L.createObjectURL(c);d?d.location=I:location.href=I,d=null,setTimeout(function(){L.revokeObjectURL(I)},4e4)}});r.saveAs=a.saveAs=a,n.exports=a})})(qi);function li(n,e){let t,s,i,o=null,r=0;const l=n,a=()=>{r=0,o=null,i=l.apply(t,s),o||(t=s=null)};return function(){const u=Date.now();r||(r=u);const f=e-(u-r);return t=this,s=arguments,f<=0||f>e?(o&&(clearTimeout(o),o=null),r=u,i=l.apply(t,s),o||(t=s=null)):o||(o=setTimeout(a,f)),i}}const we={amountEmitters:0,amountCallbacks:0,emitters:[]};typeof self!="undefined"&&"window"in self&&(globalThis.debug=we);class Ve{constructor(){this.index=0,this.cbs={},this.cbsOnce={},this.index=we.amountEmitters,we.amountEmitters++}emit(e,t){e in this.cbs&&this.cbs[e].forEach(s=>s(t)),e in this.cbsOnce&&(this.cbsOnce[e].forEach(s=>s(t)),delete this.cbsOnce[e])}on(e,t,s=0){s>0&&(t=li(t,s));const i=Object.assign(this.cbs,{[e]:[...this.cbs[e]||[],t]});return this.cbs=i,we.emitters[this.index]={name:this.constructor.name,cbs:Object.fromEntries(Object.keys(this.cbs).map(o=>[o,this.cbs[o].length]))},we.amountCallbacks++,()=>{var o;we.amountCallbacks--,(o=i[e])==null||o.splice(i[e].indexOf(t),1),we.emitters[this.index]={name:this.constructor.name,cbs:Object.fromEntries(Object.keys(this.cbs).map(r=>[r,this.cbs[r].length]))}}}once(e,t){return this.cbsOnce[e]=[...this.cbsOnce[e]||[],t],()=>{this.cbsOnce[e].splice(this.cbsOnce[e].indexOf(t),1)}}destroyEventEmitter(){we.amountEmitters--,Object.keys(this.cbs).forEach(e=>{we.amountCallbacks-=this.cbs[e].length,delete this.cbs[e]}),Object.keys(this.cbsOnce).forEach(e=>delete this.cbsOnce[e]),this.cbs={},this.cbsOnce={},delete we.emitters[this.index]}}function Zi(n){if(n.length===0)return 0;let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e=e&e;return e}var Ki=()=>{const n={};let e=0;const t=(s=0,i=0)=>{if(i>500)throw new Error("Infinite loop in id generation algo");return s in n?t(Math.max(s++,e++),i+1):(n[s]=!0,s.toString())};return t.reset=()=>{Object.keys(n).forEach(s=>delete n[+s]),e=0},t};const Gi=typeof globalThis.WorkerGlobalScope!="undefined"&&self instanceof globalThis.WorkerGlobalScope;let ft=[],dt=2,Pe=0,ls=0;const Nt="plant.log.history",Dt="localStorage"in globalThis,$e=Dt?Nt in localStorage?JSON.parse(localStorage.getItem(Nt)):[]:[];Dt&&(dt=parseInt(localStorage.getItem("pt-log-level"))||2);function Ji(){Dt&&localStorage.setItem(Nt,JSON.stringify($e))}let Be;function xe(n){Pe=Math.max(Pe,n.length);const e=ls;ls++;const t=(i,o)=>{if(!Gi&&($e.push({scope:n,args:i,level:dt,date:Date.now()}),$e.length=Math.min(100,$e.length),Be&&Be.set($e),Ji(),(!ft.length||ft.includes(n))&&o<=dt)){if(i instanceof Error){console.error(`[${n.padEnd(Pe," ")}]`,i);return}if(Array.isArray(i)&&typeof i[0]=="string"&&typeof i[1]=="object"){console.groupCollapsed(`%c[${n.padEnd(Pe," ")}]`,`color: hsl(${e*30}deg 68% 64%); font-weight: bold;`,i[0]),console.log(...i.slice(1)),console.groupEnd();return}o===0&&console.log(`%c[${n.padEnd(Pe," ")}]`,`color: hsl(${e*30}deg 68% 64%); font-weight: bold;`,...i),o===1&&console.warn(`[${n.padEnd(Pe," ")}]`,...i)}},s=(...i)=>t(i,2);return s.warn=(...i)=>t(i,1),s.error=i=>t(i,0),s}xe.getStore=function(){return Be||(Be=_t([]),Be)};xe.getHistory=function(){return[...$e]};xe.setFilter=(...n)=>{ft=n,console.log("[log] set filter",{filters:ft})};xe.setLevel=(n=0)=>{dt=n,localStorage.setItem("pt-log-level",""+n)};function Qi(n){const e={};return(...t)=>{const s=Zi(JSON.stringify(t));return s in e?e[s]:e[s]=n(...t)}}var Ge="<unknown>";function en(n){var e=n.split(`
`);return e.reduce(function(t,s){var i=nn(s)||rn(s)||cn(s)||dn(s)||hn(s);return i&&t.push(i),t},[])}var tn=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sn=/\((\S*)(?::(\d+))(?::(\d+))\)/;function nn(n){var e=tn.exec(n);if(!e)return null;var t=e[2]&&e[2].indexOf("native")===0,s=e[2]&&e[2].indexOf("eval")===0,i=sn.exec(e[2]);return s&&i!=null&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{file:t?null:e[2],methodName:e[1]||Ge,arguments:t?[e[2]]:[],lineNumber:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}var on=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function rn(n){var e=on.exec(n);return e?{file:e[2],methodName:e[1]||Ge,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}var ln=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,an=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function cn(n){var e=ln.exec(n);if(!e)return null;var t=e[3]&&e[3].indexOf(" > eval")>-1,s=an.exec(e[3]);return t&&s!=null&&(e[3]=s[1],e[4]=s[2],e[5]=null),{file:e[3],methodName:e[1]||Ge,arguments:e[2]?e[2].split(","):[],lineNumber:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}var un=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function hn(n){var e=un.exec(n);return e?{file:e[3],methodName:e[1]||Ge,arguments:[],lineNumber:+e[4],column:e[5]?+e[5]:null}:null}var fn=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function dn(n){var e=fn.exec(n);return e?{file:e[2],methodName:e[1]||Ge,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}const pn=n=>n.replace(window.location.href,"").replace(/^node_modules/,"").replace(/.+?(?=plantarium)plantarium\//,"");var as=n=>{const e=en(n.stack).map(t=>(t.file=pn(t.file),t));return{title:n.message,type:n.name,lines:e}};const mn=(n,e)=>t=>Math.min(Math.max(t,n),e),vn=n=>{const e=10**n;return t=>Math.floor(t*e)/e},yn=mn(-1e5,1e5),wn=vn(1),ot=n=>yn(wn(n));class ai{constructor({x1:e=0,y1:t=0,x2:s=0,y2:i=0},o){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x1=e,this.y1=t,this.x2=s,this.y2=i,this.system=o.node.system,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("viewbox","0 0 100 100"),this.svg.setAttribute("width","100"),this.svg.setAttribute("height","100"),this.svg.style.overflow="visible",this.svg.style.position="absolute",this.svg.style.top="3.5px",this.svg.style.pointerEvents="none",this.svg.style.zIndex="-1",o.view.wrapper.append(this.svg),this.path=document.createElementNS("http://www.w3.org/2000/svg","path"),this.path.classList.add("node-connection-path"),this.path.setAttribute("vector-effect","non-scaling-stroke"),this.path.setAttribute("d",`
      M 0 0
      C 50 0 
        50 100
				100  100
      `),this.svg.appendChild(this.path),this.setPosition()}setPosition({x1:e=this.x1,y1:t=this.y1,x2:s=this.x2,y2:i=this.y2}={}){var l;this.x1=ot(e),this.y1=ot(t),this.x2=ot(s),this.y2=ot(i);const o=this.x2-this.x1+3.5,r=this.y2-this.y1;(l=this==null?void 0:this.hoverPath)==null||l.setAttribute("d",`
      M 0 0
      C ${o/2} 0 
        ${o/2} ${r}
				${o}  ${r}
      `),this.path.setAttribute("d",`
      M 0 0
      C ${o/2} 0 
        ${o/2} ${r}
				${o}  ${r}
      `)}remove(){var e;this.path.remove(),(e=this==null?void 0:this.hoverPath)==null||e.remove(),this.system.save()}}class gn extends ai{constructor(e){super({},e.output),this.connection=e,this.input=e.input.view,this.output=e.output.view,this.hoverPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.hoverPath.classList.add("node-connection-hover"),this.hoverPath.setAttribute("vector-effect","non-scaling-stroke"),this.svg.append(this.hoverPath),this.hoverPath.addEventListener("mouseover",()=>{const{activeNode:s}=this.system.view;s&&s.view.active&&s.view.hoveredConnection!==this&&this.handleNodeOver(s)}),this.hoverPath.addEventListener("mouseout",()=>{const{activeNode:s}=this.system.view;this.handleNodeOut(s)}),e.input.node.system.view.colorStore.on(e.output.type,s=>{this.path.style.stroke=s})}handleNodeOver(e){this.connection.isNodeJoinable(e)&&(e.view.hoveredConnection=this,this.path.classList.add("hover-active"))}handleNodeOut(e){e&&e.view.hoveredConnection===this&&delete e.view.hoveredConnection,this.path.classList.remove("hover-active")}remove(){super.remove()}}function _n(n){if(!bn(n))throw new Error("panzoom requires DOM element to be attached to the DOM tree");const t=n.parentElement;return n.scrollTop=0,{getBBox:o,getOwner:i,applyTransform:r};function i(){return t}function o(){return{left:0,top:0,width:n.clientWidth,height:n.clientHeight}}function r(l){n.style.transformOrigin="0 0 0",n.style.transform="matrix("+l.scale+", 0, 0, "+l.scale+", "+l.x+", "+l.y+")"}}function bn(n){return n&&n.parentElement&&n.style}function kn(n,e,t){typeof t!="object"&&(t={});const s=typeof t.minVelocity=="number"?t.minVelocity:5,i=typeof t.amplitude=="number"?t.amplitude:.25,o=typeof t.cancelAnimationFrame=="function"?t.cancelAnimationFrame:En(),r=typeof t.requestAnimationFrame=="function"?t.requestAnimationFrame:Ln();let l,a;const c=342;let u,f,d,h,m,y,_,L;return{start:M,stop:T,cancel:I};function I(){o(u),o(L)}function M(){l=n(),h=_=f=m=0,a=new Date,o(u),o(L),u=r(k)}function k(){const F=Date.now(),x=F-a;a=F;const j=n(),G=j.x-l.x,ie=j.y-l.y;l=j;const he=1e3/(1+x);f=.8*G*he+.2*f,m=.8*ie*he+.2*m,u=r(k)}function T(){o(u),o(L);const F=n();d=F.x,y=F.y,a=Date.now(),(f<-s||f>s)&&(h=i*f,d+=h),(m<-s||m>s)&&(_=i*m,y+=_),L=r(b)}function b(){const F=Date.now()-a;let x=!1,j=0,G=0;h&&(j=-h*Math.exp(-F/c),j>.5||j<-.5?x=!0:j=h=0),_&&(G=-_*Math.exp(-F/c),G>.5||G<-.5?x=!0:G=_=0),x&&(e(d+j,y+G),L=r(b))}}function En(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Ln(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(n){return setTimeout(n,16)}}const xn=.2;function Mn(n,e){const t=_n(n),s=t.getOwner(),i={x:0,y:0};let o=!1;const r={x:0,y:0,scale:1},l=typeof e.pinchSpeed=="number"?e.pinchSpeed:1,a=e.bounds,c=typeof e.maxZoom=="number"?e.maxZoom:Number.POSITIVE_INFINITY,u=typeof e.minZoom=="number"?e.minZoom:0,f=typeof e.boundsPadding=="number"?e.boundsPadding:.05,d=typeof e.zoomSpeed=="number"?e.zoomSpeed:xn;let h=cs(e.transformOrigin);Nn(a);let m,y=!1,_=!1,L,I,M;const k=kn(Ne,Ei,e.smoothScroll);let T,b=!1;Ht();const F={dispose:Li,moveBy:We,moveTo:Se,smoothMoveTo:ki,centerOn:bi,zoomTo:st,zoomAbs:Ut,pause:ie,resume:he,isPaused:Y,getTransform:K,setTransform:B,getTransformOrigin:ye,setTransformOrigin:Me},x=typeof e.initialX=="number"?e.initialX:r.x,j=typeof e.initialY=="number"?e.initialY:r.y,G=typeof e.initialZoom=="number"?e.initialZoom:r.scale;return(x!=r.x||j!=r.y||G!=r.scale)&&Ut(x,j,G),F;function ie(){zt(),b=!0}function he(){b&&(Ht(),b=!1)}function Y(){return b}function W(w,C){return i.x=w,i.y=C,i}function B(w,C,D){r.x=w,r.y=C,r.scale=D,Qe()}function K(){return r}function ye(){return h}function Me(w){h=cs(w)}function Ne(){return{x:r.x,y:r.y}}function Se(w,C){r.x=w,r.y=C,Xe(),Qe()}function We(w,C){Se(r.x+w,r.y+C)}function Xe(){const w=wi();if(!w)return;let C=!1;const D=gi();let P=w.left-D.right;return P>0&&(r.x+=P,C=!0),P=w.right-D.left,P<0&&(r.x+=P,C=!0),P=w.top-D.bottom,P>0&&(r.y+=P,C=!0),P=w.bottom-D.top,P<0&&(r.y+=P,C=!0),C}function wi(){if(!!a){if(typeof a=="boolean"){const w=s.getBoundingClientRect(),C=w.width,D=w.height;return{left:C*f,top:D*f,right:C*(1-f),bottom:D*(1-f)}}return a}}function gi(){const w=t.getBBox(),C=_i(w.left,w.top);return{left:C.x,top:C.y,right:w.width*r.scale+C.x,bottom:w.height*r.scale+C.y}}function _i(w,C){return{x:w*r.scale+r.x,y:C*r.scale+r.y}}function Qe(){o=!0,m=window.requestAnimationFrame(xi)}function Ft(w,C,D){if(kt(w)||kt(C)||kt(D))throw new Error("zoom requires valid numbers");const P=r.scale*D;if(P<u){if(r.scale===u)return;D=u/r.scale}if(P>c){if(r.scale===c)return;D=c/r.scale}const pe=W(w,C);r.x=pe.x-D*(pe.x-r.x),r.y=pe.y-D*(pe.y-r.y),a&&f===1&&u===1?(r.scale*=D,Xe()):Xe()||(r.scale*=D),Qe()}function Ut(w,C,D){const P=D/r.scale;Ft(w,C,P)}function bi(w){const C=w.ownerSVGElement;if(!C)throw new Error("ui element is required to be within the scene");const D=w.getBoundingClientRect(),P=D.left+D.width/2,pe=D.top+D.height/2,ge=C.getBoundingClientRect(),it=ge.width/2-P,nt=ge.height/2-pe;et(it,nt)}function ki(w,C){et(w-r.x,C-r.y)}function et(w,C){return We(w,C)}function Ei(w,C){Se(w,C)}function Li(){zt()}function Ht(){s.addEventListener("mousedown",Gt,{passive:!0}),s.addEventListener("dblclick",Kt,{passive:!1}),s.addEventListener("touchstart",Xt,{passive:!0}),s.addEventListener("keydown",Wt),s.addEventListener("wheel",ts,{passive:!0}),Qe()}function zt(){s.removeEventListener("wheel",ts),s.removeEventListener("mousedown",Gt),s.removeEventListener("keydown",Wt),s.removeEventListener("dblclick",Kt),s.removeEventListener("touchstart",Xt),m&&(window.cancelAnimationFrame(m),m=0),k.cancel(),es(),Ti(),ns()}function xi(){o&&Mi()}function Mi(){o=!1,t.applyTransform(r),m=0,e.onTransform&&e.onTransform(r)}function Wt(w){let C=0;if(w.keyCode===38||w.keyCode===40||w.keyCode===37||w.keyCode===39||(w.keyCode===189||w.keyCode===109?C=1:(w.keyCode===187||w.keyCode===107)&&(C=-1)),C){const D=ss(C*100),P=h?bt():Ni();st(P.x,P.y,D)}}function Ni(){const w=s.getBoundingClientRect();return{x:w.width/2,y:w.height/2}}function Xt(w){if(Si(w),w.touches.length===1)return Ii(w);w.touches.length===2&&(M=Zt(w.touches[0],w.touches[1]),T=!0,Yt())}function Si(w){w.stopPropagation(),w.preventDefault()}function Ci(w){w.preventDefault(),w.stopPropagation()}function Ii(w){const C=w.touches[0],D=Ce(C),P=W(D.x,D.y);L=P.x,I=P.y,k.cancel(),Yt()}function Yt(){y||(y=!0,document.addEventListener("touchmove",qt),document.addEventListener("touchend",tt),document.addEventListener("touchcancel",tt))}function qt(w){if(w.touches.length===1){w.stopPropagation();const C=w.touches[0],D=Ce(C),P=W(D.x,D.y),pe=P.x-L,ge=P.y-I;pe!==0&&ge!==0&&is(),L=P.x,I=P.y,et(pe,ge)}else if(w.touches.length===2){T=!0;const C=w.touches[0],D=w.touches[1],P=Zt(C,D),pe=1+(P/M-1)*l,ge=Ce(C),it=Ce(D);if(L=(ge.x+it.x)/2,I=(ge.y+it.y)/2,h){const nt=bt();L=nt.x,I=nt.y}st(L,I,pe),M=P,w.stopPropagation(),w.preventDefault()}}function tt(w){if(w.touches.length>0){const C=Ce(w.touches[0]),D=W(C.x,C.y);L=D.x,I=D.y}}function Zt(w,C){const D=w.clientX-C.clientX,P=w.clientY-C.clientY;return Math.sqrt(D*D+P*P)}function Kt(w){Ci(w)}function Gt(w){if(y)return w.stopPropagation(),!1;if(w.target!==s&&w.target!==n||!(w.button===1&&window.event!==null||w.button===0))return;k.cancel();const D=Ce(w),P=W(D.x,D.y);return L=P.x,I=P.y,document.addEventListener("mousemove",Jt),document.addEventListener("mouseup",Qt),!1}function Jt(w){if(y||w.ctrlKey)return;is();const C=Ce(w),D=W(C.x,C.y),P=D.x-L,pe=D.y-I;L=D.x,I=D.y,et(P,pe)}function Qt(){ns(),es()}function es(){document.removeEventListener("mousemove",Jt),document.removeEventListener("mouseup",Qt),_=!1}function Ti(){document.removeEventListener("touchmove",qt),document.removeEventListener("touchend",tt),document.removeEventListener("touchcancel",tt),_=!1,T=!1,y=!1}function ts(w){k.cancel();let C=w.deltaY;w.deltaMode>0&&(C*=100);const D=ss(C);if(D!==1){const P=h?bt():Ce(w);st(P.x,P.y,D)}}function Ce(w){const C=s.getBoundingClientRect(),D=w.clientX-C.left,P=w.clientY-C.top;return{x:D,y:P}}function bt(){const w=s.getBoundingClientRect();return{x:w.width*h.x,y:w.height*h.y}}function st(w,C,D){return k.cancel(),Ft(w,C,D)}function ss(w){const C=Math.sign(w),D=Math.min(.25,Math.abs(d*w/128));return 1-C*D}function is(){_||(_=!0,k.start())}function ns(){_&&(T||k.stop())}}function cs(n){if(!!n){if(typeof n=="object")return(!Re(n.x)||!Re(n.y))&&us(),n;us()}}function us(n){throw new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Nn(n){const e=typeof n;if(e==="undefined"||e==="boolean")return;if(!(Re(n.left)&&Re(n.top)&&Re(n.bottom)&&Re(n.right)))throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}function Re(n){return Number.isFinite(n)}function kt(n){return Number.isNaN?Number.isNaN(n):n!==n}function Sn(n,e){const t=n.x2<e.x1,s=n.x1>e.x2,i=n.y1>e.y2,o=n.y2<e.y1;return!(t||s||i||o)}var Cn=(n,e)=>e.type.includes(n.type)||e.type.includes("*");function pt(n,e){if(n===void 0&&e===void 0)return;const t=Array.isArray(n)?"array":typeof n;if(t==="string"||t==="boolean"||t==="number")return n===e?void 0:e;if(Array.isArray(n)){const r=n.map((l,a)=>typeof e=="object"&&a in e?pt(l,e[a]):e[a]);return!r.length||r.length===1&&!r[0]?void 0:r}if(!n)return e;const s=Object.keys(n),i={};let o=!1;if(s.forEach(r=>{const l=pt(n[r],e[r]);l!==void 0&&(o=!0,i[r]=l)}),!!o)return i}function In(n,e){return[pt(n,e),pt(e,n)]}function mt(n,e){const t=typeof n;if(t==="string"||t==="boolean"||t==="number")return e;if(Array.isArray(n))return n.map((s,i)=>e[i]?mt(s,e[i]):s);if(typeof n=="object"){const s=Object.keys(e),i=de({},n);return s.forEach(o=>{i[o]=mt(n[o],e[o])}),i}}class Tn{constructor(e,{input:t,output:s}){var o;if(s.connections.find(r=>r.input===t))return;if(((o=t==null?void 0:t.connection)==null?void 0:o.output)===s||!s||!t)return;if(this.system=e,t.node.getChildren().includes(s.node))throw new Error("Circular reference");if(!Cn(s,t))throw new Error("Can't connect type "+t.type+" to "+s.type);this.output=s,this.input=t,e.options.view&&(this.view=new gn(this)),this.output.setConnection(this),this.input.setConnection(this),this.output.node.system.save()}joinNode(e){if(!this.isNodeJoinable(e))return;this.system.isPaused=!0,this.remove(),this.output.node.connectTo(e,0,e.getInputs()[0].key);const t=this.input.node.getInputs(),s=t.indexOf(this.input),i=t[s].key;e.connectTo(this.input.node,0,i),this.system.isPaused=!1,e.update()}isNodeJoinable(e){const t=this.input.type,s=this.output.type;if(this.input.node===e||this.output.node===e)return!1;const i=e.getInputs();if(!i.length||!i.find(r=>r.type.includes(s)))return!1;const o=e.outputs;return!(!o.length||!o.find(r=>t.includes(r.type)||t.includes("*")))}remove(){this.view&&this.view.remove(),this.input.removeConnection(),this.output.removeConnection(this)}deserialize(){return{id:this.input.node.attributes.id,out:this.indexOut,in:this.indexIn}}get indexOut(){return this.output.node.outputs.indexOf(this.output)}get indexIn(){return this.input.key}}class At extends Ve{constructor(e,t){super(),this.outputs=[],this._state={},this.states={},this.inputData=[],this.enableUpdates=!0,this.refs=[],this.system=e;const{attributes:s,state:i={}}=t;this._state=i,this.attributes=s,this.id=s.id,this._compute=Qi((o=this._state)=>this.compute(o))}get state(){return this._state}bindView(e){this.view=e,this.outputs.forEach(t=>t.bindView()),Object.values(this.states).forEach(t=>t.bindView())}setAttributes(e){this.enableUpdates&&this.system.history.addAction(),this.attributes=de(de({},this.attributes),e),this==null||this.view.updateViewPosition(),this.save()}compute(e){return e}getChildren(){return this.outputs.map(s=>s.connections).flat().map(s=>s.input.node)}getSockets(){return[...this.getInputs(),...this.outputs]}getInputs(){return Object.values(this.states).map(e=>e.getInput()).filter(e=>!!e)}setStateValue(e,t){this.states[e].setValue(t)}getStateValue(e){return this.state[e]}update(){!this.enableUpdates||(this.system.options.showUpdates&&this.view&&this.view.showUpdate(),Object.values(this.states).find(e=>!e.isOkay)?this.computedData=void 0:this.computedData=this._compute(this.state),this.emit("computedData",this.computedData),this.refs.forEach(e=>{e.node.enableUpdates=!1,e.keyIn.forEach(t=>{this.system.options.deferCompute?e.node.setStateValue(t,{type:this.attributes.type,parameters:this.computedData}):e.node.setStateValue(t,this.computedData)}),e.node.enableUpdates=!0,e.node.update()}),this.save())}remove(){this.system.removeNode(this),this.destroyEventEmitter()}connectTo(e,t=0,s=e.getInputs()[0].key){var a,c,u;const i=this.outputs[t],o=(a=e.states[s])==null?void 0:a.getInput();if(!o)return;const r=new Tn(this.system,{output:i,input:o});(c=i==null?void 0:i.view)==null||c.updatePosition(),(u=o==null?void 0:o.view)==null||u.updatePosition();const l=this.refs.find(f=>f.node.id===e.id&&f.indexOut===t);return l?l.keyIn=[...l.keyIn,s]:this.refs.push({node:e,keyIn:[s],indexOut:t}),this.update(),r}disconnectFrom(e,t,s){this.refs=this.refs.filter(i=>!(i.indexOut!==s||(i.keyIn.splice(i.keyIn.indexOf(t),1),i.keyIn.length===0))),this.update()}deserialize(){const e=Object.assign({},this.attributes);e.refs=this.outputs.map(s=>s.connections).flat().map(s=>s.deserialize());const t={};return Object.values(this.states).forEach(s=>{t[s.key]=s.getValue()}),JSON.parse(JSON.stringify({attributes:e,state:t}))}save(){this.system.save()}}class Pt{constructor(e){this.inputs=[],this.outputs=[],this.active=!1,this.x=0,this.y=0,this.downX=0,this.downY=0,this.mDownX=0,this.mDownY=0,this.height=50,this.width=91,this.node=e,this.system=e.system,this.wrapper=document.createElement("div"),this.wrapper.style.minHeight=this.height+"px",this.wrapper.style.minWidth=this.width+"px",this.wrapper.classList.add("node-wrapper","node-type-"+e.attributes.type.toLowerCase()),this.wrapper.setAttribute("id","node-view-"+this.system.id+"-"+this.node.id),this.outputWrapper=document.createElement("div"),this.outputWrapper.classList.add("node-outputs-wrapper"),this.wrapper.append(this.outputWrapper);const t=document.createElement("p");t.innerHTML=e.attributes.name||e.attributes.type,t.classList.add("node-title"),this.wrapper.appendChild(t),this.stateWrapper=document.createElement("div"),this.stateWrapper.classList.add("node-state-wrapper"),this.wrapper.append(this.stateWrapper),e.system.view.nodeContainer.append(this.wrapper);const{pos:{x:s=0,y:i=0}={}}=e.attributes;this.x=s,this.y=i,this.bindEventListeners(),this.wrapper.style.left=s+"px",this.wrapper.style.top=i+"px",setTimeout(()=>{const{width:o,height:r}=this.wrapper.getBoundingClientRect();this.width=o/this.system.view.s,this.height=r/this.system.view.s,this.updateViewPosition(s,i)},10)}bindEventListeners(){this.wrapper.addEventListener("mousedown",e=>this.handleMouseDown(e)),this._unsubscribeMouseMove=this.system.view.on("mousemove",e=>this.handleMouseMove(e)),this._unsubscribeMouseUp=this.system.view.on("mouseup",()=>this.handleMouseUp())}removeEventListeners(){this._unsubscribeMouseMove(),this._unsubscribeMouseUp(),this.wrapper.addEventListener("mousedown",e=>this.handleMouseDown(e))}set state(e){this.wrapper.classList.remove("node-active","node-selected","node-dragging"),e==="no-error"&&this.wrapper.classList.remove("node-error"),this.wrapper.classList.add("node-"+e),this._state=e}get state(){return this._state}handleMouseDown(e){var i,o,r,l;if(this.system.view.keyMap.space||e.button===2||e.target!==e.currentTarget)return;e.stopImmediatePropagation(),e.stopPropagation(),this.node.system.view.setActive(this.node,e);const{rmx:t,rmy:s}=this.system.view;this.mDownX=t,this.mDownY=s,this.downX=((o=(i=this.node.attributes)==null?void 0:i.pos)==null?void 0:o.x)||0,this.downY=((l=(r=this.node.attributes)==null?void 0:r.pos)==null?void 0:l.y)||0,this.active=!0,this.system.view.selectedNodes.length&&this.system.view.selectedNodes.forEach(a=>{a.view.active=!0,a.view.mDownX=t,a.view.mDownY=s,a.view.downX=a.view.x,a.view.downY=a.view.y})}handleMouseUp(){this.active=!1,this.hoveredConnection&&(this.hoveredConnection.connection.joinNode(this.node),delete this.hoveredConnection)}showUpdate(){this.wrapper.classList.add("is-updating"),setTimeout(()=>{this.wrapper.classList.remove("is-updating")},200)}handleMouseMove({mx:e,my:t,keys:s}){if(this.active){this.state="dragging";const i=s.ctrlKey?.02:1;let o=this.mDownX-e,r=this.mDownY-t;s.shiftKey&&(Math.abs(o)>Math.abs(r)?r=0:o=0);const l=Math.round((this.downX-o/this.system.view.s)*i)/i,a=Math.round((this.downY-r/this.system.view.s)*i)/i;this.setPosition(l,a)}}updateViewPosition(e=(o=>(o=(i=>(i=(s=>(s=this.node.attributes)==null?void 0:s.pos)())==null?void 0:i.x)())!=null?o:this.x)(),t=(a=>(a=(l=>(l=(r=>(r=this.node.attributes)==null?void 0:r.pos)())==null?void 0:l.y)())!=null?a:this.y)()){this.wrapper.style.left=e+"px",this.wrapper.style.top=t+"px",Object.values(this.node.states).forEach(c=>{var u;return(u=c==null?void 0:c.view)==null?void 0:u.updatePosition()}),this.node.outputs.forEach(c=>c.view.updatePosition())}setPosition(e,t){this.x=e,this.y=t,this.node.setAttributes({pos:{x:e,y:t}}),this.updateViewPosition()}remove(){this.removeEventListeners(),this.wrapper.remove()}}function On(){return"window"in globalThis}const hs=On();function fs(n){const e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}function ci(n){const e=n-1;return e*e*e+1}function ds(n,{delay:e=0,duration:t=400,easing:s=ji}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:o=>`opacity: ${o*i}`}}function vt(n,{delay:e=0,duration:t=400,easing:s=ci}={}){const i=getComputedStyle(n),o=+i.opacity,r=parseFloat(i.height),l=parseFloat(i.paddingTop),a=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),f=parseFloat(i.borderTopWidth),d=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:s,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*o};height: ${h*r}px;padding-top: ${h*l}px;padding-bottom: ${h*a}px;margin-top: ${h*c}px;margin-bottom: ${h*u}px;border-top-width: ${h*f}px;border-bottom-width: ${h*d}px;`}}function ps(n,{delay:e=0,duration:t=400,easing:s=ci,start:i=0,opacity:o=0}={}){const r=getComputedStyle(n),l=+r.opacity,a=r.transform==="none"?"":r.transform,c=1-i,u=l*(1-o);return{delay:e,duration:t,easing:s,css:(f,d)=>`
			transform: ${a} scale(${1-c*d});
			opacity: ${l-u*d}
		`}}var Vn=`<svg version="1.2" baseProfile="tiny" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
	 x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" xml:space="preserve">
</svg>
`,Dn=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <title>branch</title>
  <path class="cls-1" d="M49.59,57.35,72.15,38.69"/>
  <path class="cls-1" d="M51.58,29.45,38,11.21"/>
  <path class="cls-1" d="M53.14,82.61,21.78,55.74"/>
  <path class="cls-1" d="M33.46,47.91l4,21"/>
  <polyline class="cls-1" points="56 97 50 58 51 28 56 16"/>
</svg>
`,An='<svg id="e7691b6e-31fa-49a4-aaec-be19b623d191" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><style>.b50603dd-20d5-40a2-a0ce-2fdf3b92ec21{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:5px;}</style></defs><title>checkmark</title><path class="b50603dd-20d5-40a2-a0ce-2fdf3b92ec21" d="M75.5,30,40.43,72.47a2,2,0,0,1-3.08,0L24.5,57"/></svg>',Pn=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
<defs>
</defs>
	<circle  cx="50.37" cy="50.5" r="17.23"/>
  <path  d="M38.07,20.49,32.17,8.05,50.83,4.41l.61,13.8,12.13,2.28L68.73,8.05l14,10.16-9,10L81.17,38.7l12-5.47,3.34,17.3H81.93L80.57,63l12.59,6.37L82.7,83.62l-9-9.86L63.58,81.19l5.15,11.23-17.9,3.64V82.71L38.08,81.19,32.77,92.42,17.44,82.71l10.17-8.35L19.11,63,8.19,69.36,4.4,50.56H17.45l1.67-13.81L8.2,30.84l9.25-13.2,11.08,8.81Z"/>
</svg>
`,jn=`<svg
  xmlns="http://www.w3.org/2000/svg"
	viewBox="0 0 100 100">
  <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" x1="27.836" y1="72.164" x2="72.164" y2="27.836"/>
  <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" x1="27.836" y1="27.988" x2="72.164" y2="72.012"/>
</svg>
`,$n=`<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M50.552 59.3295L39.0695 13.7056H60.2078L50.552 59.3295Z" stroke-linejoin="round"/>
<path d="M58.4305 77.2411C58.4305 80.8276 55.4725 83.7944 51.7497 83.7944C48.0269 83.7944 45.0688 80.8276 45.0688 77.2411C45.0688 73.6546 48.0269 70.6878 51.7497 70.6878C55.4725 70.6878 58.4305 73.6546 58.4305 77.2411Z"/>
</svg>
`,Bn=`<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">

<defs>
	<style>
		path{
			stroke: white;
			stroke-width: 5px;
		}
	</style>
</defs>

<path d="M23.5167 72.9513V32.1483H82.1056L87.6855 37.0307V76.09L82.1056 78.5312H29.4453L23.5167 72.9513Z" />
<path d="M23.2747 73.6489L12.3145 30.0463L15.8885 21.4688H71.8808L75.693 32.9055" />
<path d="M25.488 43.9781H86.7394" />
</svg>
`,Rn=`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
<path d="M70.5 26.5L77.5 23.5L82 32V69L77.5 82L64.5 92.5H47L32 82L18 46L21 40H27L35 57.5V15.5L39.5 11L45.5 13.5M70.5 26.5L69 15.5L58.5 14M70.5 26.5V57.5M58.5 14L55 8L45.5 13.5M58.5 14V49M45.5 13.5V49" stroke-width="5"/>
</svg>
`,Fn=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <style>.cls-1{fill:none;stroke:#fff;stroke-width:5px;}</style>
  </defs>
  <title>leaf</title>
  <path class="cls-1" d="M50.69,96.21,72.86,72.33,77,47,65.91,21.7,50.66,4.5"/>
  <path class="cls-1" d="M53.37,96.21,31.2,72.33,27.07,47,38.15,21.7,53.4,4.5"/>
</svg>`,Un=`<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M30.2312 46.4809V15.6962L33.3006 8H40.8035L44.3844 11.0785V29.7203H52.9104L55.9798 33.8249H65.0173L68.0867 38.9557L76.2717 40.1529L79 56.0583L73.7139 72.9899L66.8931 93H36.5405L30.2312 75.5553L20 60.334L21.7052 50.2435L30.2312 46.4809ZM30.2312 46.4809V58.1107M44.3844 29.3783V46.3099M56.4913 34.5091V46.3099M68.7688 39.2978V50.4145" stroke="white" stroke-width="5"/>
</svg>
`,Hn=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <style>.cls-1{fill:none;stroke:#fff;stroke-width:5px;}</style>
  </defs>
  <title>stem</title>
  <path class="cls-1" d="M49,95.5l8.66-23.19L43.24,46.07l10.59-21L43.24,4.5"/>
</svg>`,zn=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" xml:space="preserve">
  <polygon fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" points="33.5,73.759 33.5,26.241 67.441,50 "/>
</svg>
`,Wn=`<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M54.7631 15.1799L91.7944 79.3201C93.9114 82.9867 91.2652 87.5701 87.0313 87.5701H12.9687C8.73476 87.5701 6.08857 82.9867 8.20552 79.3201L45.2368 15.1799C47.3538 11.5133 52.6462 11.5133 54.7631 15.1799Z" stroke="white" stroke-width="5" stroke-linejoin="round"/>
<ellipse cx="50.0578" cy="73.7787" rx="5.98166" ry="5.89858" fill="white"/>
<path d="M52.9755 60.2707C52.5275 63.7615 47.4723 63.7615 47.0243 60.2707L43.5981 33.5748C43.3678 31.781 44.7652 30.1929 46.5736 30.1929L53.4261 30.1929C55.2346 30.1929 56.6319 31.781 56.4017 33.5748L52.9755 60.2707Z" fill="white"/>
</svg>
`,Xn=`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
<path d="M32.7792 25.4477L45.6598 15.6472L61.6205 20.4075L67.2208 32.728L54.3402 46.4486L50.9801 59.3291V63.9218" stroke-width="8"/>
<path d="M47.3642 83.3434L44.983 79.0169L46.821 74.3331L51.3861 73.0881L55.5363 75.0446L56.307 80.8548L52.3347 84.3528L47.3642 83.3434Z" />
</svg>

`,Yn=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M42 88.5V80V63.5L32 55L26 39.5L32 24.5L46 15L67.5 19L78 30.5V51.5L65 66.5V76V88.5L59.5 94.5H46L42 88.5Z"/>
<path d="M42 74L64.5 83" />
<path d="M42.5 82.5L63 91" />
<path d="M42 70L67 71"/>
<path d="M51.5 69.5L49.5 58.5L43.5 51.5L60.5 50.5L59 57.5L58 71.5" />
<path d="M55 25.5L64.5 28.5L69 38V44"/>
<path d="M19 28.5L11.5 23.5M35 14L29 4.5M61 10L63 -0.5M78 19.5L90.5 10M85 39.5L92 39"/>
<path d="M22.5 50L14.5 52.5"/>
</svg>
`,qn=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M42 86.5V78V61.5L32 53L26 37.5L32 22.5L46 13L67.5 17L78 28.5V49.5L65 64.5V74V86.5L59.5 92.5H46L42 86.5Z" />
<path d="M42 72L64.5 81" />
<path d="M42.5 80.5L63 89" />
<path d="M42 68L67 69" />
<path d="M51.5 67.5L49.5 56.5L43.5 49.5L60.5 48.5L59 55.5L58 69.5"/>
<path d="M55 23.5L64.5 26.5L69 36V42" />
</svg>
`,ms=Object.freeze(Object.defineProperty({__proto__:null,arrow:Vn,branch:Dn,checkmark:An,cog:Pn,cross:jn,exclamation:$n,folder:Bn,hand:Rn,leaf:Fn,pointing:Un,stem:Hn,triangle:zn,warning:Wn,question:Xn,bulb:Yn,bulb_dark:qn},Symbol.toStringTag,{value:"Module"}));function Zn(n){let e;return{c(){e=N("div"),this.h()},l(t){e=S(t,"DIV",{class:!0});var s=E(e);s.forEach(v),this.h()},h(){p(e,"class","icon-wrapper svelte-dl7u2q"),R(e,"active",n[0]),R(e,"dark",n[1]),R(e,"circle",n[2])},m(t,s){O(t,e,s),e.innerHTML=n[3]},p(t,[s]){s&8&&(e.innerHTML=t[3]),s&1&&R(e,"active",t[0]),s&2&&R(e,"dark",t[1]),s&4&&R(e,"circle",t[2])},i:U,o:U,d(t){t&&v(e)}}}function Kn(n,e,t){let s,{name:i="triangle"}=e,{active:o=!1}=e,{dark:r=!1}=e,{circle:l=!1}=e;return n.$$set=a=>{"name"in a&&t(4,i=a.name),"active"in a&&t(0,o=a.active),"dark"in a&&t(1,r=a.dark),"circle"in a&&t(2,l=a.circle)},n.$$.update=()=>{n.$$.dirty&16&&t(3,s=i in ms?ms[i]:i.toString()+" icon not found")},[o,r,l,s,i]}class jt extends ae{constructor(e){super(),ce(this,e,Kn,Zn,ue,{name:4,active:0,dark:1,circle:2})}}function vs(n){let e,t,s,i;const o=[Jn,Gn],r=[];function l(a,c){return a[7]?0:1}return e=l(n),t=r[e]=o[e](n),{c(){t.c(),s=J()},l(a){t.l(a),s=J()},m(a,c){r[e].m(a,c),O(a,s,c),i=!0},p(a,c){let u=e;e=l(a),e===u?r[e].p(a,c):(te(),A(r[u],1,1,()=>{r[u]=null}),se(),t=r[e],t?t.p(a,c):(t=r[e]=o[e](a),t.c()),V(t,1),t.m(s.parentNode,s))},i(a){i||(V(t),i=!0)},o(a){A(t),i=!1},d(a){r[e].d(a),a&&v(s)}}}function Gn(n){let e;return{c(){e=N("plant-icon"),this.h()},l(t){e=S(t,"PLANT-ICON",{name:!0,active:!0,class:!0}),E(e).forEach(v),this.h()},h(){be(e,"name",n[1]),be(e,"active",n[0]),be(e,"class","svelte-ilheui")},m(t,s){O(t,e,s)},p(t,s){s&2&&be(e,"name",t[1]),s&1&&be(e,"active",t[0])},i:U,o:U,d(t){t&&v(e)}}}function Jn(n){let e,t,s;return e=new jt({props:{name:n[1],active:n[0]}}),{c(){t=N("div"),ne(e.$$.fragment),this.h()},l(i){t=S(i,"DIV",{style:!0});var o=E(t);fe(e.$$.fragment,o),this.h()},h(){X(t,"display","contents"),X(t,"--width","25px")},m(i,o){O(i,t,o),oe(e,t,null),s=!0},p(i,o){const r={};o&2&&(r.name=i[1]),o&1&&(r.active=i[0]),e.$set(r)},i(i){s||(V(e.$$.fragment,i),s=!0)},o(i){A(e.$$.fragment,i),s=!1},d(i){i&&v(t),re(e,i)}}}function ys(n){let e,t;return{c(){e=N("p"),t=q(n[2]),this.h()},l(s){e=S(s,"P",{class:!0});var i=E(e);t=Z(i,n[2]),i.forEach(v),this.h()},h(){p(e,"class","svelte-ilheui")},m(s,i){O(s,e,i),g(e,t)},p(s,i){i&4&&me(t,s[2])},d(s){s&&v(e)}}}function Qn(n){let e,t,s,i,o,r,l,a,c=n[1]&&vs(n),u=n[2]&&ys(n);const f=n[10].default,d=ii(f,n,n[9],null);return{c(){e=N("div"),t=N("button"),c&&c.c(),s=H(),u&&u.c(),i=H(),o=N("div"),d&&d.c(),this.h()},l(h){e=S(h,"DIV",{class:!0});var m=E(e);t=S(m,"BUTTON",{class:!0});var y=E(t);c&&c.l(y),s=z(y),u&&u.l(y),i=z(y),o=S(y,"DIV",{class:!0});var _=E(o);d&&d.l(_),_.forEach(v),y.forEach(v),m.forEach(v),this.h()},h(){p(o,"class","content svelte-ilheui"),t.disabled=n[5],p(t,"class","svelte-ilheui"),R(t,"active",n[0]),R(t,"invert",n[4]),R(t,"useActive",n[3]),R(t,"only-icon",!n[2]),R(t,"has-icon",!!n[1]),p(e,"class","component-wrapper svelte-ilheui")},m(h,m){O(h,e,m),g(e,t),c&&c.m(t,null),g(t,s),u&&u.m(t,null),g(t,i),g(t,o),d&&d.m(o,null),n[11](t),r=!0,l||(a=$(t,"click",n[8]),l=!0)},p(h,[m]){h[1]?c?(c.p(h,m),m&2&&V(c,1)):(c=vs(h),c.c(),V(c,1),c.m(t,s)):c&&(te(),A(c,1,1,()=>{c=null}),se()),h[2]?u?u.p(h,m):(u=ys(h),u.c(),u.m(t,i)):u&&(u.d(1),u=null),d&&d.p&&(!r||m&512)&&ni(d,f,h,h[9],r?ri(f,h[9],m,null):oi(h[9]),null),(!r||m&32)&&(t.disabled=h[5]),m&1&&R(t,"active",h[0]),m&16&&R(t,"invert",h[4]),m&8&&R(t,"useActive",h[3]),m&4&&R(t,"only-icon",!h[2]),m&2&&R(t,"has-icon",!!h[1])},i(h){r||(V(c),V(d,h),r=!0)},o(h){A(c),A(d,h),r=!1},d(h){h&&v(e),c&&c.d(),u&&u.d(),d&&d.d(h),n[11](null),l=!1,a()}}}function eo(n,e,t){let s,{$$slots:i={},$$scope:o}=e,{icon:r=void 0}=e,{name:l=""}=e,{active:a=!1}=e,{useActive:c=!1}=e,{invert:u=!1}=e,{disabled:f=!1}=e,d;const h=Le(),m=()=>{t(0,a=!a),h("click")};function y(_){Oe[_?"unshift":"push"](()=>{d=_,t(6,d)})}return n.$$set=_=>{"icon"in _&&t(1,r=_.icon),"name"in _&&t(2,l=_.name),"active"in _&&t(0,a=_.active),"useActive"in _&&t(3,c=_.useActive),"invert"in _&&t(4,u=_.invert),"disabled"in _&&t(5,f=_.disabled),"$$scope"in _&&t(9,o=_.$$scope)},n.$$.update=()=>{n.$$.dirty&64&&t(7,s=d&&!!d.parentElement)},[a,r,l,c,u,f,d,s,m,o,i,y]}class Je extends ae{constructor(e){super(),ce(this,e,eo,Qn,ue,{icon:1,name:2,active:0,useActive:3,invert:4,disabled:5})}}var ui={exports:{}},ct=1;function to(){return ct=(ct*9301+49297)%233280,ct/233280}function so(n){ct=n}var io={nextValue:to,seed:so},St=io,De="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",Te,ws,qe;function Ct(){qe=!1}function hi(n){if(!n){Te!==De&&(Te=De,Ct());return}if(n!==Te){if(n.length!==De.length)throw new Error("Custom alphabet for shortid must be "+De.length+" unique characters. You submitted "+n.length+" characters: "+n);var e=n.split("").filter(function(t,s,i){return s!==i.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+De.length+" unique characters. These characters were not unique: "+e.join(", "));Te=n,Ct()}}function no(n){return hi(n),Te}function oo(n){St.seed(n),ws!==n&&(Ct(),ws=n)}function ro(){Te||hi(De);for(var n=Te.split(""),e=[],t=St.nextValue(),s;n.length>0;)t=St.nextValue(),s=Math.floor(t*n.length),e.push(n.splice(s,1)[0]);return e.join("")}function fi(){return qe||(qe=ro(),qe)}function lo(n){var e=fi();return e[n]}function ao(){return Te||De}var $t={get:ao,characters:no,seed:oo,lookup:lo,shuffled:fi},Et=typeof window=="object"&&(window.crypto||window.msCrypto),It;!Et||!Et.getRandomValues?It=function(n){for(var e=[],t=0;t<n;t++)e.push(Math.floor(Math.random()*256));return e}:It=function(n){return Et.getRandomValues(new Uint8Array(n))};var co=It,uo=function(n,e,t){for(var s=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*s*t/e.length),o="";;)for(var r=n(i),l=i;l--;)if(o+=e[r[l]&s]||"",o.length===+t)return o},ho=$t,fo=co,po=uo;function mo(n){for(var e=0,t,s="";!t;)s=s+po(fo,ho.get(),1),t=n<Math.pow(16,e+1),e++;return s}var vo=mo,rt=vo,yo=1567752802062,wo=7,lt,gs;function go(n){var e="",t=Math.floor((Date.now()-yo)*.001);return t===gs?lt++:(lt=0,gs=t),e=e+rt(wo),e=e+rt(n),lt>0&&(e=e+rt(lt)),e=e+rt(t),e}var _o=go,bo=$t;function ko(n){if(!n||typeof n!="string"||n.length<6)return!1;var e=new RegExp("[^"+bo.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!e.test(n)}var Eo=ko;(function(n){var e=$t,t=_o,s=Eo,i=0;function o(c){return e.seed(c),n.exports}function r(c){return i=c,n.exports}function l(c){return c!==void 0&&e.characters(c),e.shuffled()}function a(){return t(i)}n.exports=a,n.exports.generate=a,n.exports.seed=o,n.exports.worker=r,n.exports.characters=l,n.exports.isValid=s})(ui);var di=ui.exports,ve=(n=>(n.INFO="info",n.WARNING="warning",n.ERROR="error",n.SUCCESS="success",n))(ve||{});const Lo=n=>(e,t={})=>{var r;if(!e&&!t)return;const s=Array.isArray(t==null?void 0:t.values),i={id:di(),type:ve.INFO,content:e,props:t.props,title:(r=t==null?void 0:t.title)!=null?r:t==null?void 0:t.type,values:t==null?void 0:t.values,timeout:t==null?void 0:t.timeout},o=new Promise((l,a)=>{i.resolve=l,i.reject=()=>l(void 0)});if(o.finally(()=>n.update(l=>l.filter(a=>a.id!==i.id))),t&&"type"in t){const l=t.type.toLowerCase();Object.values(ve).forEach(a=>{l===a&&(i.type=a)})}if(e instanceof Error&&(i.type=ve.ERROR),typeof i.timeout=="undefined"){let l;i.type===ve.SUCCESS&&(l=3e3),i.type===ve.INFO&&(l=2e3),i.type===ve.WARNING&&(l=7e3),l&&!s&&(i.timeout=l)}return"title"in i||(i.title=i.type.toUpperCase().slice(0,1)+i.type.slice(1)),n.update(l=>[...l,i]),i.timeout&&setTimeout(i.resolve,i.timeout),o};var pi=()=>{const n=_t([]),e=Lo(n);return{store:n,createMessage:e,MessageType:ve}};const{store:xo,createMessage:Mo,MessageType:kl}=pi(),No=xo,El=Mo;function _s(n,e,t){const s=n.slice();return s[7]=e[t],s}function bs(n){let e,t,s,i,o,r,l,a,c,u,f,d,h,m;i=new Je({props:{icon:"cross"}}),i.$on("click",n[4]);let y=n[0].title&&ks(n);const _=[Co,So],L=[];function I(k,T){return typeof k[0].content=="string"?0:1}a=I(n),c=L[a]=_[a](n);let M=n[0].values&&Es(n);return{c(){e=N("div"),t=N("div"),s=N("div"),o=N("div"),ne(i.$$.fragment),r=H(),y&&y.c(),l=H(),c.c(),u=H(),M&&M.c(),this.h()},l(k){e=S(k,"DIV",{class:!0});var T=E(e);t=S(T,"DIV",{class:!0});var b=E(t);s=S(b,"DIV",{class:!0});var F=E(s);o=S(F,"DIV",{style:!0});var x=E(o);fe(i.$$.fragment,x),F.forEach(v),r=z(b),y&&y.l(b),l=z(b),c.l(b),u=z(b),M&&M.l(b),b.forEach(v),T.forEach(v),this.h()},h(){X(o,"display","contents"),X(o,"--foreground-color","transparent"),p(s,"class","close-wrapper svelte-3vp4n3"),p(t,"class",f="alert-wrapper alert-"+n[0].type+" svelte-3vp4n3"),R(t,"isInverted",n[1]),p(e,"class","alert-container svelte-3vp4n3")},m(k,T){O(k,e,T),g(e,t),g(t,s),g(s,o),oe(i,o,null),g(t,r),y&&y.m(t,null),g(t,l),L[a].m(t,null),g(t,u),M&&M.m(t,null),m=!0},p(k,T){k[0].title?y?y.p(k,T):(y=ks(k),y.c(),y.m(t,l)):y&&(y.d(1),y=null);let b=a;a=I(k),a===b?L[a].p(k,T):(te(),A(L[b],1,1,()=>{L[b]=null}),se(),c=L[a],c?c.p(k,T):(c=L[a]=_[a](k),c.c()),V(c,1),c.m(t,u)),k[0].values?M?(M.p(k,T),T&1&&V(M,1)):(M=Es(k),M.c(),V(M,1),M.m(t,null)):M&&(te(),A(M,1,1,()=>{M=null}),se()),(!m||T&1&&f!==(f="alert-wrapper alert-"+k[0].type+" svelte-3vp4n3"))&&p(t,"class",f),T&3&&R(t,"isInverted",k[1])},i(k){m||(V(i.$$.fragment,k),V(c),V(M),ht(()=>{d||(d=Ie(t,ps,{},!0)),d.run(1)}),ht(()=>{h||(h=Ie(e,ds,{},!0)),h.run(1)}),m=!0)},o(k){A(i.$$.fragment,k),A(c),A(M),d||(d=Ie(t,ps,{},!1)),d.run(0),h||(h=Ie(e,ds,{},!1)),h.run(0),m=!1},d(k){k&&v(e),re(i),y&&y.d(),L[a].d(),M&&M.d(),k&&d&&d.end(),k&&h&&h.end()}}}function ks(n){let e,t=n[0].title+"",s;return{c(){e=N("h2"),s=q(t),this.h()},l(i){e=S(i,"H2",{class:!0});var o=E(e);s=Z(o,t),o.forEach(v),this.h()},h(){p(e,"class","svelte-3vp4n3")},m(i,o){O(i,e,o),g(e,s)},p(i,o){o&1&&t!==(t=i[0].title+"")&&me(s,t)},d(i){i&&v(e)}}}function So(n){let e,t,s;const i=[n[0].props];var o=n[0].content;function r(l){let a={};for(let c=0;c<i.length;c+=1)a=Ri(a,i[c]);return{props:a}}return o&&(e=new o(r()),e.$on("close",n[5])),{c(){e&&ne(e.$$.fragment),t=J()},l(l){e&&fe(e.$$.fragment,l),t=J()},m(l,a){e&&oe(e,l,a),O(l,t,a),s=!0},p(l,a){const c=a&1?$i(i,[Bi(l[0].props)]):{};if(o!==(o=l[0].content)){if(e){te();const u=e;A(u.$$.fragment,1,0,()=>{re(u,1)}),se()}o?(e=new o(r()),e.$on("close",l[5]),ne(e.$$.fragment),V(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(l){s||(e&&V(e.$$.fragment,l),s=!0)},o(l){e&&A(e.$$.fragment,l),s=!1},d(l){l&&v(t),e&&re(e,l)}}}function Co(n){let e,t=n[0].content+"";return{c(){e=N("p")},l(s){e=S(s,"P",{});var i=E(e);i.forEach(v)},m(s,i){O(s,e,i),e.innerHTML=t},p(s,i){i&1&&t!==(t=s[0].content+"")&&(e.innerHTML=t)},i:U,o:U,d(s){s&&v(e)}}}function Es(n){let e,t,s=n[0].values,i=[];for(let r=0;r<s.length;r+=1)i[r]=Ls(_s(n,s,r));const o=r=>A(i[r],1,1,()=>{i[r]=null});return{c(){e=N("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=S(r,"DIV",{class:!0});var l=E(e);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(v),this.h()},h(){p(e,"class","options-wrapper svelte-3vp4n3")},m(r,l){O(r,e,l);for(let a=0;a<i.length;a+=1)i[a].m(e,null);t=!0},p(r,l){if(l&1){s=r[0].values;let a;for(a=0;a<s.length;a+=1){const c=_s(r,s,a);i[a]?(i[a].p(c,l),V(i[a],1)):(i[a]=Ls(c),i[a].c(),V(i[a],1),i[a].m(e,null))}for(te(),a=s.length;a<i.length;a+=1)o(a);se()}},i(r){if(!t){for(let l=0;l<s.length;l+=1)V(i[l]);t=!0}},o(r){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)A(i[l]);t=!1},d(r){r&&v(e),Ee(i,r)}}}function Ls(n){let e,t,s;function i(){return n[6](n[7])}return e=new Je({props:{name:n[7]}}),e.$on("click",i),{c(){t=N("div"),ne(e.$$.fragment),this.h()},l(o){t=S(o,"DIV",{style:!0});var r=E(t);fe(e.$$.fragment,r),this.h()},h(){X(t,"display","contents"),X(t,"--bg","#303030"),X(t,"--text","white"),X(t,"--margin","0 10px 0 0")},m(o,r){O(o,t,r),oe(e,t,null),s=!0},p(o,r){n=o;const l={};r&1&&(l.name=n[7]),e.$set(l)},i(o){s||(V(e.$$.fragment,o),s=!0)},o(o){A(e.$$.fragment,o),s=!1},d(o){o&&v(t),re(e,o)}}}function Io(n){let e,t,s,i,o=n[0]&&bs(n);return{c(){o&&o.c(),e=J()},l(r){o&&o.l(r),e=J()},m(r,l){o&&o.m(r,l),O(r,e,l),t=!0,s||(i=$(window,"keydown",n[2]),s=!0)},p(r,[l]){r[0]?o?(o.p(r,l),l&1&&V(o,1)):(o=bs(r),o.c(),V(o,1),o.m(e.parentNode,e)):o&&(te(),A(o,1,1,()=>{o=null}),se())},i(r){t||(V(o),t=!0)},o(r){A(o),t=!1},d(r){o&&o.d(r),r&&v(e),s=!1,i()}}}function To(n,e,t){let s,i,o;wt(n,No,u=>t(3,o=u));function r(u){u.key==="Escape"&&s&&s.reject()}const l=()=>{s.reject()},a=()=>s.resolve(!1),c=u=>s.resolve(u);return n.$$.update=()=>{n.$$.dirty&8&&t(0,s=o[0]),n.$$.dirty&1&&(s?hs&&document.body.classList.add("overlay-visible"):hs&&document.body.classList.remove("overlay-visible")),n.$$.dirty&1&&t(1,i=s&&(s.type==="success"||s.type==="warning"))},[s,i,r,o,l,a,c]}class Oo extends ae{constructor(e){super(),ce(this,e,To,Io,ue,{})}}const{store:Vo,createMessage:Do}=pi(),Ao=Vo,Ll=Do;function xs(n,e,t){const s=n.slice();return s[1]=e[t],s}function Ms(n){let e,t,s,i=n[0].type+"",o,r,l,a=n[0].title+"",c,u,f,d,h,m,y,_,L=n[0].lines,I=[];for(let M=0;M<L.length;M+=1)I[M]=Ns(xs(n,L,M));return{c(){e=N("div"),t=N("p"),s=N("b"),o=q(i),r=q(":"),l=H(),c=q(a),u=H(),f=N("pre"),d=q("    "),h=N("code"),m=q(`
      `);for(let M=0;M<I.length;M+=1)I[M].c();y=q(`
    `),_=q(`
  `),this.h()},l(M){e=S(M,"DIV",{class:!0});var k=E(e);t=S(k,"P",{});var T=E(t);s=S(T,"B",{});var b=E(s);o=Z(b,i),r=Z(b,":"),b.forEach(v),l=z(T),c=Z(T,a),T.forEach(v),u=z(k),f=S(k,"PRE",{class:!0});var F=E(f);d=Z(F,"    "),h=S(F,"CODE",{});var x=E(h);m=Z(x,`
      `);for(let j=0;j<I.length;j+=1)I[j].l(x);y=Z(x,`
    `),x.forEach(v),_=Z(F,`
  `),F.forEach(v),k.forEach(v),this.h()},h(){p(f,"class","svelte-pl1jfp"),p(e,"class","wrapper svelte-pl1jfp")},m(M,k){O(M,e,k),g(e,t),g(t,s),g(s,o),g(s,r),g(t,l),g(t,c),g(e,u),g(e,f),g(f,d),g(f,h),g(h,m);for(let T=0;T<I.length;T+=1)I[T].m(h,null);g(h,y),g(f,_)},p(M,k){if(k&1&&i!==(i=M[0].type+"")&&me(o,i),k&1&&a!==(a=M[0].title+"")&&me(c,a),k&1){L=M[0].lines;let T;for(T=0;T<L.length;T+=1){const b=xs(M,L,T);I[T]?I[T].p(b,k):(I[T]=Ns(b),I[T].c(),I[T].m(h,y))}for(;T<I.length;T+=1)I[T].d(1);I.length=L.length}},d(M){M&&v(e),Ee(I,M)}}}function Ns(n){let e,t,s=n[1].methodName+"",i,o,r,l=n[1].file+"",a,c;return{c(){e=q("at "),t=N("strong"),i=q(s),o=q(" "),r=N("i"),a=q(l),c=N("br")},l(u){e=Z(u,"at "),t=S(u,"STRONG",{});var f=E(t);i=Z(f,s),f.forEach(v),o=Z(u," "),r=S(u,"I",{});var d=E(r);a=Z(d,l),d.forEach(v),c=S(u,"BR",{})},m(u,f){O(u,e,f),O(u,t,f),g(t,i),O(u,o,f),O(u,r,f),g(r,a),O(u,c,f)},p(u,f){f&1&&s!==(s=u[1].methodName+"")&&me(i,s),f&1&&l!==(l=u[1].file+"")&&me(a,l)},d(u){u&&v(e),u&&v(t),u&&v(o),u&&v(r),u&&v(c)}}}function Po(n){let e,t=n[0]&&Ms(n);return{c(){t&&t.c(),e=J()},l(s){t&&t.l(s),e=J()},m(s,i){t&&t.m(s,i),O(s,e,i)},p(s,[i]){s[0]?t?t.p(s,i):(t=Ms(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:U,o:U,d(s){t&&t.d(s),s&&v(e)}}}function jo(n,e,t){let{stacktrace:s}=e;return n.$$set=i=>{"stacktrace"in i&&t(0,s=i.stacktrace)},[s]}class $o extends ae{constructor(e){super(),ce(this,e,jo,Po,ue,{stacktrace:0})}}function Ss(n,e,t){const s=n.slice();return s[13]=e[t],s}function Cs(n){let e,t,s,i,o,r,l,a,c,u,f,d,h,m,y,_,L,I,M,k,T,b,F,x=n[6]&&Is(n),j=n[0].title&&Ts(n);const G=[Fo,Ro,Bo],ie=[];function he(B,K){return typeof B[0].content=="string"?0:B[0].content instanceof Error?1:B[0].content instanceof Fi?2:-1}~(l=he(n))&&(a=ie[l]=G[l](n));let Y=n[0].content instanceof Error&&Vs(n),W=n[0].values&&Ds(n);return m=new jt({props:{name:"cross"}}),{c(){e=N("div"),t=N("div"),s=N("div"),x&&x.c(),i=H(),o=N("div"),j&&j.c(),r=H(),a&&a.c(),c=H(),u=N("div"),Y&&Y.c(),f=H(),W&&W.c(),d=H(),h=N("div"),y=N("div"),ne(m.$$.fragment),L=H(),I=N("div"),this.h()},l(B){e=S(B,"DIV",{class:!0});var K=E(e);t=S(K,"DIV",{class:!0});var ye=E(t);s=S(ye,"DIV",{class:!0});var Me=E(s);x&&x.l(Me),i=z(Me),o=S(Me,"DIV",{class:!0});var Ne=E(o);j&&j.l(Ne),r=z(Ne),a&&a.l(Ne),c=z(Ne),u=S(Ne,"DIV",{class:!0});var Se=E(u);Y&&Y.l(Se),f=z(Se),W&&W.l(Se),Se.forEach(v),Ne.forEach(v),d=z(Me),h=S(Me,"DIV",{class:!0});var We=E(h);y=S(We,"DIV",{style:!0});var Xe=E(y);fe(m.$$.fragment,Xe),We.forEach(v),Me.forEach(v),L=z(ye),I=S(ye,"DIV",{style:!0,class:!0}),E(I).forEach(v),ye.forEach(v),K.forEach(v),this.h()},h(){p(u,"class","button-wrapper svelte-pmp1k"),p(o,"class","toast-text svelte-pmp1k"),X(y,"display","contents"),X(y,"--text-color",_="var(--text-color-invert)"),X(y,"--height","fit-content"),p(h,"class","toast-close svelte-pmp1k"),p(s,"class","toast-content svelte-pmp1k"),R(s,"hasIcon",!!n[6]),p(I,"style",M=`transition: width ${n[0].timeout}ms linear;`),p(I,"class","toast-progress svelte-pmp1k"),R(I,"animateProgress",n[2]),p(t,"class",k="toast toast-"+n[0].type+" svelte-pmp1k"),R(t,"isInverted",n[5]),p(e,"class","wrapper svelte-pmp1k")},m(B,K){O(B,e,K),g(e,t),g(t,s),x&&x.m(s,null),g(s,i),g(s,o),j&&j.m(o,null),g(o,r),~l&&ie[l].m(o,null),g(o,c),g(o,u),Y&&Y.m(u,null),g(u,f),W&&W.m(u,null),g(s,d),g(s,h),g(h,y),oe(m,y,null),g(t,L),g(t,I),n[11](e),T=!0,b||(F=$(h,"click",n[10]),b=!0)},p(B,K){B[6]?x?(x.p(B,K),K&64&&V(x,1)):(x=Is(B),x.c(),V(x,1),x.m(s,i)):x&&(te(),A(x,1,1,()=>{x=null}),se()),B[0].title?j?j.p(B,K):(j=Ts(B),j.c(),j.m(o,r)):j&&(j.d(1),j=null);let ye=l;l=he(B),l===ye?~l&&ie[l].p(B,K):(a&&(te(),A(ie[ye],1,1,()=>{ie[ye]=null}),se()),~l?(a=ie[l],a?a.p(B,K):(a=ie[l]=G[l](B),a.c()),V(a,1),a.m(o,c)):a=null),B[0].content instanceof Error?Y?(Y.p(B,K),K&1&&V(Y,1)):(Y=Vs(B),Y.c(),V(Y,1),Y.m(u,f)):Y&&(te(),A(Y,1,1,()=>{Y=null}),se()),B[0].values?W?(W.p(B,K),K&1&&V(W,1)):(W=Ds(B),W.c(),V(W,1),W.m(u,null)):W&&(te(),A(W,1,1,()=>{W=null}),se()),K&64&&R(s,"hasIcon",!!B[6]),(!T||K&1&&M!==(M=`transition: width ${B[0].timeout}ms linear;`))&&p(I,"style",M),K&4&&R(I,"animateProgress",B[2]),(!T||K&1&&k!==(k="toast toast-"+B[0].type+" svelte-pmp1k"))&&p(t,"class",k),K&33&&R(t,"isInverted",B[5])},i(B){T||(V(x),V(a),V(Y),V(W),V(m.$$.fragment,B),T=!0)},o(B){A(x),A(a),A(Y),A(W),A(m.$$.fragment,B),T=!1},d(B){B&&v(e),x&&x.d(),j&&j.d(),~l&&ie[l].d(),Y&&Y.d(),W&&W.d(),re(m),n[11](null),b=!1,F()}}}function Is(n){let e,t,s,i;return t=new jt({props:{name:n[6],circle:!0}}),{c(){e=N("div"),s=N("div"),ne(t.$$.fragment),this.h()},l(o){e=S(o,"DIV",{class:!0});var r=E(e);s=S(r,"DIV",{style:!0});var l=E(s);fe(t.$$.fragment,l),r.forEach(v),this.h()},h(){X(s,"display","contents"),X(s,"--text-color","var(--text-color-invert)"),X(s,"--width","40px"),X(s,"--height","40px"),p(e,"class","toast-icon svelte-pmp1k")},m(o,r){O(o,e,r),g(e,s),oe(t,s,null),i=!0},p(o,r){const l={};r&64&&(l.name=o[6]),t.$set(l)},i(o){i||(V(t.$$.fragment,o),i=!0)},o(o){A(t.$$.fragment,o),i=!1},d(o){o&&v(e),re(t)}}}function Ts(n){let e,t=n[0].title+"",s;return{c(){e=N("h3"),s=q(t),this.h()},l(i){e=S(i,"H3",{class:!0});var o=E(e);s=Z(o,t),o.forEach(v),this.h()},h(){p(e,"class","svelte-pmp1k")},m(i,o){O(i,e,o),g(e,s)},p(i,o){o&1&&t!==(t=i[0].title+"")&&me(s,t)},d(i){i&&v(e)}}}function Bo(n){let e,t,s;var i=n[0].content;function o(r){return{}}return i&&(e=new i(o())),{c(){e&&ne(e.$$.fragment),t=J()},l(r){e&&fe(e.$$.fragment,r),t=J()},m(r,l){e&&oe(e,r,l),O(r,t,l),s=!0},p(r,l){if(i!==(i=r[0].content)){if(e){te();const a=e;A(a.$$.fragment,1,0,()=>{re(a,1)}),se()}i?(e=new i(o()),ne(e.$$.fragment),V(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}},i(r){s||(e&&V(e.$$.fragment,r),s=!0)},o(r){e&&A(e.$$.fragment,r),s=!1},d(r){r&&v(t),e&&re(e,r)}}}function Ro(n){let e,t=n[0].content.message+"",s,i,o,r,l=n[3]&&Os(n);return{c(){e=N("p"),s=q(t),i=H(),l&&l.c(),o=J(),this.h()},l(a){e=S(a,"P",{class:!0});var c=E(e);s=Z(c,t),c.forEach(v),i=z(a),l&&l.l(a),o=J(),this.h()},h(){p(e,"class","svelte-pmp1k")},m(a,c){O(a,e,c),g(e,s),O(a,i,c),l&&l.m(a,c),O(a,o,c),r=!0},p(a,c){(!r||c&1)&&t!==(t=a[0].content.message+"")&&me(s,t),a[3]?l?(l.p(a,c),c&8&&V(l,1)):(l=Os(a),l.c(),V(l,1),l.m(o.parentNode,o)):l&&(te(),A(l,1,1,()=>{l=null}),se())},i(a){r||(V(l),r=!0)},o(a){A(l),r=!1},d(a){a&&v(e),a&&v(i),l&&l.d(a),a&&v(o)}}}function Fo(n){let e,t=n[0].content+"";return{c(){e=N("p"),this.h()},l(s){e=S(s,"P",{class:!0});var i=E(e);i.forEach(v),this.h()},h(){p(e,"class","svelte-pmp1k")},m(s,i){O(s,e,i),e.innerHTML=t},p(s,i){i&1&&t!==(t=s[0].content+"")&&(e.innerHTML=t)},i:U,o:U,d(s){s&&v(e)}}}function Os(n){let e,t,s,i;return t=new $o({props:{stacktrace:as(n[0].content)}}),{c(){e=N("div"),ne(t.$$.fragment),this.h()},l(o){e=S(o,"DIV",{class:!0});var r=E(e);fe(t.$$.fragment,r),r.forEach(v),this.h()},h(){p(e,"class","stack-trace svelte-pmp1k")},m(o,r){O(o,e,r),oe(t,e,null),i=!0},p(o,r){const l={};r&1&&(l.stacktrace=as(o[0].content)),t.$set(l)},i(o){i||(V(t.$$.fragment,o),ht(()=>{s||(s=Ie(e,vt,{},!0)),s.run(1)}),i=!0)},o(o){A(t.$$.fragment,o),s||(s=Ie(e,vt,{},!1)),s.run(0),i=!1},d(o){o&&v(e),re(t),o&&s&&s.end()}}}function Vs(n){let e,t,s;return e=new Je({props:{invert:n[5],name:"> StackTrace"}}),e.$on("click",n[7]),{c(){t=N("div"),ne(e.$$.fragment),this.h()},l(i){t=S(i,"DIV",{style:!0});var o=E(t);fe(e.$$.fragment,o),this.h()},h(){X(t,"display","contents"),X(t,"--margin","5px 10px 5px -10px"),X(t,"--bg","transparent")},m(i,o){O(i,t,o),oe(e,t,null),s=!0},p(i,o){const r={};o&32&&(r.invert=i[5]),e.$set(r)},i(i){s||(V(e.$$.fragment,i),s=!0)},o(i){A(e.$$.fragment,i),s=!1},d(i){i&&v(t),re(e,i)}}}function Ds(n){let e,t,s=n[0].values,i=[];for(let r=0;r<s.length;r+=1)i[r]=As(Ss(n,s,r));const o=r=>A(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=J()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);e=J()},m(r,l){for(let a=0;a<i.length;a+=1)i[a].m(r,l);O(r,e,l),t=!0},p(r,l){if(l&17){s=r[0].values;let a;for(a=0;a<s.length;a+=1){const c=Ss(r,s,a);i[a]?(i[a].p(c,l),V(i[a],1)):(i[a]=As(c),i[a].c(),V(i[a],1),i[a].m(e.parentNode,e))}for(te(),a=s.length;a<i.length;a+=1)o(a);se()}},i(r){if(!t){for(let l=0;l<s.length;l+=1)V(i[l]);t=!0}},o(r){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)A(i[l]);t=!1},d(r){Ee(i,r),r&&v(e)}}}function Uo(n){let e,t,s;function i(){return n[9](n[13])}return e=new Je({props:{invert:!0,name:n[13]}}),e.$on("click",i),{c(){t=N("div"),ne(e.$$.fragment),this.h()},l(o){t=S(o,"DIV",{style:!0});var r=E(t);fe(e.$$.fragment,r),this.h()},h(){X(t,"display","contents"),X(t,"--height","fit-content"),X(t,"--white-space","break-spaces"),X(t,"--margin","5px 10px 5px 0")},m(o,r){O(o,t,r),oe(e,t,null),s=!0},p(o,r){n=o;const l={};r&1&&(l.name=n[13]),e.$set(l)},i(o){s||(V(e.$$.fragment,o),s=!0)},o(o){A(e.$$.fragment,o),s=!1},d(o){o&&v(t),re(e,o)}}}function Ho(n){let e,t,s,i;function o(){return n[8](n[13])}return{c(){e=N("plant-button"),this.h()},l(r){e=S(r,"PLANT-BUTTON",{name:!0}),E(e).forEach(v),this.h()},h(){be(e,"name",t=n[13])},m(r,l){O(r,e,l),s||(i=$(e,"click",o),s=!0)},p(r,l){n=r,l&1&&t!==(t=n[13])&&be(e,"name",t)},i:U,o:U,d(r){r&&v(e),s=!1,i()}}}function As(n){let e,t,s,i,o;const r=[Ho,Uo],l=[];function a(c,u){return c[4]?0:1}return t=a(n),s=l[t]=r[t](n),{c(){e=N("div"),s.c(),i=H(),this.h()},l(c){e=S(c,"DIV",{class:!0});var u=E(e);s.l(u),i=z(u),u.forEach(v),this.h()},h(){p(e,"class","button-spacer svelte-pmp1k")},m(c,u){O(c,e,u),l[t].m(e,null),g(e,i),o=!0},p(c,u){let f=t;t=a(c),t===f?l[t].p(c,u):(te(),A(l[f],1,1,()=>{l[f]=null}),se(),s=l[t],s?s.p(c,u):(s=l[t]=r[t](c),s.c()),V(s,1),s.m(e,i))},i(c){o||(V(s),o=!0)},o(c){A(s),o=!1},d(c){c&&v(e),l[t].d()}}}function zo(n){let e,t,s=n[0]&&Cs(n);return{c(){s&&s.c(),e=J()},l(i){s&&s.l(i),e=J()},m(i,o){s&&s.m(i,o),O(i,e,o),t=!0},p(i,[o]){i[0]?s?(s.p(i,o),o&1&&V(s,1)):(s=Cs(i),s.c(),V(s,1),s.m(e.parentNode,e)):s&&(te(),A(s,1,1,()=>{s=null}),se())},i(i){t||(V(s),t=!0)},o(i){A(s),t=!1},d(i){s&&s.d(i),i&&v(e)}}}function Wo(n,e,t){let s,i,{toast:o}=e,r=!1,l=!1;function a(){if(o.type===ve.ERROR)return"warning";if(o.type===ve.SUCCESS)return"checkmark";if(o.type===ve.WARNING)return"exclamation"}let c=!1,u;Vt(()=>{setTimeout(()=>{t(2,r=!0)},10)});const f=()=>{t(3,l=!l)},d=_=>o.resolve(_),h=_=>o.resolve(_),m=()=>o.reject();function y(_){Oe[_?"unshift":"push"](()=>{u=_,t(1,u)})}return n.$$set=_=>{"toast"in _&&t(0,o=_.toast)},n.$$.update=()=>{n.$$.dirty&1&&t(6,s=o&&a()),n.$$.dirty&1&&t(5,i=o&&(o.type==="success"||o.type==="warning")),n.$$.dirty&2&&t(4,c=u&&!u.parentElement)},[o,u,r,l,c,i,s,f,d,h,m,y]}class Xo extends ae{constructor(e){super(),ce(this,e,Wo,zo,ue,{toast:0})}}function Ps(n,e,t){const s=n.slice();return s[4]=e[t],s}function Yo(n){let e,t;return e=new Xo({props:{toast:n[4]}}),{c(){ne(e.$$.fragment)},l(s){fe(e.$$.fragment,s)},m(s,i){oe(e,s,i),t=!0},p(s,i){const o={};i&4&&(o.toast=s[4]),e.$set(o)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){A(e.$$.fragment,s),t=!1},d(s){re(e,s)}}}function qo(n){let e,t;return{c(){e=N("plant-toast"),this.h()},l(s){e=S(s,"PLANT-TOAST",{toast:!0}),E(e).forEach(v),this.h()},h(){be(e,"toast",t=n[4])},m(s,i){O(s,e,i)},p(s,i){i&4&&t!==(t=s[4])&&be(e,"toast",t)},i:U,o:U,d(s){s&&v(e)}}}function js(n,e){let t,s,i,o,r,l;const a=[qo,Yo],c=[];function u(f,d){return f[0]?0:1}return s=u(e),i=c[s]=a[s](e),{key:n,first:null,c(){t=N("div"),i.c(),o=H(),this.h()},l(f){t=S(f,"DIV",{});var d=E(t);i.l(d),o=z(d),d.forEach(v),this.h()},h(){this.first=t},m(f,d){O(f,t,d),c[s].m(t,null),g(t,o),l=!0},p(f,d){e=f;let h=s;s=u(e),s===h?c[s].p(e,d):(te(),A(c[h],1,1,()=>{c[h]=null}),se(),i=c[s],i?i.p(e,d):(i=c[s]=a[s](e),i.c()),V(i,1),i.m(t,o))},i(f){l||(V(i),ht(()=>{r||(r=Ie(t,vt,{easing:fs},!0)),r.run(1)}),l=!0)},o(f){A(i),r||(r=Ie(t,vt,{easing:fs},!1)),r.run(0),l=!1},d(f){f&&v(t),c[s].d(),f&&r&&r.end()}}}function Zo(n){let e,t=[],s=new Map,i,o=n[2];const r=l=>l[4].id;for(let l=0;l<o.length;l+=1){let a=Ps(n,o,l),c=r(a);s.set(c,t[l]=js(c,a))}return{c(){e=N("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=S(l,"DIV",{id:!0,class:!0});var a=E(e);for(let c=0;c<t.length;c+=1)t[c].l(a);a.forEach(v),this.h()},h(){p(e,"id","toast-wrapper"),p(e,"class","svelte-1ujlok7")},m(l,a){O(l,e,a);for(let c=0;c<t.length;c+=1)t[c].m(e,null);n[3](e),i=!0},p(l,[a]){a&5&&(o=l[2],te(),t=Ui(t,a,r,1,l,o,s,e,Hi,js,null,Ps),se())},i(l){if(!i){for(let a=0;a<o.length;a+=1)V(t[a]);i=!0}},o(l){for(let a=0;a<t.length;a+=1)A(t[a]);i=!1},d(l){l&&v(e);for(let a=0;a<t.length;a+=1)t[a].d();n[3](null)}}}function Ko(n,e,t){let s;wt(n,Ao,l=>t(2,s=l));let i=!1,o;Vt(function(){t(0,i=!o.parentElement)});function r(l){Oe[l?"unshift":"push"](()=>{o=l,t(1,o)})}return[i,o,s,r]}class Go extends ae{constructor(e){super(),ce(this,e,Ko,Zo,ue,{})}}function Jo(n){let e,t,s,i,o,r,l,a,c,u,f;return{c(){e=N("div"),t=N("input"),s=H(),i=N("label"),o=Q("svg"),r=Q("title"),l=q("cross"),a=Q("line"),c=Q("line"),this.h()},l(d){e=S(d,"DIV",{class:!0});var h=E(e);t=S(h,"INPUT",{type:!0,id:!0,class:!0}),s=z(h),i=S(h,"LABEL",{class:!0,for:!0});var m=E(i);o=ee(m,"svg",{xmlns:!0,viewBox:!0,class:!0});var y=E(o);r=ee(y,"title",{class:!0});var _=E(r);l=Z(_,"cross"),_.forEach(v),a=ee(y,"line",{"vector-effect":!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),E(a).forEach(v),c=ee(y,"line",{"vector-effect":!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),E(c).forEach(v),y.forEach(v),m.forEach(v),h.forEach(v),this.h()},h(){p(t,"type","checkbox"),p(t,"id",n[1]),p(t,"class","svelte-109dm5k"),p(r,"class","svelte-109dm5k"),p(a,"vector-effect","non-scaling-stroke"),p(a,"x1","0"),p(a,"y1","100"),p(a,"x2","100"),p(a,"y2","0"),p(a,"class","svelte-109dm5k"),p(c,"vector-effect","non-scaling-stroke"),p(c,"x1","0"),p(c,"y1","0"),p(c,"x2","100"),p(c,"y2","100"),p(c,"class","svelte-109dm5k"),p(o,"xmlns","http://www.w3.org/2000/svg"),p(o,"viewBox","0 0 100 100"),p(o,"class","svelte-109dm5k"),p(i,"class","checkbox-label svelte-109dm5k"),p(i,"for",n[1]),p(e,"class","component-wrapper svelte-109dm5k")},m(d,h){O(d,e,h),g(e,t),t.checked=n[0],g(e,s),g(e,i),g(i,o),g(o,r),g(r,l),g(o,a),g(o,c),u||(f=$(t,"change",n[2]),u=!0)},p(d,[h]){h&2&&p(t,"id",d[1]),h&1&&(t.checked=d[0]),h&2&&p(i,"for",d[1])},i:U,o:U,d(d){d&&v(e),u=!1,f()}}}function Qo(n,e,t){const s=Le();let{value:i=!1}=e,{id:o=di()}=e;function r(){i=this.checked,t(0,i)}return n.$$set=l=>{"value"in l&&t(0,i=l.value),"id"in l&&t(1,o=l.id)},n.$$.update=()=>{n.$$.dirty&1&&i!==void 0&&s("change",!!i)},[i,o,r]}class er extends ae{constructor(e){super(),ce(this,e,Qo,Jo,ue,{value:0,id:1})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),le()}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),le()}}/**
 * Convert a series of points to a monotone cubic spline
 * Algorithm based on https://github.com/mbostock/d3
 * https://github.com/yr/monotone-cubic-spline
 * @copyright Yr
 * @license MIT
 */var tr=1e-6,$s={points:function(e){var t=sr(e),s=e[1],i=e[0],o=[],r=t[1],l=t[0];o.push(i,[i[0]+l[0],i[1]+l[1],s[0]-r[0],s[1]-r[1],s[0],s[1]]);for(var a=2,c=t.length;a<c;a++){var u=e[a],f=t[a];o.push([u[0]-f[0],u[1]-f[1],u[0],u[1]])}return o},slice:function(e,t,s){var i=e.slice(t,s);if(t){if(i[1].length<6){var o=i[0].length;i[1]=[i[0][o-2]*2-i[0][o-4],i[0][o-1]*2-i[0][o-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i},svgPath:function(e){for(var t="",s=0;s<e.length;s++){var i=e[s],o=i.length;s?o>4?(t+="C"+i[0]+", "+i[1],t+=", "+i[2]+", "+i[3],t+=", "+i[4]+", "+i[5]):(t+="S"+i[0]+", "+i[1],t+=", "+i[2]+", "+i[3]):t+="M"+i[o-2]+" "+i[o-1]}return t}};function sr(n){for(var e=ir(n),t=n.length-1,s=[],i=void 0,o=void 0,r=void 0,l=void 0,a=0;a<t;a++)r=Tt(n[a],n[a+1]),Math.abs(r)<tr?e[a]=e[a+1]=0:(i=e[a]/r,o=e[a+1]/r,l=i*i+o*o,l>9&&(l=r*3/Math.sqrt(l),e[a]=l*i,e[a+1]=l*o));for(var c=0;c<=t;c++)l=(n[Math.min(t,c+1)][0]-n[Math.max(0,c-1)][0])/(6*(1+e[c]*e[c])),s.push([l||0,e[c]*l||0]);return s}function Tt(n,e){return(e[1]-n[1])/(e[0]-n[0])}function ir(n){for(var e=[],t=n[0],s=n[1],i=e[0]=Tt(t,s),o=1,r=n.length-1;o<r;o++)t=s,s=n[o+1],e[o]=(i+(i=Tt(t,s)))*.5;return e[o]=i,e}function Bs(n,e,t){const s=n.slice();return s[19]=e[t],s[21]=t,s}function Rs(n,e,t){const s=n.slice();return s[19]=e[t],s}function Fs(n){let e,t,s,i,o;function r(){return n[10](n[19])}return{c(){e=Q("circle"),this.h()},l(l){e=ee(l,"circle",{cx:!0,cy:!0,r:!0,class:!0}),E(e).forEach(v),this.h()},h(){p(e,"cx",t=n[19].x*100),p(e,"cy",s=n[19].y*100),p(e,"r","2"),p(e,"class","svelte-yu51sv"),R(e,"pinned",n[19].pinned)},m(l,a){O(l,e,a),i||(o=$(e,"mousedown",r),i=!0)},p(l,a){n=l,a&1&&t!==(t=n[19].x*100)&&p(e,"cx",t),a&1&&s!==(s=n[19].y*100)&&p(e,"cy",s),a&1&&R(e,"pinned",n[19].pinned)},d(l){l&&v(e),i=!1,o()}}}function nr(n){let e,t,s,i,o;return{c(){e=Q("line"),this.h()},l(r){e=ee(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),E(e).forEach(v),this.h()},h(){p(e,"x1",t=n[3][n[21]-1].x*100),p(e,"y1",s=n[3][n[21]-1].y*100),p(e,"x2",i=n[19].x*100),p(e,"y2",o=n[19].y*100),p(e,"class","svelte-yu51sv")},m(r,l){O(r,e,l)},p:U,d(r){r&&v(e)}}}function Us(n){let e,t,s,i=n[21]>0&&n[21]%2===0&&nr(n);return{c(){i&&i.c(),e=Q("circle"),this.h()},l(o){i&&i.l(o),e=ee(o,"circle",{cx:!0,cy:!0,r:!0,class:!0}),E(e).forEach(v),this.h()},h(){p(e,"cx",t=n[19].x*100),p(e,"cy",s=n[19].y*100),p(e,"r","1"),p(e,"class","svelte-yu51sv"),R(e,"pinned",n[19].pinned)},m(o,r){i&&i.m(o,r),O(o,e,r)},p(o,r){o[21]>0&&o[21]%2===0&&i.p(o,r)},d(o){i&&i.d(o),o&&v(e)}}}function or(n){let e,t,s,i,o,r,l=n[0],a=[];for(let f=0;f<l.length;f+=1)a[f]=Fs(Rs(n,l,f));let c=n[3],u=[];for(let f=0;f<c.length;f+=1)u[f]=Us(Bs(n,c,f));return{c(){e=N("div"),t=Q("svg"),s=Q("path");for(let f=0;f<a.length;f+=1)a[f].c();i=Q("g");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=S(f,"DIV",{class:!0});var d=E(e);t=ee(d,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var h=E(t);s=ee(h,"path",{d:!0,fill:!0,stroke:!0,class:!0}),E(s).forEach(v);for(let y=0;y<a.length;y+=1)a[y].l(h);i=ee(h,"g",{id:!0,class:!0});var m=E(i);for(let y=0;y<u.length;y+=1)u[y].l(m);m.forEach(v),h.forEach(v),d.forEach(v),this.h()},h(){p(s,"d",n[2]),p(s,"fill","none"),p(s,"stroke","grey"),p(s,"class","svelte-yu51sv"),p(i,"id","debug"),p(i,"class","svelte-yu51sv"),p(t,"viewBox","0 0 100 100"),p(t,"width","100"),p(t,"height","100"),p(t,"class","svelte-yu51sv"),p(e,"class","component-wrapper svelte-yu51sv")},m(f,d){O(f,e,d),g(e,t),g(t,s);for(let h=0;h<a.length;h+=1)a[h].m(t,null);g(t,i);for(let h=0;h<u.length;h+=1)u[h].m(i,null);o||(r=[$(t,"mousedown",n[5]),$(t,"mousemove",n[4]),$(t,"mouseover",n[7]),$(t,"mouseout",n[8]),$(t,"mouseup",n[6]),$(t,"focus",n[7]),$(t,"blur",n[8])],o=!0)},p(f,[d]){if(d&4&&p(s,"d",f[2]),d&3){l=f[0];let h;for(h=0;h<l.length;h+=1){const m=Rs(f,l,h);a[h]?a[h].p(m,d):(a[h]=Fs(m),a[h].c(),a[h].m(t,i))}for(;h<a.length;h+=1)a[h].d(1);a.length=l.length}if(d&8){c=f[3];let h;for(h=0;h<c.length;h+=1){const m=Bs(f,c,h);u[h]?u[h].p(m,d):(u[h]=Us(m),u[h].c(),u[h].m(i,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}},i:U,o:U,d(f){f&&v(e),Ee(a,f),Ee(u,f),o=!1,ze(r)}}}function rr(n,e,t){let s,i;const o=Le();let{value:r=[{x:0,y:1,pinned:!0},{x:1,y:0,pinned:!0}]}=e,l=!1,a,c,u=0,f=0,d=[];const h=()=>{requestAnimationFrame(()=>{o("change",s),t(0,s=s.sort((b,F)=>b.x>F.x?-1:1))})},m=b=>{b.pinned||(s.splice(s.indexOf(a),1),h())},y=b=>{l&&(u=b.offsetX,f=b.offsetY,a&&(c=a,t(1,a=void 0)),c&&(c.x=u/100,c.y=f/100,h()))},_=()=>{if(!a){const b={x:u/100,y:f/100,pinned:!1};t(1,a=b),s.push(a),h()}},L=()=>{a&&(m(a),t(1,a=void 0)),c=void 0},I=()=>{l=!0},M=()=>{l=!1};function k(b){const F=$s.points(b.map(x=>[x.x*100,x.y*100]));return $s.svgPath(F)}const T=b=>{t(1,a=b)};return n.$$set=b=>{"value"in b&&t(9,r=b.value)},n.$$.update=()=>{n.$$.dirty&512&&t(0,s=r),n.$$.dirty&1&&t(2,i=k(s))},[s,a,i,d,y,_,L,I,M,r,T]}class lr extends ae{constructor(e){super(),ce(this,e,rr,or,ue,{value:9})}get value(){return this.$$.ctx[9]}set value(e){this.$$set({value:e}),le()}}function Hs(n){let e,t;return{c(){e=N("span"),this.h()},l(s){e=S(s,"SPAN",{class:!0,style:!0}),E(e).forEach(v),this.h()},h(){p(e,"class","overlay svelte-txmpr2"),p(e,"style",t=`width: ${(n[0]-n[1])/(n[2]-n[1])*100}%`)},m(s,i){O(s,e,i)},p(s,i){i&7&&t!==(t=`width: ${(s[0]-s[1])/(s[2]-s[1])*100}%`)&&p(e,"style",t)},d(s){s&&v(e)}}}function ar(n){let e,t,s,i,o,r,l,a,c,u,f,d,h=typeof n[1]!="undefined"&&typeof n[2]!="undefined"&&Hs(n);return{c(){e=N("div"),h&&h.c(),t=H(),s=N("button"),i=q("-"),o=H(),r=N("input"),a=H(),c=N("button"),u=q("+"),this.h()},l(m){e=S(m,"DIV",{class:!0});var y=E(e);h&&h.l(y),t=z(y),s=S(y,"BUTTON",{class:!0});var _=E(s);i=Z(_,"-"),_.forEach(v),o=z(y),r=S(y,"INPUT",{step:!0,max:!0,min:!0,type:!0,style:!0,class:!0}),a=z(y),c=S(y,"BUTTON",{class:!0});var L=E(c);u=Z(L,"+"),L.forEach(v),y.forEach(v),this.h()},h(){p(s,"class","svelte-txmpr2"),p(r,"step",n[3]),p(r,"max",n[2]),p(r,"min",n[1]),p(r,"type","number"),p(r,"style",l=`width:${n[5]};`),p(r,"class","svelte-txmpr2"),p(c,"class","svelte-txmpr2"),p(e,"class","component-wrapper svelte-txmpr2")},m(m,y){O(m,e,y),h&&h.m(e,null),g(e,t),g(e,s),g(s,i),g(e,o),g(e,r),Ue(r,n[0]),n[11](r),g(e,a),g(e,c),g(c,u),f||(d=[$(s,"click",n[9]),$(r,"input",n[10]),$(r,"mousedown",n[7]),$(r,"mouseup",n[8]),$(c,"click",n[12])],f=!0)},p(m,[y]){typeof m[1]!="undefined"&&typeof m[2]!="undefined"?h?h.p(m,y):(h=Hs(m),h.c(),h.m(e,t)):h&&(h.d(1),h=null),y&8&&p(r,"step",m[3]),y&4&&p(r,"max",m[2]),y&2&&p(r,"min",m[1]),y&32&&l!==(l=`width:${m[5]};`)&&p(r,"style",l),y&1&&gt(r.value)!==m[0]&&Ue(r,m[0])},i:U,o:U,d(m){m&&v(e),h&&h.d(),n[11](null),f=!1,ze(d)}}}function cr(n,e,t){let s,i;const o=Le();let{min:r=-1/0}=e,{max:l=1/0}=e,{step:a=1}=e,{value:c=0}=e;c||(c=0);let u;function f(b){t(0,c=Math.max(r,Math.min(+c+b,l)))}let d=0,h=0,m;function y(b){b.preventDefault(),h=c,d=b.clientX,m=u.getBoundingClientRect(),window.removeEventListener("mousemove",L),window.addEventListener("mousemove",L),window.addEventListener("mouseup",_),document.body.style.cursor="ew-resize"}function _(){h===c?u.focus():u.blur(),document.body.style.cursor="unset",window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",L)}function L(b){if(s){const F=(b.clientX-m.left)/m.width;t(0,c=Math.max(Math.min(Math.floor(r+(l-r)*F),l),r))}else{const F=b.clientX-d;t(0,c=h+Math.floor(F/10))}}const I=()=>f(-a);function M(){c=gt(this.value),t(0,c)}function k(b){Oe[b?"unshift":"push"](()=>{u=b,t(4,u)})}const T=()=>f(+a);return n.$$set=b=>{"min"in b&&t(1,r=b.min),"max"in b&&t(2,l=b.max),"step"in b&&t(3,a=b.step),"value"in b&&t(0,c=b.value)},n.$$.update=()=>{var b;n.$$.dirty&6&&(s=typeof r!="undefined"&&typeof l!="undefined"&&Number.isFinite(r)&&Number.isFinite(l)),n.$$.dirty&1&&c!==void 0&&o("change",parseFloat(c+"")),n.$$.dirty&1&&t(5,i=Number.isFinite(c)?Math.max(((b=c==null?void 0:c.toString().length)!=null?b:1)*8,30)+"px":"20px")},[c,r,l,a,u,i,f,y,_,I,M,k,T]}class zs extends ae{constructor(e){super(),ce(this,e,cr,ar,ue,{min:1,max:2,step:3,value:0})}get min(){return this.$$.ctx[1]}set min(e){this.$$set({min:e}),le()}get max(){return this.$$.ctx[2]}set max(e){this.$$set({max:e}),le()}get step(){return this.$$.ctx[3]}set step(e){this.$$set({step:e}),le()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),le()}}function ur(n){let e,t,s,i,o,r,l,a;return{c(){e=N("div"),t=N("span"),i=H(),o=N("input"),this.h()},l(c){e=S(c,"DIV",{class:!0});var u=E(e);t=S(u,"SPAN",{class:!0,style:!0}),E(t).forEach(v),i=z(u),o=S(u,"INPUT",{step:!0,max:!0,min:!0,type:!0,style:!0,class:!0}),u.forEach(v),this.h()},h(){p(t,"class","overlay svelte-w292t8"),p(t,"style",s=`width: ${(n[0]-n[1])/(n[2]-n[1])*100}%`),p(o,"step",n[3]),p(o,"max",n[2]),p(o,"min",n[1]),p(o,"type","number"),p(o,"style",r=`width:${n[6]};`),p(o,"class","svelte-w292t8"),p(e,"class","component-wrapper svelte-w292t8"),R(e,"is-down",n[5])},m(c,u){O(c,e,u),g(e,t),g(e,i),g(e,o),Ue(o,n[0]),n[10](o),l||(a=[$(o,"input",n[9]),$(o,"mousedown",n[7]),$(o,"mouseup",n[8])],l=!0)},p(c,[u]){u&7&&s!==(s=`width: ${(c[0]-c[1])/(c[2]-c[1])*100}%`)&&p(t,"style",s),u&8&&p(o,"step",c[3]),u&4&&p(o,"max",c[2]),u&2&&p(o,"min",c[1]),u&64&&r!==(r=`width:${c[6]};`)&&p(o,"style",r),u&1&&gt(o.value)!==c[0]&&Ue(o,c[0]),u&32&&R(e,"is-down",c[5])},i:U,o:U,d(c){c&&v(e),n[10](null),l=!1,ze(a)}}}function hr(n){return parseFloat(n).toPrecision(2)}function fr(n,e,t){let s,{value:i=.5}=e,{step:o=.01}=e,{min:r=0}=e,{max:l=1}=e;const a=Le();let c,u=!1,f=0,d=0,h=0,m;function y(k){k.preventDefault(),t(5,u=!0),d=i,f=k.clientY,m=c.getBoundingClientRect(),window.removeEventListener("mousemove",L),window.addEventListener("mousemove",L),window.addEventListener("mouseup",_),document.body.style.cursor="ew-resize"}function _(){t(5,u=!1),d===i&&c.focus(),i<r&&t(1,r=i),i>l&&t(2,l=i),document.body.style.cursor="unset",window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",L)}function L(k){if(h=(k.clientX-m.left)/m.width,k.clientY-f,k.ctrlKey){let T=r+(l-r)*h;t(0,i=T)}else t(0,i=Math.max(Math.min(r+(l-r)*h,l),r))}function I(){i=gt(this.value),t(0,i)}function M(k){Oe[k?"unshift":"push"](()=>{c=k,t(4,c)})}return n.$$set=k=>{"value"in k&&t(0,i=k.value),"step"in k&&t(3,o=k.step),"min"in k&&t(1,r=k.min),"max"in k&&t(2,l=k.max)},n.$$.update=()=>{var k;n.$$.dirty&1&&(i||0).toString().length>5&&t(0,i=hr(i||0)),n.$$.dirty&1&&i!==void 0&&a("change",parseFloat(i+"")),n.$$.dirty&1&&t(6,s=Number.isFinite(i)?Math.max(((k=i==null?void 0:i.toString().length)!=null?k:1)*8,50)+"px":"20px")},[i,r,l,o,c,u,s,y,_,I,M]}class Ws extends ae{constructor(e){super(),ce(this,e,fr,ur,ue,{value:0,step:3,min:1,max:2})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),le()}get step(){return this.$$.ctx[3]}set step(e){this.$$set({step:e}),le()}get min(){return this.$$.ctx[1]}set min(e){this.$$set({min:e}),le()}get max(){return this.$$.ctx[2]}set max(e){this.$$set({max:e}),le()}}function Xs(n,e,t){const s=n.slice();return s[7]=e[t],s}function Ys(n){let e,t=n[7]+"",s,i,o,r,l;function a(){return n[5](n[7])}return{c(){e=N("p"),s=q(t),i=H(),this.h()},l(c){e=S(c,"P",{style:!0,class:!0});var u=E(e);s=Z(u,t),i=z(u),u.forEach(v),this.h()},h(){p(e,"style",o=`opacity: ${n[7]===n[0]?.5:1}`),p(e,"class","item svelte-1c9q56z"),R(e,"selected",n[0]===n[7])},m(c,u){O(c,e,u),g(e,s),g(e,i),r||(l=$(e,"click",a),r=!0)},p(c,u){n=c,u&2&&t!==(t=n[7]+"")&&me(s,t),u&3&&o!==(o=`opacity: ${n[7]===n[0]?.5:1}`)&&p(e,"style",o),u&3&&R(e,"selected",n[0]===n[7])},d(c){c&&v(e),r=!1,l()}}}function dr(n){let e,t,s=n[1],i=[];for(let o=0;o<s.length;o+=1)i[o]=Ys(Xs(n,s,o));return{c(){e=N("div"),t=N("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=S(o,"DIV",{class:!0});var r=E(e);t=S(r,"DIV",{id:!0,class:!0});var l=E(t);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(v),r.forEach(v),this.h()},h(){p(t,"id","main"),p(t,"class","svelte-1c9q56z"),p(e,"class","component-wrapper svelte-1c9q56z")},m(o,r){O(o,e,r),g(e,t);for(let l=0;l<i.length;l+=1)i[l].m(t,null)},p(o,[r]){if(r&7){s=o[1];let l;for(l=0;l<s.length;l+=1){const a=Xs(o,s,l);i[l]?i[l].p(a,r):(i[l]=Ys(a),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},i:U,o:U,d(o){o&&v(e),Ee(i,o)}}}function pr(n,e,t){const s=Le();let{value:i=void 0}=e;function o(u){t(0,i=u),open=!1}let{values:r=[]}=e;function l(u){t(1,r=u)}function a(u){t(0,i=u)}const c=u=>o(u);return n.$$set=u=>{"value"in u&&t(0,i=u.value),"values"in u&&t(1,r=u.values)},n.$$.update=()=>{n.$$.dirty&1&&i&&s("change",i)},[i,r,o,l,a,c]}class mr extends ae{constructor(e){super(),ce(this,e,pr,dr,ue,{value:0,values:1,setItems:3,setValue:4})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),le()}get values(){return this.$$.ctx[1]}set values(e){this.$$set({values:e}),le()}get setItems(){return this.$$.ctx[3]}get setValue(){return this.$$.ctx[4]}}function qs(n,e,t){const s=n.slice();return s[11]=e[t],s}function vr(n){let e,t,s,i;return{c(){e=N("div"),t=q("none"),this.h()},l(o){e=S(o,"DIV",{id:!0,class:!0});var r=E(e);t=Z(r,"none"),r.forEach(v),this.h()},h(){p(e,"id","selected-value"),p(e,"class","svelte-1vc9j5j")},m(o,r){O(o,e,r),g(e,t),s||(i=$(e,"click",n[4]),s=!0)},p:U,d(o){o&&v(e),s=!1,i()}}}function yr(n){let e,t,s,i;return{c(){e=N("div"),t=q(n[0]),this.h()},l(o){e=S(o,"DIV",{id:!0,class:!0});var r=E(e);t=Z(r,n[0]),r.forEach(v),this.h()},h(){p(e,"id","selected-value"),p(e,"class","svelte-1vc9j5j")},m(o,r){O(o,e,r),g(e,t),s||(i=$(e,"click",n[4]),s=!0)},p(o,r){r&1&&me(t,o[0])},d(o){o&&v(e),s=!1,i()}}}function Zs(n){let e,t=n[11]+"",s,i,o,r,l;function a(){return n[8](n[11])}return{c(){e=N("p"),s=q(t),i=H(),this.h()},l(c){e=S(c,"P",{style:!0,class:!0});var u=E(e);s=Z(u,t),i=z(u),u.forEach(v),this.h()},h(){p(e,"style",o=`opacity: ${n[11]===n[0]?.5:1}`),p(e,"class","item svelte-1vc9j5j")},m(c,u){O(c,e,u),g(e,s),g(e,i),r||(l=$(e,"click",a),r=!0)},p(c,u){n=c,u&2&&t!==(t=n[11]+"")&&me(s,t),u&3&&o!==(o=`opacity: ${n[11]===n[0]?.5:1}`)&&p(e,"style",o)},d(c){c&&v(e),r=!1,l()}}}function Ks(n){let e,t=n[11]!==n[0]&&Zs(n);return{c(){t&&t.c(),e=J()},l(s){t&&t.l(s),e=J()},m(s,i){t&&t.m(s,i),O(s,e,i)},p(s,i){s[11]!==s[0]?t?t.p(s,i):(t=Zs(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&v(e)}}}function wr(n){let e,t,s,i;function o(u,f){return u[0]!==void 0?yr:vr}let r=o(n),l=r(n),a=n[1],c=[];for(let u=0;u<a.length;u+=1)c[u]=Ks(qs(n,a,u));return{c(){e=N("div"),t=N("div"),l.c(),s=H(),i=N("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=S(u,"DIV",{class:!0});var f=E(e);t=S(f,"DIV",{id:!0,class:!0});var d=E(t);l.l(d),s=z(d),i=S(d,"DIV",{id:!0,class:!0});var h=E(i);for(let m=0;m<c.length;m+=1)c[m].l(h);h.forEach(v),d.forEach(v),f.forEach(v),this.h()},h(){p(i,"id","item-wrapper"),p(i,"class","svelte-1vc9j5j"),p(t,"id","main"),p(t,"class","svelte-1vc9j5j"),p(e,"class","component-wrapper svelte-1vc9j5j"),R(e,"open",n[2])},m(u,f){O(u,e,f),g(e,t),l.m(t,null),g(t,s),g(t,i);for(let d=0;d<c.length;d+=1)c[d].m(i,null);n[9](t)},p(u,[f]){if(r===(r=o(u))&&l?l.p(u,f):(l.d(1),l=r(u),l&&(l.c(),l.m(t,s))),f&35){a=u[1];let d;for(d=0;d<a.length;d+=1){const h=qs(u,a,d);c[d]?c[d].p(h,f):(c[d]=Ks(h),c[d].c(),c[d].m(i,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=a.length}f&4&&R(e,"open",u[2])},i:U,o:U,d(u){u&&v(e),l.d(),Ee(c,u),n[9](null)}}}function gr(n,e,t){const s=Le();let{value:i=void 0}=e,o=!1,r;function l(){t(2,o=!0),setTimeout(()=>{document.addEventListener("click",()=>{t(2,o=!1)},{once:!0})},50)}function a(m){t(0,i=m),t(2,o=!1)}let{values:c=[]}=e;function u(m){t(1,c=m)}function f(m){t(0,i=m)}const d=m=>a(m);function h(m){Oe[m?"unshift":"push"](()=>{r=m,t(3,r)})}return n.$$set=m=>{"value"in m&&t(0,i=m.value),"values"in m&&t(1,c=m.values)},n.$$.update=()=>{n.$$.dirty&1&&i&&s("change",i)},[i,c,o,r,l,a,u,f,d,h]}class _r extends ae{constructor(e){super(),ce(this,e,gr,wr,ue,{value:0,values:1,setItems:6,setValue:7})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),le()}get values(){return this.$$.ctx[1]}set values(e){this.$$set({values:e}),le()}get setItems(){return this.$$.ctx[6]}get setValue(){return this.$$.ctx[7]}}function Gs(n,e,t){const s=n.slice();return s[19]=e[t],s}function Js(n){let e,t,s,i,o;function r(){return n[9](n[19])}return{c(){e=Q("circle"),this.h()},l(l){e=ee(l,"circle",{cx:!0,cy:!0,r:!0,class:!0}),E(e).forEach(v),this.h()},h(){p(e,"cx",t=n[19].x*100),p(e,"cy",s=n[19].y*200-50),p(e,"r","4"),p(e,"class","svelte-1ljblti"),R(e,"pinned",n[19].pinned)},m(l,a){O(l,e,a),i||(o=$(e,"mousedown",r),i=!0)},p(l,a){n=l,a&1&&t!==(t=n[19].x*100)&&p(e,"cx",t),a&1&&s!==(s=n[19].y*200-50)&&p(e,"cy",s),a&1&&R(e,"pinned",n[19].pinned)},d(l){l&&v(e),i=!1,o()}}}function br(n){let e,t,s,i,o,r,l,a,c,u,f,d,h=n[0],m=[];for(let y=0;y<h.length;y+=1)m[y]=Js(Gs(n,h,y));return{c(){e=N("div"),t=Q("svg"),s=Q("path");for(let y=0;y<m.length;y+=1)m[y].c();i=H(),o=Q("svg"),r=Q("defs"),l=Q("linearGradient"),a=Q("stop"),c=Q("stop"),u=Q("path"),this.h()},l(y){e=S(y,"DIV",{class:!0});var _=E(e);t=ee(_,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var L=E(t);s=ee(L,"path",{d:!0,fill:!0,class:!0}),E(s).forEach(v);for(let T=0;T<m.length;T+=1)m[T].l(L);L.forEach(v),i=z(_),o=ee(_,"svg",{id:!0,viewBox:!0,width:!0,height:!0,class:!0});var I=E(o);r=ee(I,"defs",{class:!0});var M=E(r);l=ee(M,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0});var k=E(l);a=ee(k,"stop",{offset:!0,style:!0,class:!0}),E(a).forEach(v),c=ee(k,"stop",{offset:!0,style:!0,class:!0}),E(c).forEach(v),k.forEach(v),M.forEach(v),u=ee(I,"path",{d:!0,fill:!0,stroke:!0,class:!0}),E(u).forEach(v),I.forEach(v),_.forEach(v),this.h()},h(){p(s,"d",n[2]),p(s,"fill","none"),p(s,"class","left-path svelte-1ljblti"),p(t,"viewBox","0 0 100 100"),p(t,"width","50"),p(t,"height","100"),p(t,"class","svelte-1ljblti"),p(a,"offset","0%"),X(a,"stop-color","#65E2A0"),X(a,"stop-opacity","1"),p(a,"class","svelte-1ljblti"),p(c,"offset","100%"),X(c,"stop-color","#469C6E"),X(c,"stop-opacity","1"),p(c,"class","svelte-1ljblti"),p(l,"id","grad1"),p(l,"x1","0%"),p(l,"y1","0%"),p(l,"x2","100%"),p(l,"y2","0%"),p(l,"class","svelte-1ljblti"),p(r,"class","svelte-1ljblti"),p(u,"d",n[2]),p(u,"fill","url(#grad1)"),p(u,"stroke","grey"),p(u,"class","svelte-1ljblti"),p(o,"id","right"),p(o,"viewBox","0 0 100 100"),p(o,"width","50"),p(o,"height","100"),p(o,"class","svelte-1ljblti"),p(e,"class","component-wrapper svelte-1ljblti")},m(y,_){O(y,e,_),g(e,t),g(t,s);for(let L=0;L<m.length;L+=1)m[L].m(t,null);g(e,i),g(e,o),g(o,r),g(r,l),g(l,a),g(l,c),g(o,u),f||(d=[$(t,"mousedown",n[4]),$(t,"mousemove",n[3]),$(t,"mouseover",n[6]),$(t,"mouseout",n[7]),$(t,"mouseup",n[5]),$(t,"focus",n[6]),$(t,"blur",n[7])],f=!0)},p(y,[_]){if(_&4&&p(s,"d",y[2]),_&3){h=y[0];let L;for(L=0;L<h.length;L+=1){const I=Gs(y,h,L);m[L]?m[L].p(I,_):(m[L]=Js(I),m[L].c(),m[L].m(t,null))}for(;L<m.length;L+=1)m[L].d(1);m.length=h.length}_&4&&p(u,"d",y[2])},i:U,o:U,d(y){y&&v(e),Ee(m,y),f=!1,ze(d)}}}function kr(n,e,t){let s,i;const o=Le();let{value:r=[{x:1,y:0,pinned:!0},{x:.5,y:.5,pinned:!0},{x:1,y:1,pinned:!0}]}=e,l=!1,a,c,u=0,f=0;const d=()=>{requestAnimationFrame(()=>{o("change",s),t(0,s=s.sort((b,F)=>b.y>F.y?-1:1))})},h=b=>{b.pinned||(s.splice(s.indexOf(a),1),d())},m=b=>{l&&(u=b.offsetX,f=b.offsetY,a&&(c=a,t(1,a=void 0)),c&&(c.x=u/50,c.y=f/100,d()))},y=()=>{if(!a){const b={x:u/50,y:f/100,pinned:!1};t(1,a=b),s.push(a),d()}},_=()=>{a&&(h(a),t(1,a=void 0)),c=void 0},L=()=>{l=!0},I=()=>{l=!1},M=b=>`L ${b.x*100} ${b.y*200-50}`;function k(b){return b.reduce((F,x,j)=>j===0?`M ${x.x*100},${x.y*200-50}`:`${F} ${M(x)}`,"")}const T=b=>{t(1,a=b)};return n.$$set=b=>{"value"in b&&t(8,r=b.value)},n.$$.update=()=>{n.$$.dirty&256&&t(0,s=r),n.$$.dirty&1&&t(2,i=k(s))},[s,a,i,m,y,_,L,I,r,T]}class Er extends ae{constructor(e){super(),ce(this,e,kr,br,ue,{value:8})}get value(){return this.$$.ctx[8]}set value(e){this.$$set({value:e}),le()}}function Qs(n,e,t){const s=n.slice();return s[21]=e[t],s[23]=t,s}function ei(n){let e,t=(n[21].title||n[21].value)+"",s,i,o,r;function l(){return n[14](n[21])}function a(){return n[15](n[21])}function c(){return n[16](n[21])}return{c(){e=N("div"),s=q(t),i=H(),this.h()},l(u){e=S(u,"DIV",{class:!0});var f=E(e);s=Z(f,t),i=z(f),f.forEach(v),this.h()},h(){p(e,"class","search-entry svelte-n85u8w"),R(e,"focused",n[21].value===n[3])},m(u,f){O(u,e,f),g(e,s),g(e,i),o||(r=[$(e,"focus",l),$(e,"mouseover",a),$(e,"click",c)],o=!0)},p(u,f){n=u,f&16&&t!==(t=(n[21].title||n[21].value)+"")&&me(s,t),f&24&&R(e,"focused",n[21].value===n[3])},d(u){u&&v(e),o=!1,ze(r)}}}function ti(n){let e,t=n[23]<n[0]&&ei(n);return{c(){t&&t.c(),e=J()},l(s){t&&t.l(s),e=J()},m(s,i){t&&t.m(s,i),O(s,e,i)},p(s,i){s[23]<s[0]?t?t.p(s,i):(t=ei(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&v(e)}}}function Lr(n){let e,t,s,i,o,r=n[4],l=[];for(let a=0;a<r.length;a+=1)l[a]=ti(Qs(n,r,a));return{c(){e=N("div"),t=N("input"),s=H();for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=S(a,"DIV",{class:!0});var c=E(e);t=S(c,"INPUT",{type:!0,placeholder:!0,class:!0}),s=z(c);for(let u=0;u<l.length;u+=1)l[u].l(c);c.forEach(v),this.h()},h(){p(t,"type","text"),p(t,"placeholder","Search"),p(t,"class","svelte-n85u8w"),p(e,"class","search-wrapper svelte-n85u8w")},m(a,c){O(a,e,c),g(e,t),n[12](t),Ue(t,n[1]),g(e,s);for(let u=0;u<l.length;u+=1)l[u].m(e,null);i||(o=[$(window,"keydown",n[6]),$(t,"input",n[13])],i=!0)},p(a,[c]){if(c&2&&t.value!==a[1]&&Ue(t,a[1]),c&185){r=a[4];let u;for(u=0;u<r.length;u+=1){const f=Qs(a,r,u);l[u]?l[u].p(f,c):(l[u]=ti(f),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},i:U,o:U,d(a){a&&v(e),n[12](null),Ee(l,a),i=!1,ze(o)}}}function xr(n,e,t){let s,i;const o=Le(),r={};let{limitAmount:l=10}=e,{values:a=[]}=e,c,u="";function f(x,j){if(!(j!=null&&j.length))return x;const G=x.filter(he=>!!(he.value.includes(j)||he.title&&he.title.toLowerCase().includes(j)));return G.length?(G.find(he=>he.value===i)||t(3,i=G[0].value),G):[{value:"Nothing Found"}]}function d(){c.focus()}function h(){t(1,u="")}function m({value:x=i}={value:i}){r[x]=r[x]+1||1,o("input",x)}function y(x){if(!i.length){t(3,i=s[0].value);return}const j=s.slice(0,l).find(Y=>Y.value===i);if(!j)return;const G=s.indexOf(j),ie=Math.min(s.length,l),he=((G+x)%ie+ie)%ie;t(3,i=s[he].value)}function _({key:x}){x==="Enter"&&i.length&&m(),x==="ArrowDown"&&y(1),x==="ArrowUp"&&y(-1)}function L(x){t(3,i=x.value)}const I=x=>{t(8,a=x)};function M(x){Oe[x?"unshift":"push"](()=>{c=x,t(2,c)})}function k(){u=this.value,t(1,u)}const T=x=>L(x),b=x=>L(x),F=x=>m(x);return n.$$set=x=>{"limitAmount"in x&&t(0,l=x.limitAmount),"values"in x&&t(8,a=x.values)},n.$$.update=()=>{n.$$.dirty&258&&t(4,s=f(a,u.toLowerCase()))},t(3,i=""),[l,u,c,i,s,m,_,L,a,d,h,I,M,k,T,b,F]}class Mr extends ae{constructor(e){super(),ce(this,e,xr,Lr,ue,{limitAmount:0,values:8,focus:9,clear:10,setItems:11})}get focus(){return this.$$.ctx[9]}get clear(){return this.$$.ctx[10]}get setItems(){return this.$$.ctx[11]}}function Nr({target:n,template:e,value:t}){const s=Sr(e),i=_e(de({},e),{value:t});return delete i.type,delete i.internal,delete i.label,delete i.inputType,new s({target:n,props:i})}function Sr(n){if(n.type==="select")return n.inputType==="tab"?mr:_r;if(n.type==="curve")return lr;if(n.type==="shape")return Er;if(n.type==="number"){if(n.inputType){if(n.inputType==="float")return Ws;if(n.inputType==="integer")return zs}return(n==null?void 0:n.step)&&n.step%1!==0?Ws:zs}return er}class Cr{constructor(e){this.nodeState=e,this.wrapper=document.createElement("div"),this.input=document.createElement("div"),this.wrapper.classList.add("node-state-single-wrapper"),this.input.classList.add("node-state-input");const t=e.template,s=t.label||e.key;if(typeof s=="string"){const i=document.createElement("p");i.className="state-label",i.innerHTML=s,this.wrapper.appendChild(i)}(t==null?void 0:t.label)===!1&&this.wrapper.classList.add("hide-label"),!t.external&&t.type!=="*"&&(this.element=Nr({target:this.input,template:t,value:e.getValue()}),this.element&&this.element.$on("change",({detail:i})=>{typeof i!="undefined"&&!Number.isNaN(i)&&this.nodeState.setValue(i)})),e.node.view.stateWrapper.appendChild(this.wrapper),this.wrapper.appendChild(this.input)}updateValue(){setTimeout(()=>{this.element&&(this.element.value=this.nodeState.getValue())},50)}updatePosition(){var e,t;this.rect=this.wrapper.getBoundingClientRect(),(t=(e=this.nodeState.getInput())==null?void 0:e.view)==null||t.updatePosition()}setErrorState(e){e?this.wrapper.classList.add("state-error"):this.wrapper.classList.remove("state-error")}get y(){return this.rect.y-this.nodeState.node.view.y}get height(){return this.rect.height}setActive(e){this.wrapper.classList[e?"remove":"add"]("disabled"),this.nodeState.node.getInputs().forEach(t=>t.view.updatePosition())}}class Ir{constructor(e){if(!e||!e.node)throw new Error("Somethings missing");this.input=e,this.node=e.node,this.wrapper=document.createElement("div"),this.wrapper.classList.add("node-input-wrapper"),e.type.forEach(t=>{this.wrapper.classList.add(`socket-type-${t==="*"?"all":t}`)}),e.state.view.wrapper.appendChild(this.wrapper),this.wrapper.addEventListener("mousedown",async t=>{t.stopPropagation(),t.preventDefault(),this.node.enableUpdates=!1;const s=this.input.connection;s?(s.remove(),await this.node.system.view.createFloatingConnection(s.output)):await this.node.system.view.createFloatingConnection(this.input),this.node.enableUpdates=!0,this.node.update()},!1),this.node.system.view.colorStore.on(e.type[0],t=>{const s=window.getComputedStyle(this.wrapper,null).getPropertyValue("background-color");this.wrapper.style.backgroundColor=s!=="rgba(0, 0, 0, 0)"?s:t})}updatePosition(){var e;this.rect=this.wrapper.getBoundingClientRect(),(e=this==null?void 0:this.connection)==null||e.setPosition({x2:this.x,y2:this.y})}remove(){this.wrapper.remove(),this.connection&&this.connection.remove()}set state(e){this.wrapper.classList.forEach(t=>{t.includes("socket-state-")&&this.wrapper.classList.remove(t)}),e&&e.length&&this.wrapper.classList.add("socket-state-"+e)}get x(){return this.node.view.x-3}get y(){const e=this.node.system.view;return(this.rect.y+this.rect.height/2-e.y-e.top)/e.s-e.height/2}}class Ze{constructor(e,t,s){this.state=e,this.key=s,this.node=e.node,this.type=Array.isArray(t)?t:[t]}bindView(){this.view=new Ir(this)}removeConnection(){const e=this.connection;delete this.connection,e&&e.remove(),this.node.setStateValue(this.key,void 0),this.state.setIsExternal(!1)}setConnection(e){this.connection&&this.connection.remove(),this.connection=e,this.view&&(this.view.connection=e.view),this.state.setIsExternal(!0)}remove(){this.view&&this.view.remove(),this.removeConnection()}}class Bt extends Ve{constructor(e,t,s){var i;super(),this.node=e,this.key=t,this.template=s,this.isExternal=!1,this.isOkay=!0,this.value=(i=e.state[t])!=null?i:s.value,this.node._state[t]=this.value,this.template.internal||(this.input=new Ze(this,s.type,t))}setIsExternal(e=!1){var t;this.isExternal=e,(t=this==null?void 0:this.view)==null||t.setActive(!e)}getValue(){return this.value}checkErrors(e=this.template.value){var t;((t=this.template)==null?void 0:t.required)&&e===void 0?this.isOkay=!1:this.isOkay=!0,this!=null&&this.view&&this.view.setErrorState(!this.isOkay)}setValue(e=this.template.value){this.isExternal||(this.node.enableUpdates&&this.node.system.history.addAction(),this.value=e),this.node._state[this.key]=e,this.checkErrors(e),this.node.enableUpdates&&(this==null||this.view.updateValue(),this.isOkay&&this.node.update())}remove(){}getInput(){return this.input}bindView(){this.view=new Cr(this),this.input&&this.input.bindView(),this.checkErrors()}}var Tr={title:"Boolean",type:"boolean",outputs:["boolean"],parameters:{value:{type:"boolean",value:!1}},compute({value:n=!1}){return n}},Or={title:"Math",type:"math",outputs:["number","number"],parameters:{mode:{type:"select",internal:!0,label:!1,value:"add",values:["add","multiply","subtract"]},a:{type:"number",value:0,label:!1},b:{type:"number",value:0,label:!1}},compute({mode:n,a:e,b:t}){switch(n){case"multiply":return e*t;case"subtract":return e-t;default:return e+t}}},Vr={title:"Number",type:"number",outputs:["number"],parameters:{value:{type:"number",internal:!0,label:!1,value:0}},compute({value:n=0}){return n}};class Dr extends At{constructor(e,t){super(e,t),this.states={input:new Bt(this,"input",{type:"*"})},this.outputs=[]}compute({input:e}){return e}}class Ar extends Pt{constructor(e){super(e);const t=document.createElement("div");t.style.color="var(--text-color, white)",e.on("computedData",s=>{t.innerHTML="";const i=document.createElement("p");i.innerHTML=JSON.stringify(s,null," "),t.append(i)}),this.wrapper.appendChild(t)}}var Pr={title:"Debug",type:"debug",meta:{description:"Outputs any inputs for debug purposes"},node:Dr,view:Ar};class jr extends At{constructor(e,t){super(e,t),this.attributes.type="output",this.states={input:new Bt(this,"input",{type:"*",external:!0,label:!1})},this.outputs=[]}compute({input:e}){return e}}class $r extends Pt{constructor(e){super(e);const t=document.createElement("p");t.style.margin="0px",t.style.padding="4px",t.style.color="var(--text-color,white)",t.style.fontWeight="bold",e.on("computedData",s=>{t.innerHTML=JSON.stringify(s,null,2)}),this.wrapper.appendChild(t)}}var Br={title:"Output",type:"output",meta:{description:"Outputs the final value"},node:jr,view:$r};const Lt={BooleanNode:Tr,MathNode:Or,NumberNode:Vr,DebugNode:Pr,OutputNode:Br};const Rr=xe("AddMenu");class Fr{constructor(e){this.x=0,this.y=0,this.view=e,this.system=e.system,this.wrapper=document.createElement("div"),this.wrapper.classList.add("context-wrapper"),this.searchEl=new Mr({target:this.wrapper}),this.searchEl.$on("input",({detail:t})=>{this.resolve(t)}),this.view.wrapper.append(this.wrapper),this.view.system.store.on("types",t=>this.updateTypes(t),20),this.wrapper.classList.add("cl-"+Math.floor(Math.random()*1e3)),this.view.on("keydown",({key:t})=>t==="Escape"&&this.hide())}updateTypes(e){Rr("register types",e),this.searchEl.setItems(e.map(t=>({value:t.type||t.title,title:t.title})))}handleWindowClick(e){e.composedPath().includes(this.wrapper)||this.reject()}reject(){this.rej&&this.rej(),this.hide()}resolve(e){const t=this.system.store.getByType(e),{x:s,y:i}=this.view.projectWindowToLocal(this.x,this.y),o=s-this.view.width/2,r=i-this.view.height/2;t?this.res({attributes:{pos:{x:o,y:r},id:"",name:t.title,type:t.type,refs:[]},state:{value:void 0}}):this.reject(),this.hide()}hide(){this.searchEl.clear(),this.wrapper.classList.remove("context-visible"),this.wrapper.blur(),this.res=e=>e,this.reject=()=>{}}show({x:e,y:t,socket:s}){return this.x=e,this.y=t,this.socket=s,this.wrapper.style.left=e/this.system.view.width*100+"%",this.wrapper.style.top=t/this.system.view.height*100+"%",this.wrapper.classList.add("context-visible"),setTimeout(()=>{this.searchEl.focus()},20),new Promise((i,o)=>{this.res=i,this.rej=o})}}class Ur extends Ve{constructor(e){super(),this.mDownX=0,this.mDownY=0,this.downX=0,this.downY=0,this.isShiftKey=!1,this.view=e,this.wrapper=document.createElement("div"),this.wrapper.classList.add("box-selection-wrapper"),this.view.wrapper.append(this.wrapper),this.view.on("mousedown",({target:t,mx:s,x:i,my:o,y:r,keys:l})=>{var a;l.space||l.shiftKey||l.button===2||!l.ctrlKey||t&&!((a=t==null?void 0:t.className)!=null&&a.includes("nodesystem"))||(this.mDownX=s,this.mDownY=o,this.downX=i,this.downY=r,this.wrapper.style.left=s+"px",this.wrapper.style.top=o+"px",this.wrapper.style.width="0px",this.wrapper.style.height="0px",this.isShiftKey=l.shift,this.show())})}show(){this.wrapper.classList.add("box-selection-visible");const e=this.view.system.nodes.map(i=>{const{width:o,height:r}=i.view,{x:l,y:a}=i.view,c=l+this.view.width/2,u=a+this.view.height/2,f=c+o,d=u+r;return{n:i,state:i.view.state,x1:c,y1:u,x2:f,y2:d}});let t=[];const s=this.view.on("mousemove",({mx:i,my:o,x:r,y:l})=>{const{mDownX:a,mDownY:c,downX:u,downY:f,isShiftKey:d}=this,h={x1:Math.min(i,a),x2:Math.max(i,a),y1:Math.min(o,c),y2:Math.max(o,c)};this.wrapper.style.left=h.x1+"px",this.wrapper.style.top=h.y1+"px",this.wrapper.style.width=Math.abs(a-i)+"px",this.wrapper.style.height=Math.abs(c-o)+"px";const m={x1:Math.min(r,u),x2:Math.max(r,u),y1:Math.min(l,f),y2:Math.max(l,f)};t=e.filter(y=>Sn(m,y)?!0:(d||(y.state="normal",y.n.view.state="normal"),!1)).map(({n:y,state:_})=>(_!=="active"&&(_="selected",y.view.state="selected"),y))},5);this.view.once("mouseup",()=>{s(),this.hide(),this.emit("selection",t)})}projectBox(e){const{x:t,y:s}=this.view.projectWindowToLocal(e.x1,e.y1),{x:i,y:o}=this.view.projectWindowToLocal(e.x2,e.y2);return{x1:t,y1:s,x2:i,y2:o}}hide(){this.wrapper.classList.remove("box-selection-visible")}}class Hr{constructor(e){this.connections=[],this.output=e,this.node=e.node,this.wrapper=document.createElement("div"),this.wrapper.classList.add("node-output-wrapper"),this.wrapper.classList.add(`socket-type-${e.type}`),e.node.view.outputWrapper.appendChild(this.wrapper),this.wrapper.addEventListener("mousedown",t=>{t.target===this.wrapper&&(t.stopPropagation(),t.preventDefault(),this.node.system.view.createFloatingConnection(this.output))},!1),this.node.system.view.colorStore.on(e.type,t=>{const s=window.getComputedStyle(this.wrapper,null).getPropertyValue("background-color");this.wrapper.style.backgroundColor=s!=="rgba(0, 0, 0, 0)"&&s!=="rgb(0,0,0)"?s:t})}remove(){this.wrapper.remove(),this.connections.forEach(e=>e.remove())}set state(e){this.wrapper.classList.forEach(t=>{t.includes("socket-state-")&&this.wrapper.classList.remove(t)}),e&&e.length&&this.wrapper.classList.add("socket-state-"+e)}updatePosition(){this.rect=this.wrapper.getBoundingClientRect(),this.output.connections.forEach(e=>e.view.setPosition({x1:this.x,y1:this.y}))}get x(){return this.node.view.x+this.node.view.width+3}get y(){const e=this.node.system.view;return(this.rect.y+this.rect.height/2-e.y-e.top)/e.s-e.height/2}}class ut{constructor(e,t){if(this.connections=[],this.node=e,this.type=t,Array.isArray(t))throw new Error("Output can only output one type, not "+t)}bindView(){this.view=new Hr(this)}connectTo(e){const t=this.node.outputs.indexOf(this);return this.node.connectTo(e.node,t,e.key)}removeConnection(e){const t=this.connections.indexOf(e);this.connections.splice(t,1),this.node.disconnectFrom(e.input.node,e.indexIn,e.indexOut),this.view&&this.view.connections.splice(t,1)}setConnection(e){this.connections.push(e),this.view&&this.view.connections.push(e.view)}remove(){this.connections.forEach(e=>e.remove())}}class zr extends Wi(ai,Ve){constructor(e,t={}){const{system:s}=e.node;super({},e),this.view=s.view,this.path.style.zIndex="999";const i=Array.isArray(e.type)?e.type[0]:e.type;s.view.colorStore.on(i,f=>{this.path.style.stroke=f}),e.view.updatePosition();const o=e.view.x,r=e.view.y;let l=o,a=r;t&&(l=t.x-s.view.width/2,a=t.y-s.view.height/2),this.setPosition({x1:o,y1:r,x2:l,y2:a}),this.dx2=this.x2,this.dy2=this.y2,this.isInput=e instanceof Ze,this.allSockets=e instanceof Ze?s.getOutputs(e.type):s.getInputs(e.type),this.allSockets.forEach(f=>f.view.state="potential");let c=this.allSockets.filter(f=>f.node.attributes.id!==e.node.attributes.id);c.forEach(f=>f.view.state="middle");const u="connection"in e?[e.connection]:e.connections;if(u&&!!u.length){const f=u.map(d=>[d.input,d.output]).flat();c=c.filter(d=>!f.includes(d))}this.potentialSockets=c,this.potentialSockets.forEach(f=>f.view.updatePosition()),this.potentialSockets.forEach(f=>f.view.state="highlight"),this._unsubMouseUp=this.view.on("mouseup",this.handleMouseUp.bind(this)),this._unsubMouseMove=this.view.on("mousemove",this.handleMouseMove.bind(this)),this.mdx=this.view.mx,this.mdy=this.view.my,this.socket=e,e.view.updatePosition()}handleMouseUp(e){const{x:t,y:s,keys:i}=e;this._unsubMouseUp(),this._unsubMouseMove(),this.allSockets.forEach(l=>l.view.state="");let o,r=0;this.socket instanceof Ze&&this.hoveredSocket instanceof ut?(o=this.socket.key,r=this.hoveredSocket.node.outputs.indexOf(this.hoveredSocket)):this.socket instanceof ut&&this.hoveredSocket instanceof Ze&&(o=this.hoveredSocket.key,r=this.socket.node.outputs.indexOf(this.socket)),this.hoveredSocket?(this.emit("connection",{keyIn:o,indexOut:r,inputNode:this.isInput?this.socket.node:this.hoveredSocket.node,outputNode:this.isInput?this.hoveredSocket.node:this.socket.node}),this.emit("remove"),this.remove()):i.ctrlKey?this.view.addMenu.show({x:t,y:s,socket:this.socket}).then(l=>this.view.system.createNode(l)).then(l=>{this.socket instanceof ut?this.socket.node.connectTo(l,r,o):l.connectTo(this.socket.node,r,o)}).catch(()=>{}).finally(()=>{this.emit("remove"),this.remove()}):(this.emit("remove"),this.remove())}handleMouseMove(e){const{x:t,y:s}=e;this.mdx||(this.mdx=t,this.mdy=s);const i=this.dx2+(t-this.mdx),o=this.dy2+(s-this.mdy),r=20,l=this.potentialSockets.map(a=>{const{x:c,y:u}=a.view;return{socket:a,distance:Math.abs(i-c)+Math.abs(o-u)}}).filter(a=>a.distance<r).sort((a,c)=>a.distance>c.distance?-1:1).map(a=>a.socket);if(l.length){const{x:a,y:c}=l[0].view;this.hoveredSocket=l[0],this.setPosition({x2:a,y2:c})}else this.hoveredSocket=void 0,this.setPosition({x2:i,y2:o})}remove(){super.remove(),this.system.isPaused=!1}}const Wr=[{color:"#a52a2a",name:"brown"},{color:"#008000",name:"green"},{color:"#4b0082",name:"indigo"},{color:"#f0e68c",name:"khaki"},{color:"#add8e6",name:"lightblue"},{color:"#e0ffff",name:"lightcyan"},{color:"#90ee90",name:"lightgreen"},{color:"#d3d3d3",name:"lightgrey"},{color:"#ffb6c1",name:"lightpink"},{color:"#ffffe0",name:"lightyellow"},{color:"#00ff00",name:"lime"},{color:"#ff00ff",name:"magenta"},{color:"#800000",name:"maroon"},{color:"#000080",name:"navy"},{color:"#808000",name:"olive"},{color:"#ffa500",name:"orange"},{color:"#ffc0cb",name:"pink"},{color:"#800080",name:"purple"},{color:"#800080",name:"violet"},{color:"#ff0000",name:"red"},{color:"#c0c0c0",name:"silver"},{color:"#ffffff",name:"white"}];class Xr extends Ve{constructor(){super(),this.colors={boolean:"#f00",number:"#fff",plant:"#65e2a0",vec3:"#6363C7"},this.index=0}setColors(e){for(const t in e)this.colors[t]=e[t]}setType(e){e in this.colors||(this.colors[e]=Wr[this.index].color,this.index++),this.emit(e,this.colors[e])}get(e){return this.colors[e]}on(e,t){return this.setType(e),t(this.colors[e]),super.on(e,t)}}let Fe,Ke;globalThis.document&&(typeof document.hidden!="undefined"?(Ke="visibilitychange",Fe="visibilityState"):typeof document.mozHidden!="undefined"?(Ke="mozvisibilitychange",Fe="mozVisibilityState"):typeof document.msHidden!="undefined"?(Ke="msvisibilitychange",Fe="msVisibilityState"):typeof document.webkitHidden!="undefined"&&(Ke="webkitvisibilitychange",Fe="webkitVisibilityState"));var Yr=n=>{globalThis.document&&(n(document[Fe]),document.addEventListener(Ke,function(){n(document[Fe])},!1))};class qr extends Ve{constructor(e){var t,s,i,o;super(),this.colorStore=new Xr,this.width=0,this.height=0,this.top=0,this.left=0,this.x=window.innerWidth/2,this.y=window.innerHeight/2,this.s=1,this.mx=0,this.my=0,this.mdx=0,this.mdy=0,this.rmx=0,this.rmy=0,this.mouseDown=!1,this.keyMap={},this.selectedNodes=[],this.selectedNodesDown=[],this.clipboard=[],this.system=e,this.wrapper=(s=(t=e.options)==null?void 0:t.wrapper)!=null?s:document.createElement("div"),this.wrapper.classList.add("nodesystem-wrapper"),e.options.parent&&e.options.parent.appendChild(this.wrapper),this.transformWrapper=document.createElement("div"),this.transformWrapper.classList.add("nodesystem-transform"),this.wrapper.appendChild(this.transformWrapper),this.errorWrapper=document.createElement("div"),this.errorWrapper.classList.add("nodesystem-errors"),this.wrapper.appendChild(this.errorWrapper),this.nodeContainer=document.createElement("div"),this.nodeContainer.classList.add("nodes-container"),this.transformWrapper.append(this.nodeContainer),this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("viewBox","0 0 1 1"),this.svg.setAttribute("height","1"),this.svg.setAttribute("width","1"),this.svg.setAttribute("preserveAspectRatio","none"),this.svg.style.transform=`scale(${(i=window.devicePixelRatio)!=null?i:1})`,this.transformWrapper.appendChild(this.svg),this.addMenu=new Fr(this),this.boxSelection=new Ur(this),this.boxSelection.on("selection",r=>{this.selectedNodes=r}),this.dpr=(o=window.devicePixelRatio)!=null?o:1,this.bindEventListeners(),this.handleResize(),Yr(()=>{setTimeout(()=>{this.handleResize(),this.system.nodes.forEach(r=>{r.view.updateViewPosition()})},500)})}showErrorMessages(e){if(!e){this.errorWrapper.innerHTML="";return}const t=Array.isArray(e)?e:[e];this.errorWrapper.innerHTML=t.map(s=>`<p>${s}</p>`).join("")}createFloatingConnection(e){const t=new zr(e,{x:this.mx,y:this.my});return new Promise(s=>{t.once("remove",s),t.once("connection",({inputNode:i,outputNode:o,keyIn:r,indexOut:l})=>{o.connectTo(i,l,r)})})}setActive(e,{shiftKey:t=!1,ctrlKey:s=!1}={}){if(!e)this.activeNode&&(this.activeNode.view.state="normal",this.activeNode=void 0),this.selectedNodes.forEach(i=>i.view.state="normal"),this.selectedNodes=[];else if(t&&s){if(this.activeNode&&(this.activeNode.view.state="normal",this.activeNode=void 0),this.activeNode=e,this.activeNode.view.state="active",this.activeNode.outputs.length){const i=this.system.createNode({state:{},attributes:{type:"debug",id:"0",name:"debug",refs:[],pos:{x:this.activeNode.view.x+this.activeNode.view.width+10,y:this.activeNode.view.y}}});i.enableUpdates=!0,this.activeNode.connectTo(i,0,"input")}}else t?this.activeNode?(this.selectedNodes.push(this.activeNode),this.activeNode.view.state="selected",this.activeNode=e,this.activeNode.view.state="active"):(this.activeNode=e,this.activeNode.view.state="active"):this.activeNode?(this.selectedNodes.forEach(i=>i.view.state="normal"),this.selectedNodes=[],this.activeNode!==e&&(this.activeNode.view.state="normal",this.activeNode=e,this.activeNode.view.state="active")):(this.activeNode=e,this.activeNode.view.state="active")}getSelectedNodes(){return this.activeNode&&this.selectedNodes.includes(this.activeNode)?this.selectedNodes:this.activeNode?[...this.selectedNodes,this.activeNode]:[...this.selectedNodes]}projectLocalToWindow(e,t){const s=e+this.x,i=t+this.y,o=s*this.s,r=i*this.s;return{x:o,y:r}}projectWindowToLocal(e,t){const s=e-this.x,i=t-this.y,o=s/this.s,r=i/this.s;return{x:o,y:r}}setTransform({x:e=this.x,y:t=this.y,s=this.s}={}){this.x=e,this.y=t,this.s=s,this.panzoom.setTransform(e,t,s)}showAddMenu(){this.addMenu.show({x:this.rmx,y:this.rmy}).then(e=>{const t=this.system.createNode(e);this.setActive(t)}).catch()}bindEventListeners(){window.addEventListener("keydown",e=>this.handleKeyDown(e)),window.addEventListener("keyup",e=>this.handleKeyUp(e)),this.wrapper.addEventListener("mousemove",e=>this.handleMouseMove(e)),this.wrapper.addEventListener("contextmenu",e=>{e.preventDefault(),this.showAddMenu()}),this.wrapper.addEventListener("mousedown",e=>this.handleMouseDown(e)),this.wrapper.addEventListener("touchdown",e=>this.handleMouseDown(e)),this.wrapper.addEventListener("mouseup",e=>this.handleMouseUp(e)),window.addEventListener("resize",li(()=>this.handleResize(),10)),this.panzoom=Mn(this.transformWrapper,{minZoom:.2,maxZoom:5,onTransform:({x:e,y:t,scale:s})=>{this.x=e,this.y=t,this.s=s;const i=(s-.2)/5/2,o=s*this.height*.02,r=s*this.width*.02;this.wrapper.style.setProperty("--scale",Math.abs(i)+""),this.wrapper.style.setProperty("--scale-x",o+"%"),this.wrapper.style.setProperty("--scale-y",r+"%"),this.wrapper.style.setProperty("--pos-x",`${e}px`),this.wrapper.style.setProperty("--pos-y",`${t}px`),this.system.setMetaData({transform:{x:e,y:t,s}})}})}handleResize(){const{width:e,height:t,top:s,left:i}=this.wrapper.getBoundingClientRect();this.width=e,this.height=t,this.top=s,this.left=i,this.emit("resize",{width:e,height:t})}handleMouseMove(e){this.ev=e;const{clientX:t,clientY:s,shiftKey:i,ctrlKey:o}=e;this.rmx=t-this.left,this.rmy=s-this.top;const{x:r,y:l}=this.projectWindowToLocal(this.rmx,this.rmy);this.mx=r,this.my=l,this.emit("mousemove",{x:r,y:l,mx:this.rmx,my:this.rmy,keys:_e(de({},this.keyMap),{shiftKey:i,ctrlKey:o})})}handleMouseDown(e){const{shiftKey:t,ctrlKey:s,clientX:i,clientY:o,button:r,target:l}=e;t||this.setActive(),e.path&&![...e.path].includes(this.addMenu.wrapper)&&(this.addMenu.hide(),e.preventDefault()),this.mouseDown=!0,this.rmx=i-this.left,this.rmy=o-this.top;const{x:a,y:c}=this.projectWindowToLocal(this.rmx,this.rmy);this.selectedNodesDown=this.selectedNodes.map(u=>[u.view.x,u.view.y]),this.emit("mousedown",{x:a,y:c,mx:this.rmx,my:this.rmy,target:l,keys:_e(de({},this.keyMap),{shiftKey:t,ctrlKey:s,button:r})})}handleMouseUp({clientX:e,clientY:t,shiftKey:s,ctrlKey:i}){this.mouseDown=!1;const o=e-this.left,r=t-this.top;this.emit("mouseup",{x:o,y:r,keys:_e(de({},this.keyMap),{shiftKey:s,ctrlKey:i})})}handleKeyUp({key:e}){e===" "&&(e="space"),delete this.keyMap[e&&e.toLowerCase()],this.emit("keyup",{key:e,keys:this.keyMap})}handleKeyDown({key:e,ctrlKey:t,shiftKey:s}){switch(e=e===" "?"space":e.toLowerCase(),this.keyMap[e&&e.toLowerCase()]=!0,e==="space"&&this.ev&&this.handleMouseDown(this.ev),e){case"escape":this.addMenu.hide();break;case"a":s&&this.showAddMenu();break;case"c":if(s&&t)window.confirm("Clear Storage?")&&(localStorage.clear(),window.location.reload());else if(t){const i=this.selectedNodes.splice(0);this.activeNode&&!i.includes(this.activeNode)&&i.push(this.activeNode),this.clipboard=i.map(o=>o.deserialize()).map(o=>(o.attributes.pos.x-=this.mx,o.attributes.pos.y-=this.my,o))}else this.selectedNodes.length&&this.activeNode&&this.selectedNodes[0].connectTo(this.activeNode);break;case"f":this.setTransform({x:0,y:0,s:1});break;case"g":this.keyMap.g||(this.mdx=this.mx,this.mdy=this.my,this.selectedNodesDown=this.selectedNodes.map(i=>[i.view.x,i.view.y]));break;case"x":t?(this.activeNode&&this.system.spliceNode(this.activeNode),this.selectedNodes.forEach(i=>this.system.spliceNode(i))):(this.activeNode&&this.system.removeNode(this.activeNode),this.selectedNodes.forEach(i=>i.remove()));break;case"z":this.system.history&&t&&(s?this.system.history.redo():this.system.history.undo());break;case"l":this.activeNode&&(console.log(this.activeNode),console.log(this.activeNode.deserialize()));break;case"v":t&&this.clipboard.map(i=>{const{pos:{x:o=0,y:r=0}={}}=i.attributes;return i.attributes.pos={x:o+this.mx,y:r+this.my},i}).forEach(i=>this.system.createNode(i));break}this.emit("keydown",{key:e,keys:_e(de({},this.keyMap),{ctrlKey:t})})}}const xt=xe("NodeFactory");class Zr{constructor(e){this.id=Ki(),this.system=e,xt("Initialized")}reset(){this.id.reset(),xt("Reset id generator")}create(e){const{attributes:t}=e;t.type=t.type.toLowerCase();const s=this.system.store.getByType(t.type);t.id=this.id(+t.id);const i=new s.node(this.system,e);if(this.system.options.view&&s.view){const o=new s.view(i);i.bindView(o)}return s.type==="output"&&this.system.setOutputNode(i),xt(`Created node with type ${t.type}`,e),i}}const at=xe("NodeHistory");class Kr{constructor(e){this.system=e,this.history=[],this.historyIndex=-1,this.isApplyingChanges=!1,at("Initialized")}addAction(){!this.system.isLoaded||this.isApplyingChanges||(this._timeout?clearTimeout(this._timeout):this.prevState=this.system.serialize().nodes,this._timeout=setTimeout(()=>{this._addAction(),this._timeout=void 0},200))}_addAction(){if(at("Register History Step"),this.isApplyingChanges)return;this.historyIndex!==this.history.length-1&&(this.history.length=this.historyIndex+1);const e=this.system.serialize().nodes,[t,s]=In(this.prevState,e);!s||!t||(this.history.push({previous:s,next:t}),this.history.length>60&&(this.history=this.history.reverse().slice(0,60).reverse()),this.historyIndex=this.history.length-1)}serialize(){return{steps:this.history,index:this.historyIndex}}deserialize(e){this.historyIndex=e.index,this.history=e.steps}undo(){if(this.isApplyingChanges)return;if(this.isApplyingChanges=!0,this.historyIndex<0){at("Reached beginning of Stack"),this.isApplyingChanges=!1;return}const{previous:e}=this.history[this.historyIndex],t=this.system.serialize(),s=mt(t.nodes,e);t.nodes=s,this.system.load(t),this.historyIndex--,this.isApplyingChanges=!1}redo(){if(this.isApplyingChanges)return;if(this.isApplyingChanges=!0,this.historyIndex>=this.history.length-1){at("Reached end of Stack"),this.isApplyingChanges=!1;return}const{next:e}=this.history[this.historyIndex+1],t=this.system.serialize(),s=mt(t.nodes,e);t.nodes=s,this.system.load(t),this.historyIndex++,this.isApplyingChanges=!1}}class Gr{constructor(e){this.system=e}parseSystem(e){const{nodes:t}=e,s=new Map,i=t.map(o=>{const r=this.system.factory.create(o);return r.enableUpdates=!1,s.set(r.id,r),r});return i.forEach(o=>{o.attributes.refs&&o.attributes.refs.forEach(r=>{const l=s.get(r.id);if(!l)throw new Error(`Failed ref: from ${o.attributes.name||o.attributes.id} to ${r.id} `);o.connectTo(l,r.out,r.in)})}),i.forEach(o=>{o.enableUpdates=!0,o.update()}),i}parseType(e){const{compute:t,meta:s,outputs:i,title:o,parameters:r={}}=e,l=class extends At{constructor(c,u){if(super(c,u),t&&(this.compute=t),i){const f=Array.isArray(i)?i:[i];this.outputs=f.map(d=>new ut(this,d))}Object.entries(r).forEach(([f,d])=>{this.states[f]=new Bt(this,f,d)})}},a=Object.values(r).filter(c=>c.internal!==!0).map(c=>c.type);if(this.system.options.view){const c=class extends Pt{constructor(f){super(f)}};return _e(de({},e),{inputs:a,title:o,meta:s,node:l,view:c})}return _e(de({inputs:a},e),{title:o,meta:s,node:l})}getData(){return{meta:this.system.meta,nodes:this.system.nodes.map(e=>e.deserialize())}}}const Jr=xe("NodeTypeStore");class Qr extends Ve{constructor(){super(),this.types=[],this.typeMap={}}add(e){Jr("register new type "+e.title,e),this.types=[...this.types.filter(t=>t.type.toLowerCase()!==e.type.toLowerCase()),e],this.typeMap[e.type.toLowerCase()]=e,this.emit("types",this.types),this.emit("type",e)}clear(){this.typeMap={},this.types=[],this.emit("types",this.types)}getByType(e){if(e in this.typeMap)return this.typeMap[e];if(e.toLowerCase()in this.typeMap)return this.typeMap[e.toLowerCase()];throw console.log({typeMap:this.typeMap}),new Error("NodeTypeStore: type "+e+" does not exist")}}var el=Object.defineProperty,tl=Object.getOwnPropertyDescriptor,sl=(n,e,t,s)=>{for(var i=s>1?void 0:s?tl(e,t):e,o=n.length-1,r;o>=0;o--)(r=n[o])&&(i=(s?r(e,t,i):r(i))||i);return s&&i&&el(e,t,i),i};let il=0;const je=xe("NodeSystem");class nl extends Ve{constructor(e={}){super(),this.parser=new Gr(this),this.meta={lastSaved:Date.now()},this.isLoaded=!1,this.isPaused=!1,this.nodes=[],this.states=[],this.id=il++;const{view:t=!1,wrapper:s,defaultNodes:i=!1,registerNodes:o=!1,connectionColors:r=!1,showUpdates:l=!1,deferCompute:a=!1}=e;this.options={view:t,wrapper:s,showUpdates:l,deferCompute:a};try{if(je(`Instantiated id:${this.id}`),this.store=new Qr,this.factory=new Zr(this),this.history=new Kr(this),t&&(this.view=new qr(this),r&&this.view.colorStore.setColors(r)),i){const c=[];i===!0?c.push(...Object.entries(Lt).map(u=>u[1])):Array.isArray(i)&&i.length&&i.forEach(u=>{typeof u=="string"&&u in Lt&&c.push(Lt[u])}),c.forEach(u=>this.registerNodeType(u))}o&&o.length&&o.forEach(c=>this.registerNodeType(c))}catch(c){console.warn("Error Loading",c),this.emit("error",{type:"init",error:c})}}get result(){return this._result}set result(e){this._result=e,this.isLoaded&&this.emit("result",e)}setMetaData(e){this.meta=de(de({},this.meta),e),this.save()}load(e){var t;if(je("Loading NodeSystemData",{systemData:e}),!e){this.isLoaded=!0;return}try{this.isLoaded=!1,this.isPaused=!0,this.nodes.forEach(i=>i.enableUpdates=!1),this.nodes.forEach(i=>i.remove()),this.factory.reset();const s=this.parser.parseSystem(e);return this.addNodes(s),this.meta=e.meta||{lastSaved:0},this.meta.lastSaved=Date.now(),(t=this==null?void 0:this.view)==null||t.setTransform(this.meta.transform),je(`Loaded NodeSystemData with ${s.length} Nodes`,e),"history"in e&&this.history.deserialize(e.history),this.isPaused=!1,this.isLoaded=!0,this.result=this._result,this}catch(s){console.warn("Error",s),this.emit("error",{type:"loading",error:s})}}serialize(){return _e(de({},this.parser.getData()),{history:this.history.serialize(),meta:this.meta})}save(){this.isLoaded&&(this.meta.lastSaved=Date.now(),je("save system",this.serialize()),this.emit("save",this.serialize()))}setOutputNode(e){this.outputNode&&this.outputNode.remove(),this.outputNode=e,e.on("computedData",t=>{this.options.deferCompute?this.result={type:"output",parameters:t}:this.result=t})}addNodes(e){e.forEach(t=>this.addNode(t))}addNode(e){this.history.addAction(),this.nodes.push(e),this.save()}removeNode(e){this.history.addAction(),e.enableUpdates=!1,e.view.remove(),Object.values(e.states).forEach(t=>t.remove()),e.outputs.forEach(t=>t.remove()),e.getInputs().forEach(t=>t.remove()),this.nodes=this.nodes.filter(t=>t!==e),this.save(),je(`Removed Node id:${e.id} type:${e.attributes.type}`,e.deserialize())}spliceNode(e){const t=e.getInputs().map(i=>{var o;return(o=i==null?void 0:i.connection)==null?void 0:o.output}),s=e.outputs.map(i=>i.connections).flat().map(i=>i.input);for(let i=0;i<t.length;i++){const o=t[i],r=s[i];!r||!o||o.connectTo(r)}return this.removeNode(e)}getSockets(e){const t=this.nodes.map(s=>[...s.getSockets()]).flat();return e?t.filter(s=>s.type===e):t}getInputs(e){const t=this.nodes.map(s=>s.getInputs()).flat();return!e||e==="*"?t:t.filter(s=>s.type.includes("*")||s.type.includes(e))}getOutputs(e){const t=this.nodes.map(s=>s.outputs).flat();return!e||e.includes("*")?t:t.filter(s=>s.type==="*"||e.includes(s.type))}createNode(e){const t=this.factory.create(e);return this.addNode(t),this.save(),je(`Created new node id:${e.attributes.id} type:${e.attributes.type}`,e),t}getNodes(){return this.nodes}findNodeById(e){return this.nodes.filter(t=>t.id===e)[0]}getNodeTypes(){return this.store.types}registerNodeType(e){if(Array.isArray(e)){e.forEach(t=>this.registerNodeType(t));return}if("node"in e)this.store.add(e);else{const t=this.parser.parseType(e);this.store.add(t)}}}sl([Yi(1e3)],nl.prototype,"save",1);const Ml={meta:{lastSaved:Date.now(),transform:{x:0,y:0,s:1}},nodes:[{attributes:{pos:{x:127,y:-46},type:"output",id:"0",refs:[]},state:{}},{attributes:{pos:{x:-15,y:-59},type:"math",id:"1",refs:[{id:"0",out:0,in:"input"}]},state:{mode:"multiply",a:0,b:0}},{attributes:{pos:{x:-157,y:-120},type:"number",id:"2",refs:[{id:"1",out:0,in:"a"}]},state:{value:2}},{attributes:{pos:{x:-159,y:48},type:"number",id:"3",refs:[{id:"1",out:0,in:"b"}]},state:{value:2}}]},Ot={meta:{lastSaved:Date.now(),transform:{x:0,y:0,s:1}},nodes:[{attributes:{pos:{x:-300,y:0},type:"number",id:"0",refs:[{id:"1",out:0,in:"a"},{id:"1",out:0,in:"b"}]},state:{value:2}}]},ke=12,ol=new Array(ke).fill(null).map(n=>new Array(ke).fill(null)).map((n,e)=>n.map((t,s)=>{const i=e*ke+s+1;return{attributes:{id:i.toString(),pos:{x:-200+s*100,y:e*150},type:"math",refs:[{id:(i+1).toString(),out:0,in:"a"},{id:(i+1).toString(),out:0,in:"b"}]},state:{mode:"add"}}}));Ot.nodes.push(...ol.flat().flat(),{attributes:{id:(ke*ke+1).toString(),pos:{x:-200+ke*100,y:(ke-1)*150},type:"output",refs:[]},state:{value:2}});Ot.nodes[Ot.nodes.length-2].attributes.refs=[{id:(ke*ke+1).toString(),out:0,in:"input"}];const Nl={meta:{lastSaved:1652709738865},nodes:[],history:{steps:[],index:-1}},rl="0px 0px 2px rgba(0, 0, 0, 0.7)",ll="0px 0px 5px rgba(0, 0, 0, 0.144)",al="0px 0px 5px rgba(0, 0, 0, 0.144)";var cl={"dark_background-color":"#141516","dark_midground-color":"#242729","dark_foreground-color":"#33373a","dark_outline-color":"#212121","dark_text-color":"#ffffff",dark_shadow:rl,"light_background-color":"#d0d0d0","light_midground-color":"white","light_foreground-color":"#e8e8e8","light_outline-color":"#b9b9b9","light_text-color":"#484848",light_shadow:ll,"pinky_background-color":"#d0d0d0","pinky_foreground-color":"pink","pinky_outline-color":"#b9b9b9","pinky_text-color":"#484848",pinky_shadow:al};function ul(n){const e={};return Object.entries(n).forEach(([t,s])=>{const[i,o]=t.split("_");i in e?e[i][o]=s:e[i]={[o]:s}}),e}const Rt=ul(cl),yt=Object.keys(Rt);let He="dark";"localStorage"in globalThis&&(He="theme"in localStorage?localStorage.getItem("theme"):yt[0]);yt.includes(He)||(He=yt[0]);globalThis.window&&document.body.classList.add("theme-"+He);const mi=_t(Rt[He]),vi=_t(He),hl=n=>{if(yt.includes(n)){for(const e of document.body.classList.values())e.startsWith("theme-")&&document.body.classList.remove(e);document.body.classList.add("theme-"+n),mi.set(Rt[n]),vi.set(n),localStorage.setItem("theme",n)}else console.warn("cannot set theme",n)};function fl(n){return yi("",typeof n=="string"?JSON.parse(n):n)}function yi(n,e){var t="";return Object.entries(e).forEach(function(s){var i=s[0],o=s[1];t+=typeof o=="object"?yi(""+si(n,i),o):"--"+si(n,i)+": "+o+";"}),t}function si(n,e){return n?e==="__default"?n:n+"-"+e:e}function dl(n){let e;return{c(){e=N("style"),this.h()},l(t){const s=zi('[data-svelte="svelte-14spz5y"]',document.head);e=S(s,"STYLE",{type:!0,id:!0});var i=E(e);i.forEach(v),s.forEach(v),this.h()},h(){p(e,"type","text/css"),p(e,"id","theme-css")},m(t,s){g(document.head,e),n[3](e)},p:U,i:U,o:U,d(t){v(e),n[3](null)}}}function pl(n,e,t){let s,i;wt(n,mi,c=>t(2,i=c));let o,r=!1;function l(){r||!o||(r=!0,t(0,o.innerHTML="* {transition: color 0.2s ease, background-color 0.2s ease, outline 0.2s ease !important;}",o),setTimeout(()=>{t(0,o.innerHTML=`* {transition: color 0.2s ease, background-color 0.2s ease, outline 0.2s ease !important;} :root{${s}}`,o),setTimeout(()=>{t(0,o.innerHTML=`:root{${s}}`,o),r=!1},200)},1))}Vt(()=>{t(0,o.innerHTML=`:root{${s}}`,o)});function a(c){Oe[c?"unshift":"push"](()=>{o=c,t(0,o)})}return n.$$.update=()=>{n.$$.dirty&4&&t(1,s=fl(i)),n.$$.dirty&2&&s&&l()},[o,s,i,a]}class ml extends ae{constructor(e){super(),ce(this,e,pl,dl,ue,{})}}function vl(n){let e,t,s,i,o,r,l,a,c,u;t=new Je({props:{icon:n[0]==="dark"?"bulb_dark":"bulb"}}),t.$on("click",n[3]);const f=n[2].default,d=ii(f,n,n[1],null);return o=new ml({}),l=new Go({}),c=new Oo({}),{c(){e=N("header"),ne(t.$$.fragment),s=H(),d&&d.c(),i=H(),ne(o.$$.fragment),r=H(),ne(l.$$.fragment),a=H(),ne(c.$$.fragment),this.h()},l(h){e=S(h,"HEADER",{class:!0});var m=E(e);fe(t.$$.fragment,m),s=z(m),d&&d.l(m),m.forEach(v),i=z(h),fe(o.$$.fragment,h),r=z(h),fe(l.$$.fragment,h),a=z(h),fe(c.$$.fragment,h),this.h()},h(){p(e,"class","svelte-gf5ds6")},m(h,m){O(h,e,m),oe(t,e,null),g(e,s),d&&d.m(e,null),O(h,i,m),oe(o,h,m),O(h,r,m),oe(l,h,m),O(h,a,m),oe(c,h,m),u=!0},p(h,[m]){const y={};m&1&&(y.icon=h[0]==="dark"?"bulb_dark":"bulb"),t.$set(y),d&&d.p&&(!u||m&2)&&ni(d,f,h,h[1],u?ri(f,h[1],m,null):oi(h[1]),null)},i(h){u||(V(t.$$.fragment,h),V(d,h),V(o.$$.fragment,h),V(l.$$.fragment,h),V(c.$$.fragment,h),u=!0)},o(h){A(t.$$.fragment,h),A(d,h),A(o.$$.fragment,h),A(l.$$.fragment,h),A(c.$$.fragment,h),u=!1},d(h){h&&v(e),re(t),d&&d.d(h),h&&v(i),re(o,h),h&&v(r),re(l,h),h&&v(a),re(c,h)}}}function yl(n,e,t){let s;wt(n,vi,l=>t(0,s=l));let{$$slots:i={},$$scope:o}=e;const r=()=>hl(s==="dark"?"light":"dark");return n.$$set=l=>{"$$scope"in l&&t(1,o=l.$$scope)},[s,o,i,r]}class Sl extends ae{constructor(e){super(),ce(this,e,yl,vl,ue,{})}}Ae.disable_scroll_handling;const Cl=Ae.goto;Ae.invalidate;Ae.prefetch;Ae.prefetch_routes;Ae.before_navigate;Ae.after_navigate;export{Je as B,Sl as H,nl as N,At as a,Bt as b,Pt as c,Ml as d,El as e,Ll as f,Cl as g,Ot as s,Nl as t};
