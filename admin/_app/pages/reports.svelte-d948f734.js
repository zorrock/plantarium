import{S as z,i as F,s as J,e as k,t as R,c as E,a as v,h as A,d as h,b as g,g as V,J as m,j as K,k as L,m as O,E as b,l as G,n as j,o as S,p as B,q as D,I as X,O as ie,ad as ce,K as se,ae as fe,w as H,x as ae,y as q,z as ue,B as U,C as _e,$ as he,a0 as de}from"../chunks/index-bfb72d91.js";import{g as pe}from"../chunks/index-eaaad532.js";import{b as Z}from"../chunks/paths-396f020f.js";/* empty css                                                          */import"../chunks/index-56b15200.js";function $(o){const e=Math.floor(o/31536e3);if(e)return e+" years ";const t=Math.floor(o%31536e3/86400);if(t)return t+" days ";const l=Math.floor(o%31536e3%86400/3600);if(l)return l+" hours ";const n=Math.floor(o%31536e3%86400%3600/60);if(n)return n+" minutes ";const r=o%31536e3%86400%3600%60;return r?r+" seconds":"less than a second"}function x(o){let e,t,l=o[0].gh_issue+"",n,r;return{c(){e=k("a"),t=R("#"),n=R(l),this.h()},l(s){e=E(s,"A",{href:!0});var _=v(e);t=A(_,"#"),n=A(_,l),_.forEach(h),this.h()},h(){g(e,"href",r="https://github.com/"+o[2]+"/"+o[3]+"/issues/"+o[0].gh_issue)},m(s,_){V(s,e,_),m(e,t),m(e,n)},p(s,_){_&1&&l!==(l=s[0].gh_issue+"")&&K(n,l),_&1&&r!==(r="https://github.com/"+s[2]+"/"+s[3]+"/issues/"+s[0].gh_issue)&&g(e,"href",r)},d(s){s&&h(e)}}}function me(o){let e,t,l,n=o[0].type+"",r,s,_,i=o[0].description+"",c,d,p,a,f,u=$(o[1])+"",T,I,M,y=o[0].gh_issue&&x(o);return{c(){e=k("a"),t=k("div"),l=k("b"),r=R(n),s=L(),_=k("p"),c=R(i),d=L(),y&&y.c(),p=L(),a=k("div"),f=k("i"),T=R(u),I=R(" ago"),this.h()},l(w){e=E(w,"A",{class:!0,href:!0});var P=v(e);t=E(P,"DIV",{class:!0});var N=v(t);l=E(N,"B",{class:!0});var Y=v(l);r=A(Y,n),Y.forEach(h),s=O(N),_=E(N,"P",{class:!0});var Q=v(_);c=A(Q,i),Q.forEach(h),d=O(N),y&&y.l(N),N.forEach(h),p=O(P),a=E(P,"DIV",{class:!0});var W=v(a);f=E(W,"I",{class:!0});var C=v(f);T=A(C,u),I=A(C," ago"),C.forEach(h),W.forEach(h),P.forEach(h),this.h()},h(){g(l,"class","text-xl"),g(_,"class","mx-2 whitespace-nowrap"),g(t,"class","flex items-center py-1"),g(f,"class","text-xs"),g(a,"class","flex"),g(e,"class","bg-white w-full p-4 block"),g(e,"href",M=Z+"/reports/"+o[0].id)},m(w,P){V(w,e,P),m(e,t),m(t,l),m(l,r),m(t,s),m(t,_),m(_,c),m(t,d),y&&y.m(t,null),m(e,p),m(e,a),m(a,f),m(f,T),m(f,I)},p(w,[P]){P&1&&n!==(n=w[0].type+"")&&K(r,n),P&1&&i!==(i=w[0].description+"")&&K(c,i),w[0].gh_issue?y?y.p(w,P):(y=x(w),y.c(),y.m(t,null)):y&&(y.d(1),y=null),P&2&&u!==(u=$(w[1])+"")&&K(T,u),P&1&&M!==(M=Z+"/reports/"+w[0].id)&&g(e,"href",M)},i:b,o:b,d(w){w&&h(e),y&&y.d()}}}function ge(o,e,t){let l;const{VITE_GH_ORG:n,VITE_GH_REPO:r}={VITE_API_URL:"https://plant-api.jim-fx.com",VITE_SVELTEKIT_APP_VERSION:"1652580420215",VITE_SVELTEKIT_APP_VERSION_FILE:"_app/version.json",VITE_SVELTEKIT_APP_VERSION_POLL_INTERVAL:"0",VITE_SVELTEKIT_AMP:"",VITE_GH_ORG:"jim-fx",VITE_GH_REPO:"plantarium",BASE_URL:"/admin/_app/",MODE:"production",DEV:!1,PROD:!0};let{report:s}=e;return o.$$set=_=>{"report"in _&&t(0,s=_.report)},o.$$.update=()=>{o.$$.dirty&1&&t(1,l=Math.floor((Date.now()-new Date(s.createdAt).getTime())/1e3))},[s,l,n,r]}class be extends z{constructor(e){super(),F(this,e,ge,me,J,{report:0})}}function ee(o,e,t){const l=o.slice();return l[11]=e[t],l}function te(o,e,t){const l=o.slice();return l[14]=e[t],l}function le(o,e,t){const l=o.slice();return l[14]=e[t],l}function ke(o){let e,t;return{c(){e=k("p"),t=R("This table seems empty")},l(l){e=E(l,"P",{});var n=v(e);t=A(n,"This table seems empty"),n.forEach(h)},m(l,n){V(l,e,n),m(e,t)},p:b,i:b,o:b,d(l){l&&h(e)}}}function Ee(o){let e,t,l,n,r=[],s=new Map,_,i=o[4],c=[];for(let a=0;a<i.length;a+=1)c[a]=ne(le(o,i,a));let d=o[5];const p=a=>a[11].id;for(let a=0;a<d.length;a+=1){let f=ee(o,d,a),u=p(f);s.set(u,r[a]=oe(u,f))}return{c(){e=k("table"),t=k("thead");for(let a=0;a<c.length;a+=1)c[a].c();l=L(),n=k("tbody");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=E(a,"TABLE",{});var f=v(e);t=E(f,"THEAD",{class:!0});var u=v(t);for(let I=0;I<c.length;I+=1)c[I].l(u);u.forEach(h),l=O(f),n=E(f,"TBODY",{});var T=v(n);for(let I=0;I<r.length;I+=1)r[I].l(T);T.forEach(h),f.forEach(h),this.h()},h(){g(t,"class","bg-white rounded shadow-md cursor-pointer select-none")},m(a,f){V(a,e,f),m(e,t);for(let u=0;u<c.length;u+=1)c[u].m(t,null);m(e,l),m(e,n);for(let u=0;u<r.length;u+=1)r[u].m(n,null);_=!0},p(a,f){if(f&92){i=a[4];let u;for(u=0;u<i.length;u+=1){const T=le(a,i,u);c[u]?c[u].p(T,f):(c[u]=ne(T),c[u].c(),c[u].m(t,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=i.length}f&51&&(d=a[5],j(),r=ce(r,f,p,1,a,d,s,n,fe,oe,null,ee),B())},i(a){if(!_){for(let f=0;f<d.length;f+=1)D(r[f]);_=!0}},o(a){for(let f=0;f<r.length;f+=1)S(r[f]);_=!1},d(a){a&&h(e),se(c,a);for(let f=0;f<r.length;f+=1)r[f].d()}}}function ne(o){let e,t,l=o[14]===o[3]?o[2]?"\u2B9D":"\u2B9F":"  ",n,r,s=o[14]+"",_,i,c,d;function p(){return o[9](o[14])}return{c(){e=k("td"),t=k("span"),n=R(l),r=L(),_=R(s),i=L(),this.h()},l(a){e=E(a,"TD",{class:!0});var f=v(e);t=E(f,"SPAN",{class:!0});var u=v(t);n=A(u,l),u.forEach(h),r=O(f),_=A(f,s),i=O(f),f.forEach(h),this.h()},h(){g(t,"class","text-xs"),g(e,"class","p-2 whitespace-nowrap"),X(e,"font-bold",o[14]===o[3])},m(a,f){V(a,e,f),m(e,t),m(t,n),m(e,r),m(e,_),m(e,i),c||(d=ie(e,"click",p),c=!0)},p(a,f){o=a,f&28&&l!==(l=o[14]===o[3]?o[2]?"\u2B9D":"\u2B9F":"  ")&&K(n,l),f&16&&s!==(s=o[14]+"")&&K(_,s),f&24&&X(e,"font-bold",o[14]===o[3])},d(a){a&&h(e),c=!1,d()}}}function ve(o){let e,t=o[4],l=[];for(let n=0;n<t.length;n+=1)l[n]=re(te(o,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=G()},l(n){for(let r=0;r<l.length;r+=1)l[r].l(n);e=G()},m(n,r){for(let s=0;s<l.length;s+=1)l[s].m(n,r);V(n,e,r)},p(n,r){if(r&48){t=n[4];let s;for(s=0;s<t.length;s+=1){const _=te(n,t,s);l[s]?l[s].p(_,r):(l[s]=re(_),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},i:b,o:b,d(n){se(l,n),n&&h(e)}}}function ye(o){let e,t,l,n;const r=[{[o[1]]:o[11]}];var s=o[0];function _(i){let c={};for(let d=0;d<r.length;d+=1)c=_e(c,r[d]);return{props:c}}return s&&(t=new s(_())),{c(){e=k("td"),t&&H(t.$$.fragment),this.h()},l(i){e=E(i,"TD",{colspan:!0,class:!0});var c=v(e);t&&ae(t.$$.fragment,c),c.forEach(h),this.h()},h(){g(e,"colspan",l=o[0]?o[4].length:1),g(e,"class","py-1")},m(i,c){V(i,e,c),t&&q(t,e,null),n=!0},p(i,c){const d=c&34?ue(r,[{[i[1]]:i[11]}]):{};if(s!==(s=i[0])){if(t){j();const p=t;S(p.$$.fragment,1,0,()=>{U(p,1)}),B()}s?(t=new s(_()),H(t.$$.fragment),D(t.$$.fragment,1),q(t,e,null)):t=null}else s&&t.$set(d);(!n||c&17&&l!==(l=i[0]?i[4].length:1))&&g(e,"colspan",l)},i(i){n||(t&&D(t.$$.fragment,i),n=!0)},o(i){t&&S(t.$$.fragment,i),n=!1},d(i){i&&h(e),t&&U(t)}}}function re(o){let e,t=o[11][o[14]]+"",l,n;return{c(){e=k("td"),l=R(t),n=L()},l(r){e=E(r,"TD",{});var s=v(e);l=A(s,t),n=O(s),s.forEach(h)},m(r,s){V(r,e,s),m(e,l),m(e,n)},p(r,s){s&48&&t!==(t=r[11][r[14]]+"")&&K(l,t)},d(r){r&&h(e)}}}function oe(o,e){let t,l,n,r,s,_;const i=[ye,ve],c=[];function d(p,a){return p[0]?0:1}return n=d(e),r=c[n]=i[n](e),{key:o,first:null,c(){t=k("tr"),l=k("tr"),r.c(),s=L(),this.h()},l(p){t=E(p,"TR",{class:!0}),v(t).forEach(h),l=E(p,"TR",{});var a=v(l);r.l(a),s=O(a),a.forEach(h),this.h()},h(){g(t,"class","my-5"),this.first=t},m(p,a){V(p,t,a),V(p,l,a),c[n].m(l,null),m(l,s),_=!0},p(p,a){e=p;let f=n;n=d(e),n===f?c[n].p(e,a):(j(),S(c[f],1,1,()=>{c[f]=null}),B(),r=c[n],r?r.p(e,a):(r=c[n]=i[n](e),r.c()),D(r,1),r.m(l,s))},i(p){_||(D(r),_=!0)},o(p){S(r),_=!1},d(p){p&&h(t),p&&h(l),c[n].d()}}}function Te(o){let e,t,l,n;const r=[Ee,ke],s=[];function _(i,c){return i[4].length?0:1}return e=_(o),t=s[e]=r[e](o),{c(){t.c(),l=G()},l(i){t.l(i),l=G()},m(i,c){s[e].m(i,c),V(i,l,c),n=!0},p(i,[c]){let d=e;e=_(i),e===d?s[e].p(i,c):(j(),S(s[d],1,1,()=>{s[d]=null}),B(),t=s[e],t?t.p(i,c):(t=s[e]=r[e](i),t.c()),D(t,1),t.m(l.parentNode,l))},i(i){n||(D(t),n=!0)},o(i){S(t),n=!1},d(i){s[e].d(i),i&&h(l)}}}function Ie(o,e,t){let l,n,r,{items:s=[]}=e,{keys:_}=e,{component:i}=e,{componentKey:c="item"}=e,d=!1;function p(u){const T=s.sort((I,M)=>I[n]>M[n]?-1:1);return u?T.reverse():T}function a(u){u===n?t(2,d=!d):t(3,n=u)}const f=u=>a(u);return o.$$set=u=>{"items"in u&&t(7,s=u.items),"keys"in u&&t(8,_=u.keys),"component"in u&&t(0,i=u.component),"componentKey"in u&&t(1,c=u.componentKey)},o.$$.update=()=>{o.$$.dirty&384&&t(4,l=_&&_.length?_:s.length?Object.keys(s[0]):[]),o.$$.dirty&16&&t(3,n=l.length&&l[0]),o.$$.dirty&140&&t(5,r=s.length&&n?p(d):[])},[i,c,d,n,l,r,a,s,_,f]}class we extends z{constructor(e){super(),F(this,e,Ie,Te,J,{items:7,keys:8,component:0,componentKey:1})}}function Ve(o){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function Pe(o){let e,t;return e=new we({props:{items:o[0],component:be,componentKey:"report"}}),{c(){H(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},p:b,i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Re(o){let e;return{c(){e=R("Loading ...")},l(t){e=A(t,"Loading ...")},m(t,l){V(t,e,l)},p:b,i:b,o:b,d(t){t&&h(e)}}}function Ae(o){let e,t,l={ctx:o,current:null,token:null,hasCatch:!1,pending:Re,then:Pe,catch:Ve,value:0,blocks:[,,,]};return he(pe("api/report"),l),{c(){e=k("div"),l.block.c(),this.h()},l(n){e=E(n,"DIV",{class:!0});var r=v(e);l.block.l(r),r.forEach(h),this.h()},h(){g(e,"class","container w-min mx-auto rounded overflow-hidden")},m(n,r){V(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){o=n,de(l,o,r)},i(n){t||(D(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const s=l.blocks[r];S(s)}t=!1},d(n){n&&h(e),l.block.d(),l.token=null,l=null}}}class Me extends z{constructor(e){super(),F(this,e,null,Ae,J,{})}}export{Me as default};
