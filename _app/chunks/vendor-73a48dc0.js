function ut(){}const Fr=e=>e;function Ui(e,t){for(const r in t)e[r]=t[r];return e}function ki(e){return e&&typeof e=="object"&&typeof e.then=="function"}function zr(e){return e()}function Br(){return Object.create(null)}function zt(e){e.forEach(zr)}function $r(e){return typeof e=="function"}function Be(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Yi(e){return Object.keys(e).length===0}function Ur(e,...t){if(e==null)return ut;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function D1(e){let t;return Ur(e,r=>t=r)(),t}function N1(e,t,r){e.$$.on_destroy.push(Ur(t,r))}function Vi(e,t,r,n){if(e){const i=kr(e,t,r,n);return e[0](i)}}function kr(e,t,r,n){return e[1]&&n?Ui(r.ctx.slice(),e[1](n(t))):r.ctx}function qi(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(t.dirty.length,i.length);for(let o=0;o<a;o+=1)s[o]=t.dirty[o]|i[o];return s}return t.dirty|i}return t.dirty}function ji(e,t,r,n,i,s){if(i){const a=kr(t,r,n,s);e.p(a,i)}}function Xi(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let n=0;n<r;n++)t[n]=-1;return t}return-1}function L1(e,t,r){return e.set(r),t}const Yr=typeof window!="undefined";let Wi=Yr?()=>window.performance.now():()=>Date.now(),$e=Yr?e=>requestAnimationFrame(e):ut;const Bt=new Set;function Vr(e){Bt.forEach(t=>{t.c(e)||(Bt.delete(t),t.f())}),Bt.size!==0&&$e(Vr)}function Gi(e){let t;return Bt.size===0&&$e(Vr),{promise:new Promise(r=>{Bt.add(t={c:e,f:r})}),abort(){Bt.delete(t)}}}let re=!1;function Hi(){re=!0}function Qi(){re=!1}function Ki(e,t,r,n){for(;e<t;){const i=e+(t-e>>1);r(i)<=n?e=i+1:t=i}return e}function Zi(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const l=[];for(let h=0;h<t.length;h++){const d=t[h];d.claim_order!==void 0&&l.push(d)}t=l}const r=new Int32Array(t.length+1),n=new Int32Array(t.length);r[0]=-1;let i=0;for(let l=0;l<t.length;l++){const h=t[l].claim_order,d=(i>0&&t[r[i]].claim_order<=h?i+1:Ki(1,i,p=>t[r[p]].claim_order,h))-1;n[l]=r[d]+1;const c=d+1;r[c]=l,i=Math.max(c,i)}const s=[],a=[];let o=t.length-1;for(let l=r[i]+1;l!=0;l=n[l-1]){for(s.push(t[l-1]);o>=l;o--)a.push(t[o]);o--}for(;o>=0;o--)a.push(t[o]);s.reverse(),a.sort((l,h)=>l.claim_order-h.claim_order);for(let l=0,h=0;l<a.length;l++){for(;h<s.length&&a[l].claim_order>=s[h].claim_order;)h++;const d=h<s.length?s[h]:null;e.insertBefore(a[l],d)}}function Ji(e,t){e.appendChild(t)}function qr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ts(e){const t=Xt("style");return es(qr(e),t),t.sheet}function es(e,t){Ji(e.head||e,t)}function rs(e,t){if(re){for(Zi(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function ns(e,t,r){e.insertBefore(t,r||null)}function ne(e,t,r){re&&!r?rs(e,t):(t.parentNode!==e||t.nextSibling!=r)&&e.insertBefore(t,r||null)}function _t(e){e.parentNode.removeChild(e)}function C1(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function Xt(e){return document.createElement(e)}function is(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ue(e){return document.createTextNode(e)}function ss(){return Ue(" ")}function P1(){return Ue("")}function as(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function F1(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function os(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function z1(e,t,r){t in e?e[t]=typeof e[t]=="boolean"&&r===""?!0:r:os(e,t,r)}function B1(e){return e===""?null:+e}function ke(e){return Array.from(e.childNodes)}function jr(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function Xr(e,t,r,n,i=!1){jr(e);const s=(()=>{for(let a=e.claim_info.last_index;a<e.length;a++){const o=e[a];if(t(o)){const l=r(o);return l===void 0?e.splice(a,1):e[a]=l,i||(e.claim_info.last_index=a),o}}for(let a=e.claim_info.last_index-1;a>=0;a--){const o=e[a];if(t(o)){const l=r(o);return l===void 0?e.splice(a,1):e[a]=l,i?l===void 0&&e.claim_info.last_index--:e.claim_info.last_index=a,o}}return n()})();return s.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,s}function Wr(e,t,r,n){return Xr(e,i=>i.nodeName===t,i=>{const s=[];for(let a=0;a<i.attributes.length;a++){const o=i.attributes[a];r[o.name]||s.push(o.name)}s.forEach(a=>i.removeAttribute(a))},()=>n(t))}function Gr(e,t,r){return Wr(e,t,r,Xt)}function $1(e,t,r){return Wr(e,t,r,is)}function ls(e,t){return Xr(e,r=>r.nodeType===3,r=>{const n=""+t;if(r.data.startsWith(n)){if(r.data.length!==n.length)return r.splitText(n.length)}else r.data=n},()=>Ue(t),!0)}function hs(e){return ls(e," ")}function Hr(e,t,r){for(let n=r;n<e.length;n+=1){const i=e[n];if(i.nodeType===8&&i.textContent.trim()===t)return n}return e.length}function U1(e){const t=Hr(e,"HTML_TAG_START",0),r=Hr(e,"HTML_TAG_END",t);if(t===r)return new Kr;jr(e);const n=e.splice(t,r-t+1);_t(n[0]),_t(n[n.length-1]);const i=n.slice(1,n.length-1);for(const s of i)s.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1;return new Kr(i)}function k1(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Y1(e,t){e.value=t==null?"":t}function fs(e,t,r,n){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function V1(e,t,r){e.classList[r?"add":"remove"](t)}function Qr(e,t,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}function q1(e,t=document.body){return Array.from(t.querySelectorAll(e))}class cs{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,r,n=null){this.e||(this.e=Xt(r.nodeName),this.t=r,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let r=0;r<this.n.length;r+=1)ns(this.t,this.n[r],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(_t)}}class Kr extends cs{constructor(t){super();this.e=this.n=null,this.l=t}c(t){this.l?this.n=this.l:super.c(t)}i(t){for(let r=0;r<this.n.length;r+=1)ne(this.t,this.n[r],t)}}const ie=new Map;let se=0;function us(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function ds(e,t){const r={stylesheet:ts(t),rules:{}};return ie.set(e,r),r}function Zr(e,t,r,n,i,s,a,o=0){const l=16.666/n;let h=`{
`;for(let w=0;w<=1;w+=l){const A=t+(r-t)*s(w);h+=w*100+`%{${a(A,1-A)}}
`}const d=h+`100% {${a(r,1-r)}}
}`,c=`__svelte_${us(d)}_${o}`,p=qr(e),{stylesheet:g,rules:b}=ie.get(p)||ds(p,e);b[c]||(b[c]=!0,g.insertRule(`@keyframes ${c} ${d}`,g.cssRules.length));const x=e.style.animation||"";return e.style.animation=`${x?`${x}, `:""}${c} ${n}ms linear ${i}ms 1 both`,se+=1,c}function ps(e,t){const r=(e.style.animation||"").split(", "),n=r.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=r.length-n.length;i&&(e.style.animation=n.join(", "),se-=i,se||vs())}function vs(){$e(()=>{se||(ie.forEach(e=>{const{stylesheet:t}=e;let r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.rules={}}),ie.clear())})}let Wt;function bt(e){Wt=e}function $t(){if(!Wt)throw new Error("Function called outside component initialization");return Wt}function gs(e){$t().$$.on_mount.push(e)}function j1(e){$t().$$.after_update.push(e)}function ms(e){$t().$$.on_destroy.push(e)}function Jr(){const e=$t();return(t,r)=>{const n=e.$$.callbacks[t];if(n){const i=Qr(t,r);n.slice().forEach(s=>{s.call(e,i)})}}}function X1(e,t){$t().$$.context.set(e,t)}function W1(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach(n=>n.call(this,t))}const Gt=[],ae=[],oe=[],Ye=[],tn=Promise.resolve();let Ve=!1;function en(){Ve||(Ve=!0,tn.then(je))}function G1(){return en(),tn}function le(e){oe.push(e)}function H1(e){Ye.push(e)}const qe=new Set;let he=0;function je(){const e=Wt;do{for(;he<Gt.length;){const t=Gt[he];he++,bt(t),ys(t.$$)}for(bt(null),Gt.length=0,he=0;ae.length;)ae.pop()();for(let t=0;t<oe.length;t+=1){const r=oe[t];qe.has(r)||(qe.add(r),r())}oe.length=0}while(Gt.length);for(;Ye.length;)Ye.pop()();Ve=!1,qe.clear(),bt(e)}function ys(e){if(e.fragment!==null){e.update(),zt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(le)}}let Ht;function _s(){return Ht||(Ht=Promise.resolve(),Ht.then(()=>{Ht=null})),Ht}function Xe(e,t,r){e.dispatchEvent(Qr(`${t?"intro":"outro"}${r}`))}const fe=new Set;let wt;function bs(){wt={r:0,c:[],p:wt}}function ws(){wt.r||zt(wt.c),wt=wt.p}function ce(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function We(e,t,r,n){if(e&&e.o){if(fe.has(e))return;fe.add(e),wt.c.push(()=>{fe.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}const xs={duration:0};function Q1(e,t,r,n){let i=t(e,r),s=n?0:1,a=null,o=null,l=null;function h(){l&&ps(e,l)}function d(p,g){const b=p.b-s;return g*=Math.abs(b),{a:s,b:p.b,d:b,duration:g,start:p.start,end:p.start+g,group:p.group}}function c(p){const{delay:g=0,duration:b=300,easing:x=Fr,tick:w=ut,css:A}=i||xs,R={start:Wi()+g,b:p};p||(R.group=wt,wt.r+=1),a||o?o=R:(A&&(h(),l=Zr(e,s,p,b,g,x,A)),p&&w(0,1),a=d(R,b),le(()=>Xe(e,p,"start")),Gi(I=>{if(o&&I>o.start&&(a=d(o,b),o=null,Xe(e,a.b,"start"),A&&(h(),l=Zr(e,s,a.b,a.duration,0,x,i.css))),a){if(I>=a.end)w(s=a.b,1-s),Xe(e,a.b,"end"),o||(a.b?h():--a.group.r||zt(a.group.c)),a=null;else if(I>=a.start){const L=I-a.start;s=a.a+a.d*x(L/a.duration),w(s,1-s)}}return!!(a||o)}))}return{run(p){$r(i)?_s().then(()=>{i=i(),c(p)}):c(p)},end(){h(),a=o=null}}}function K1(e,t){const r=t.token={};function n(i,s,a,o){if(t.token!==r)return;t.resolved=o;let l=t.ctx;a!==void 0&&(l=l.slice(),l[a]=o);const h=i&&(t.current=i)(l);let d=!1;t.block&&(t.blocks?t.blocks.forEach((c,p)=>{p!==s&&c&&(bs(),We(c,1,1,()=>{t.blocks[p]===c&&(t.blocks[p]=null)}),ws())}):t.block.d(1),h.c(),ce(h,1),h.m(t.mount(),t.anchor),d=!0),t.block=h,t.blocks&&(t.blocks[s]=h),d&&je()}if(ki(e)){const i=$t();if(e.then(s=>{bt(i),n(t.then,1,t.value,s),bt(null)},s=>{if(bt(i),n(t.catch,2,t.error,s),bt(null),!t.hasCatch)throw s}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}}function Z1(e,t,r){const n=t.slice(),{resolved:i}=e;e.current===e.then&&(n[e.value]=i),e.current===e.catch&&(n[e.error]=i),e.block.p(n,r)}function J1(e,t){We(e,1,1,()=>{t.delete(e.key)})}function tl(e,t,r,n,i,s,a,o,l,h,d,c){let p=e.length,g=s.length,b=p;const x={};for(;b--;)x[e[b].key]=b;const w=[],A=new Map,R=new Map;for(b=g;b--;){const M=c(i,s,b),T=r(M);let P=a.get(T);P?n&&P.p(M,t):(P=h(T,M),P.c()),A.set(T,w[b]=P),T in x&&R.set(T,Math.abs(b-x[T]))}const I=new Set,L=new Set;function E(M){ce(M,1),M.m(o,d),a.set(M.key,M),d=M.first,g--}for(;p&&g;){const M=w[g-1],T=e[p-1],P=M.key,F=T.key;M===T?(d=M.first,p--,g--):A.has(F)?!a.has(P)||I.has(P)?E(M):L.has(F)?p--:R.get(P)>R.get(F)?(L.add(P),E(M)):(I.add(F),p--):(l(T,a),p--)}for(;p--;){const M=e[p];A.has(M.key)||l(M,a)}for(;g;)E(w[g-1]);return w}function el(e,t){const r={},n={},i={$$scope:1};let s=e.length;for(;s--;){const a=e[s],o=t[s];if(o){for(const l in a)l in o||(n[l]=1);for(const l in o)i[l]||(r[l]=o[l],i[l]=1);e[s]=o}else for(const l in a)i[l]=1}for(const a in n)a in r||(r[a]=void 0);return r}function rl(e){return typeof e=="object"&&e!==null?e:{}}function nl(e,t,r){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function il(e){e&&e.c()}function sl(e,t){e&&e.l(t)}function Es(e,t,r,n){const{fragment:i,on_mount:s,on_destroy:a,after_update:o}=e.$$;i&&i.m(t,r),n||le(()=>{const l=s.map(zr).filter($r);a?a.push(...l):zt(l),e.$$.on_mount=[]}),o.forEach(le)}function Ms(e,t){const r=e.$$;r.fragment!==null&&(zt(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function As(e,t){e.$$.dirty[0]===-1&&(Gt.push(e),en(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function rn(e,t,r,n,i,s,a,o=[-1]){const l=Wt;bt(e);const h=e.$$={fragment:null,ctx:null,props:s,update:ut,not_equal:i,bound:Br(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Br(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};a&&a(h.root);let d=!1;if(h.ctx=r?r(e,t.props||{},(c,p,...g)=>{const b=g.length?g[0]:p;return h.ctx&&i(h.ctx[c],h.ctx[c]=b)&&(!h.skip_bound&&h.bound[c]&&h.bound[c](b),d&&As(e,c)),p}):[],h.update(),d=!0,zt(h.before_update),h.fragment=n?n(h.ctx):!1,t.target){if(t.hydrate){Hi();const c=ke(t.target);h.fragment&&h.fragment.l(c),c.forEach(_t)}else h.fragment&&h.fragment.c();t.intro&&ce(e.$$.fragment),Es(e,t.target,t.anchor,t.customElement),Qi(),je()}bt(l)}class Ge{$destroy(){Ms(this,1),this.$destroy=ut}$on(t,r){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Yi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class al extends Ge{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const Ut=[];function ol(e,t=ut){let r;const n=new Set;function i(o){if(Be(e,o)&&(e=o,r)){const l=!Ut.length;for(const h of n)h[1](),Ut.push(h,e);if(l){for(let h=0;h<Ut.length;h+=2)Ut[h][0](Ut[h+1]);Ut.length=0}}}function s(o){i(o(e))}function a(o,l=ut){const h=[o,l];return n.add(h),n.size===1&&(r=t(i)||ut),o(e),()=>{n.delete(h),n.size===0&&(r(),r=null)}}return{set:i,update:s,subscribe:a}}function ll(e){return nn("",typeof e=="string"?JSON.parse(e):e)}function nn(e,t){var r="";return Object.entries(t).forEach(function(n){var i=n[0],s=n[1];r+=typeof s=="object"?nn(""+sn(e,i),s):"--"+sn(e,i)+": "+s+";"}),r}function sn(e,t){return e?t==="__default"?e:e+"-"+t:t}function hl(e){const t=1.70158*1.525;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}function an(e){const t=e-1;return t*t*t+1}function fl(e,{delay:t=0,duration:r=400,easing:n=Fr}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:s=>`opacity: ${s*i}`}}function cl(e,{delay:t=0,duration:r=400,easing:n=an}={}){const i=getComputedStyle(e),s=+i.opacity,a=parseFloat(i.height),o=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),h=parseFloat(i.marginTop),d=parseFloat(i.marginBottom),c=parseFloat(i.borderTopWidth),p=parseFloat(i.borderBottomWidth);return{delay:t,duration:r,easing:n,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*s};height: ${g*a}px;padding-top: ${g*o}px;padding-bottom: ${g*l}px;margin-top: ${g*h}px;margin-bottom: ${g*d}px;border-top-width: ${g*c}px;border-bottom-width: ${g*p}px;`}}function ul(e,{delay:t=0,duration:r=400,easing:n=an,start:i=0,opacity:s=0}={}){const a=getComputedStyle(e),o=+a.opacity,l=a.transform==="none"?"":a.transform,h=1-i,d=o*(1-s);return{delay:t,duration:r,easing:n,css:(c,p)=>`
			transform: ${l} scale(${1-h*p});
			opacity: ${o-d*p}
		`}}var xt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ue(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var on={exports:{}},de=1;function Ss(){return de=(de*9301+49297)%233280,de/233280}function Ts(e){de=e}var Rs={nextValue:Ss,seed:Ts},He=Rs,Ot="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",At,ln,Qt;function Qe(){Qt=!1}function hn(e){if(!e){At!==Ot&&(At=Ot,Qe());return}if(e!==At){if(e.length!==Ot.length)throw new Error("Custom alphabet for shortid must be "+Ot.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(r,n,i){return n!==i.lastIndexOf(r)});if(t.length)throw new Error("Custom alphabet for shortid must be "+Ot.length+" unique characters. These characters were not unique: "+t.join(", "));At=e,Qe()}}function Os(e){return hn(e),At}function Is(e){He.seed(e),ln!==e&&(Qe(),ln=e)}function Ds(){At||hn(Ot);for(var e=At.split(""),t=[],r=He.nextValue(),n;e.length>0;)r=He.nextValue(),n=Math.floor(r*e.length),t.push(e.splice(n,1)[0]);return t.join("")}function fn(){return Qt||(Qt=Ds(),Qt)}function Ns(e){var t=fn();return t[e]}function Ls(){return At||Ot}var Ke={get:Ls,characters:Os,seed:Is,lookup:Ns,shuffled:fn},Ze=typeof window=="object"&&(window.crypto||window.msCrypto),Je;!Ze||!Ze.getRandomValues?Je=function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(Math.random()*256));return t}:Je=function(e){return Ze.getRandomValues(new Uint8Array(e))};var Cs=Je,Ps=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*r/t.length),s="";;)for(var a=e(i),o=i;o--;)if(s+=t[a[o]&n]||"",s.length===+r)return s},Fs=Ke,zs=Cs,Bs=Ps;function $s(e){for(var t=0,r,n="";!r;)n=n+Bs(zs,Fs.get(),1),r=e<Math.pow(16,t+1),t++;return n}var Us=$s,pe=Us,ks=1567752802062,Ys=7,ve,cn;function Vs(e){var t="",r=Math.floor((Date.now()-ks)*.001);return r===cn?ve++:(ve=0,cn=r),t=t+pe(Ys),t=t+pe(e),ve>0&&(t=t+pe(ve)),t=t+pe(r),t}var qs=Vs,js=Ke;function Xs(e){if(!e||typeof e!="string"||e.length<6)return!1;var t=new RegExp("[^"+js.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!t.test(e)}var Ws=Xs;(function(e){var t=Ke,r=qs,n=Ws,i=0;function s(h){return t.seed(h),e.exports}function a(h){return i=h,e.exports}function o(h){return h!==void 0&&t.characters(h),t.shuffled()}function l(){return r(i)}e.exports=l,e.exports.generate=l,e.exports.seed=s,e.exports.worker=a,e.exports.characters=o,e.exports.isValid=n})(on);var dl=on.exports,Gs={exports:{}};(function(e,t){(function(r,n){n()})(xt,function(){function r(h,d){return typeof d=="undefined"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,d,c){var p=new XMLHttpRequest;p.open("GET",h),p.responseType="blob",p.onload=function(){l(p.response,d,c)},p.onerror=function(){console.error("could not download file")},p.send()}function i(h){var d=new XMLHttpRequest;d.open("HEAD",h,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof xt=="object"&&xt.global===xt?xt:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(h,d,c){var p=a.URL||a.webkitURL,g=document.createElement("a");d=d||h.name||"download",g.download=d,g.rel="noopener",typeof h=="string"?(g.href=h,g.origin===location.origin?s(g):i(g.href)?n(h,d,c):s(g,g.target="_blank")):(g.href=p.createObjectURL(h),setTimeout(function(){p.revokeObjectURL(g.href)},4e4),setTimeout(function(){s(g)},0))}:"msSaveOrOpenBlob"in navigator?function(h,d,c){if(d=d||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(r(h,c),d);else if(i(h))n(h,d,c);else{var p=document.createElement("a");p.href=h,p.target="_blank",setTimeout(function(){s(p)})}}:function(h,d,c,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof h=="string")return n(h,d,c);var g=h.type==="application/octet-stream",b=/constructor/i.test(a.HTMLElement)||a.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||g&&b||o)&&typeof FileReader!="undefined"){var w=new FileReader;w.onloadend=function(){var I=w.result;I=x?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=I:location=I,p=null},w.readAsDataURL(h)}else{var A=a.URL||a.webkitURL,R=A.createObjectURL(h);p?p.location=R:location.href=R,p=null,setTimeout(function(){A.revokeObjectURL(R)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})})(Gs);function un(e){let t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function tr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Hs(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function dn(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function pn(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Qs(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Ks(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function er(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Zs(e,t){let r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function Js(e,t){let r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function vn(e){let t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function ta(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function ea(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function rr(e,t){let r=t[0],n=t[1],i=t[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function gn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mn(e,t,r){let n=t[0],i=t[1],s=t[2],a=r[0],o=r[1],l=r[2];return e[0]=i*l-s*o,e[1]=s*a-n*l,e[2]=n*o-i*a,e}function ra(e,t,r,n){let i=t[0],s=t[1],a=t[2];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=a+n*(r[2]-a),e}function na(e,t,r){let n=t[0],i=t[1],s=t[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,e}function ia(e,t,r){let n=t[0],i=t[1],s=t[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*s)/a,e[1]=(r[1]*n+r[5]*i+r[9]*s)/a,e[2]=(r[2]*n+r[6]*i+r[10]*s)/a,e}function sa(e,t,r){let n=t[0],i=t[1],s=t[2],a=r[0],o=r[1],l=r[2],h=r[3],d=o*s-l*i,c=l*n-a*s,p=a*i-o*n,g=o*p-l*c,b=l*d-a*p,x=a*c-o*d,w=h*2;return d*=w,c*=w,p*=w,g*=2,b*=2,x*=2,e[0]=n+d+g,e[1]=i+c+b,e[2]=s+p+x,e}const aa=function(){const e=[0,0,0],t=[0,0,0];return function(r,n){tr(e,r),tr(t,n),rr(e,e),rr(t,t);let i=gn(e,t);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();function oa(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}class Q extends Array{constructor(t=0,r=t,n=t){super(t,r,n);return this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,r=t,n=t){return t.length?this.copy(t):(Hs(this,t,r,n),this)}copy(t){return tr(this,t),this}add(t,r){return r?dn(this,t,r):dn(this,this,t),this}sub(t,r){return r?pn(this,t,r):pn(this,this,t),this}multiply(t){return t.length?Qs(this,this,t):er(this,this,t),this}divide(t){return t.length?Ks(this,this,t):er(this,this,1/t),this}inverse(t=this){return ea(this,t),this}len(){return un(this)}distance(t){return t?Zs(this,t):un(this)}squaredLen(){return vn(this)}squaredDistance(t){return t?Js(this,t):vn(this)}negate(t=this){return ta(this,t),this}cross(t,r){return r?mn(this,t,r):mn(this,this,t),this}scale(t){return er(this,this,t),this}normalize(){return rr(this,this),this}dot(t){return gn(this,t)}equals(t){return oa(this,t)}applyMatrix4(t){return na(this,this,t),this}scaleRotateMatrix4(t){return ia(this,this,t),this}applyQuaternion(t){return sa(this,this,t),this}angle(t){return aa(this,t)}lerp(t,r){return ra(this,this,t,r),this}clone(){return new Q(this[0],this[1],this[2])}fromArray(t,r=0){return this[0]=t[r],this[1]=t[r+1],this[2]=t[r+2],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t}transformDirection(t){const r=this[0],n=this[1],i=this[2];return this[0]=t[0]*r+t[4]*n+t[8]*i,this[1]=t[1]*r+t[5]*n+t[9]*i,this[2]=t[2]*r+t[6]*n+t[10]*i,this.normalize()}}const yn=new Q;let la=1,ha=1,_n=!1;class bn{constructor(t,r={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=r,this.id=la++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in r)this.addAttribute(n,r[n])}addAttribute(t,r){if(this.attributes[t]=r,r.id=ha++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.buffer||(r.buffer=this.gl.createBuffer(),this.updateAttribute(r)),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else t==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(t){this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),this.gl.bufferData(t.target,t.data,this.gl.STATIC_DRAW),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,r){this.drawRange.start=t,this.drawRange.count=r}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((r,{name:n,type:i})=>{if(!this.attributes[n]){console.warn(`active attribute ${n} not being supplied`);return}const s=this.attributes[n];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let a=1;i===35674&&(a=2),i===35675&&(a=3),i===35676&&(a=4);const o=s.size/a,l=a===1?0:a*a*a,h=a===1?0:a*a;for(let d=0;d<a;d++)this.gl.vertexAttribPointer(r+d,o,s.type,s.normalized,s.stride+l,s.offset+d*h),this.gl.enableVertexAttribArray(r+d),this.gl.renderer.vertexAttribDivisor(r+d,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:r=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((n,{name:i})=>{const s=this.attributes[i];s.needsUpdate&&this.updateAttribute(s)}),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!_n)return console.warn("No position buffer data found to compute bounds"),_n=!0}computeBoundingBox(t){t||(t=this.getPosition());const r=t.data,n=t.stride?t.stride/r.BYTES_PER_ELEMENT:t.size;this.bounds||(this.bounds={min:new Q,max:new Q,center:new Q,scale:new Q,radius:1/0});const i=this.bounds.min,s=this.bounds.max,a=this.bounds.center,o=this.bounds.scale;i.set(1/0),s.set(-1/0);for(let l=0,h=r.length;l<h;l+=n){const d=r[l],c=r[l+1],p=r[l+2];i.x=Math.min(d,i.x),i.y=Math.min(c,i.y),i.z=Math.min(p,i.z),s.x=Math.max(d,s.x),s.y=Math.max(c,s.y),s.z=Math.max(p,s.z)}o.sub(s,i),a.add(i,s).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const r=t.data,n=t.stride?t.stride/r.BYTES_PER_ELEMENT:t.size;this.bounds||this.computeBoundingBox(t);let i=0;for(let s=0,a=r.length;s<a;s+=n)yn.fromArray(r,s),i=Math.max(i,this.bounds.center.squaredDistance(yn));this.bounds.radius=Math.sqrt(i)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let fa=1;const wn={};class pl{constructor(t,{vertex:r,fragment:n,uniforms:i={},transparent:s=!1,cullFace:a=t.BACK,frontFace:o=t.CCW,depthTest:l=!0,depthWrite:h=!0,depthFunc:d=t.LESS}={}){t.canvas||console.error("gl not passed as fist argument to Program"),this.gl=t,this.uniforms=i,this.id=fa++,r||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=a,this.frontFace=o,this.depthTest=l,this.depthWrite=h,this.depthFunc=d,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const c=t.createShader(t.VERTEX_SHADER);t.shaderSource(c,r),t.compileShader(c),t.getShaderInfoLog(c)!==""&&console.warn(`${t.getShaderInfoLog(c)}
Vertex Shader
${xn(r)}`);const p=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(p,n),t.compileShader(p),t.getShaderInfoLog(p)!==""&&console.warn(`${t.getShaderInfoLog(p)}
Fragment Shader
${xn(n)}`),this.program=t.createProgram(),t.attachShader(this.program,c),t.attachShader(this.program,p),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))return console.warn(t.getProgramInfoLog(this.program));t.deleteShader(c),t.deleteShader(p),this.uniformLocations=new Map;let g=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);for(let w=0;w<g;w++){let A=t.getActiveUniform(this.program,w);this.uniformLocations.set(A,t.getUniformLocation(this.program,A.name));const R=A.name.match(/(\w+)/g);A.uniformName=R[0],R.length===3?(A.isStructArray=!0,A.structIndex=Number(R[1]),A.structProperty=R[2]):R.length===2&&isNaN(Number(R[1]))&&(A.isStruct=!0,A.structProperty=R[1])}this.attributeLocations=new Map;const b=[],x=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);for(let w=0;w<x;w++){const A=t.getActiveAttrib(this.program,w),R=t.getAttribLocation(this.program,A.name);b[R]=A.name,this.attributeLocations.set(A,R)}this.attributeOrder=b.join("")}setBlendFunc(t,r,n,i){this.blendFunc.src=t,this.blendFunc.dst=r,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=i,t&&(this.transparent=!0)}setBlendEquation(t,r){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let r=-1;this.gl.renderer.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.currentProgram=this.id),this.uniformLocations.forEach((i,s)=>{let a=s.uniformName,o=this.uniforms[a];if(s.isStruct&&(o=o[s.structProperty],a+=`.${s.structProperty}`),s.isStructArray&&(o=o[s.structIndex][s.structProperty],a+=`[${s.structIndex}].${s.structProperty}`),!o)return En(`Active uniform ${a} has not been supplied`);if(o&&o.value===void 0)return En(`${a} uniform is missing a value parameter`);if(o.value.texture)return r=r+1,o.value.update(r),nr(this.gl,s.type,i,r);if(o.value.length&&o.value[0].texture){const l=[];return o.value.forEach(h=>{r=r+1,h.update(r),l.push(r)}),nr(this.gl,s.type,i,l)}nr(this.gl,s.type,i,o.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function nr(e,t,r,n){n=n.length?ca(n):n;const i=e.renderer.state.uniformLocations.get(r);if(n.length)if(i===void 0||i.length!==n.length)e.renderer.state.uniformLocations.set(r,n.slice(0));else{if(ua(i,n))return;i.set?i.set(n):da(i,n),e.renderer.state.uniformLocations.set(r,i)}else{if(i===n)return;e.renderer.state.uniformLocations.set(r,n)}switch(t){case 5126:return n.length?e.uniform1fv(r,n):e.uniform1f(r,n);case 35664:return e.uniform2fv(r,n);case 35665:return e.uniform3fv(r,n);case 35666:return e.uniform4fv(r,n);case 35670:case 5124:case 35678:case 35680:return n.length?e.uniform1iv(r,n):e.uniform1i(r,n);case 35671:case 35667:return e.uniform2iv(r,n);case 35672:case 35668:return e.uniform3iv(r,n);case 35673:case 35669:return e.uniform4iv(r,n);case 35674:return e.uniformMatrix2fv(r,!1,n);case 35675:return e.uniformMatrix3fv(r,!1,n);case 35676:return e.uniformMatrix4fv(r,!1,n)}}function xn(e){let t=e.split(`
`);for(let r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join(`
`)}function ca(e){const t=e.length,r=e[0].length;if(r===void 0)return e;const n=t*r;let i=wn[n];i||(wn[n]=i=new Float32Array(n));for(let s=0;s<t;s++)i.set(e[s],s*r);return i}function ua(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function da(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t[r]}let ir=0;function En(e){ir>100||(console.warn(e),ir++,ir>100&&console.warn("More than 100 program warnings - stopping logs."))}const sr=new Q;let pa=1;class vl{constructor({canvas:t=document.createElement("canvas"),width:r=300,height:n=150,dpr:i=1,alpha:s=!1,depth:a=!0,stencil:o=!1,antialias:l=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:d=!1,powerPreference:c="default",autoClear:p=!0,webgl:g=2}={}){const b={alpha:s,depth:a,stencil:o,antialias:l,premultipliedAlpha:h,preserveDrawingBuffer:d,powerPreference:c};this.dpr=i,this.alpha=s,this.color=!0,this.depth=a,this.stencil=o,this.premultipliedAlpha=h,this.autoClear=p,this.id=pa++,g===2&&(this.gl=t.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,r){this.width=t,this.height=r,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=r*this.dpr,Object.assign(this.gl.canvas.style,{width:t+"px",height:r+"px"})}setViewport(t,r,n=0,i=0){this.state.viewport.width===t&&this.state.viewport.height===r||(this.state.viewport.width=t,this.state.viewport.height=r,this.state.viewport.x=n,this.state.viewport.y=i,this.gl.viewport(n,i,t,r))}setScissor(t,r,n=0,i=0){this.gl.scissor(n,i,t,r)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,r,n,i){this.state.blendFunc.src===t&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=t,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=i,n!==void 0?this.gl.blendFuncSeparate(t,r,n,i):this.gl.blendFunc(t,r))}setBlendEquation(t,r){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(t,r):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(t,r))}getExtension(t,r,n){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),r?this.extensions[t]?this.extensions[t][n].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.program.id!==r.program.id?t.program.id-r.program.id:t.zDepth!==r.zDepth?t.zDepth-r.zDepth:r.id-t.id}sortTransparent(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.zDepth!==r.zDepth?r.zDepth-t.zDepth:r.id-t.id}sortUI(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.program.id!==r.program.id?t.program.id-r.program.id:r.id-t.id}getRenderList({scene:t,camera:r,frustumCull:n,sort:i}){let s=[];if(r&&n&&r.updateFrustum(),t.traverse(a=>{if(!a.visible)return!0;!a.draw||n&&a.frustumCulled&&r&&!r.frustumIntersectsMesh(a)||s.push(a)}),i){const a=[],o=[],l=[];s.forEach(h=>{h.program.transparent?h.program.depthTest?o.push(h):l.push(h):a.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!r)&&(h.worldMatrix.getTranslation(sr),sr.applyMatrix4(r.projectionViewMatrix),h.zDepth=sr.z)}),a.sort(this.sortOpaque),o.sort(this.sortTransparent),l.sort(this.sortUI),s=a.concat(o,l)}return s}render({scene:t,camera:r,target:n=null,update:i=!0,sort:s=!0,frustumCull:a=!0,clear:o}){n===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(o||this.autoClear&&o!==!1)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&t.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:t,camera:r,frustumCull:a,sort:s}).forEach(h=>{h.draw({camera:r})})}}function va(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function ga(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function ma(e,t){let r=t[0],n=t[1],i=t[2],s=t[3],a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=s*a,e}function ya(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function _a(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function ba(e,t,r){r=r*.5;let n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function Mn(e,t,r){let n=t[0],i=t[1],s=t[2],a=t[3],o=r[0],l=r[1],h=r[2],d=r[3];return e[0]=n*d+a*o+i*h-s*l,e[1]=i*d+a*l+s*o-n*h,e[2]=s*d+a*h+n*l-i*o,e[3]=a*d-n*o-i*l-s*h,e}function wa(e,t,r){r*=.5;let n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*o,e[1]=i*l+s*o,e[2]=s*l-i*o,e[3]=a*l-n*o,e}function xa(e,t,r){r*=.5;let n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),l=Math.cos(r);return e[0]=n*l-s*o,e[1]=i*l+a*o,e[2]=s*l+n*o,e[3]=a*l-i*o,e}function Ea(e,t,r){r*=.5;let n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*o,e[1]=i*l-n*o,e[2]=s*l+a*o,e[3]=a*l-s*o,e}function Ma(e,t,r,n){let i=t[0],s=t[1],a=t[2],o=t[3],l=r[0],h=r[1],d=r[2],c=r[3],p,g,b,x,w;return g=i*l+s*h+a*d+o*c,g<0&&(g=-g,l=-l,h=-h,d=-d,c=-c),1-g>1e-6?(p=Math.acos(g),b=Math.sin(p),x=Math.sin((1-n)*p)/b,w=Math.sin(n*p)/b):(x=1-n,w=n),e[0]=x*i+w*l,e[1]=x*s+w*h,e[2]=x*a+w*d,e[3]=x*o+w*c,e}function Aa(e,t){let r=t[0],n=t[1],i=t[2],s=t[3],a=r*r+n*n+i*i+s*s,o=a?1/a:0;return e[0]=-r*o,e[1]=-n*o,e[2]=-i*o,e[3]=s*o,e}function Sa(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Ta(e,t){let r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{let i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);let s=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[i*3+i]-t[s*3+s]-t[a*3+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[s*3+a]-t[a*3+s])*n,e[s]=(t[s*3+i]+t[i*3+s])*n,e[a]=(t[a*3+i]+t[i*3+a])*n}return e}function Ra(e,t,r="YXZ"){let n=Math.sin(t[0]*.5),i=Math.cos(t[0]*.5),s=Math.sin(t[1]*.5),a=Math.cos(t[1]*.5),o=Math.sin(t[2]*.5),l=Math.cos(t[2]*.5);return r==="XYZ"?(e[0]=n*a*l+i*s*o,e[1]=i*s*l-n*a*o,e[2]=i*a*o+n*s*l,e[3]=i*a*l-n*s*o):r==="YXZ"?(e[0]=n*a*l+i*s*o,e[1]=i*s*l-n*a*o,e[2]=i*a*o-n*s*l,e[3]=i*a*l+n*s*o):r==="ZXY"?(e[0]=n*a*l-i*s*o,e[1]=i*s*l+n*a*o,e[2]=i*a*o+n*s*l,e[3]=i*a*l-n*s*o):r==="ZYX"?(e[0]=n*a*l-i*s*o,e[1]=i*s*l+n*a*o,e[2]=i*a*o-n*s*l,e[3]=i*a*l+n*s*o):r==="YZX"?(e[0]=n*a*l+i*s*o,e[1]=i*s*l+n*a*o,e[2]=i*a*o-n*s*l,e[3]=i*a*l-n*s*o):r==="XZY"&&(e[0]=n*a*l-i*s*o,e[1]=i*s*l-n*a*o,e[2]=i*a*o+n*s*l,e[3]=i*a*l+n*s*o),e}const Oa=va,Ia=ga,Da=ya,Na=ma;class La extends Array{constructor(t=0,r=0,n=0,i=1){super(t,r,n,i);return this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set w(t){this[3]=t,this.onChange()}identity(){return _a(this),this.onChange(),this}set(t,r,n,i){return t.length?this.copy(t):(Ia(this,t,r,n,i),this.onChange(),this)}rotateX(t){return wa(this,this,t),this.onChange(),this}rotateY(t){return xa(this,this,t),this.onChange(),this}rotateZ(t){return Ea(this,this,t),this.onChange(),this}inverse(t=this){return Aa(this,t),this.onChange(),this}conjugate(t=this){return Sa(this,t),this.onChange(),this}copy(t){return Oa(this,t),this.onChange(),this}normalize(t=this){return Na(this,t),this.onChange(),this}multiply(t,r){return r?Mn(this,t,r):Mn(this,this,t),this.onChange(),this}dot(t){return Da(this,t)}fromMatrix3(t){return Ta(this,t),this.onChange(),this}fromEuler(t){return Ra(this,t,t.order),this}fromAxisAngle(t,r){return ba(this,t,r),this}slerp(t,r){return Ma(this,this,t,r),this}fromArray(t,r=0){return this[0]=t[r],this[1]=t[r+1],this[2]=t[r+2],this[3]=t[r+3],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t[r+3]=this[3],t}}const Ca=1e-6;function Pa(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Fa(e,t,r,n,i,s,a,o,l,h,d,c,p,g,b,x,w){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=h,e[9]=d,e[10]=c,e[11]=p,e[12]=g,e[13]=b,e[14]=x,e[15]=w,e}function za(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ba(e,t){let r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],h=t[7],d=t[8],c=t[9],p=t[10],g=t[11],b=t[12],x=t[13],w=t[14],A=t[15],R=r*o-n*a,I=r*l-i*a,L=r*h-s*a,E=n*l-i*o,M=n*h-s*o,T=i*h-s*l,P=d*x-c*b,F=d*w-p*b,Y=d*A-g*b,V=c*w-p*x,$=c*A-g*x,k=p*A-g*w,B=R*k-I*$+L*V+E*Y-M*F+T*P;return B?(B=1/B,e[0]=(o*k-l*$+h*V)*B,e[1]=(i*$-n*k-s*V)*B,e[2]=(x*T-w*M+A*E)*B,e[3]=(p*M-c*T-g*E)*B,e[4]=(l*Y-a*k-h*F)*B,e[5]=(r*k-i*Y+s*F)*B,e[6]=(w*L-b*T-A*I)*B,e[7]=(d*T-p*L+g*I)*B,e[8]=(a*$-o*Y+h*P)*B,e[9]=(n*Y-r*$-s*P)*B,e[10]=(b*M-x*L+A*R)*B,e[11]=(c*L-d*M-g*R)*B,e[12]=(o*F-a*V-l*P)*B,e[13]=(r*V-n*F+i*P)*B,e[14]=(x*I-b*E-w*R)*B,e[15]=(d*E-c*I+p*R)*B,e):null}function $a(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],h=e[8],d=e[9],c=e[10],p=e[11],g=e[12],b=e[13],x=e[14],w=e[15],A=t*a-r*s,R=t*o-n*s,I=t*l-i*s,L=r*o-n*a,E=r*l-i*a,M=n*l-i*o,T=h*b-d*g,P=h*x-c*g,F=h*w-p*g,Y=d*x-c*b,V=d*w-p*b,$=c*w-p*x;return A*$-R*V+I*Y+L*F-E*P+M*T}function An(e,t,r){let n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],h=t[6],d=t[7],c=t[8],p=t[9],g=t[10],b=t[11],x=t[12],w=t[13],A=t[14],R=t[15],I=r[0],L=r[1],E=r[2],M=r[3];return e[0]=I*n+L*o+E*c+M*x,e[1]=I*i+L*l+E*p+M*w,e[2]=I*s+L*h+E*g+M*A,e[3]=I*a+L*d+E*b+M*R,I=r[4],L=r[5],E=r[6],M=r[7],e[4]=I*n+L*o+E*c+M*x,e[5]=I*i+L*l+E*p+M*w,e[6]=I*s+L*h+E*g+M*A,e[7]=I*a+L*d+E*b+M*R,I=r[8],L=r[9],E=r[10],M=r[11],e[8]=I*n+L*o+E*c+M*x,e[9]=I*i+L*l+E*p+M*w,e[10]=I*s+L*h+E*g+M*A,e[11]=I*a+L*d+E*b+M*R,I=r[12],L=r[13],E=r[14],M=r[15],e[12]=I*n+L*o+E*c+M*x,e[13]=I*i+L*l+E*p+M*w,e[14]=I*s+L*h+E*g+M*A,e[15]=I*a+L*d+E*b+M*R,e}function Ua(e,t,r){let n=r[0],i=r[1],s=r[2],a,o,l,h,d,c,p,g,b,x,w,A;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*s+t[12],e[13]=t[1]*n+t[5]*i+t[9]*s+t[13],e[14]=t[2]*n+t[6]*i+t[10]*s+t[14],e[15]=t[3]*n+t[7]*i+t[11]*s+t[15]):(a=t[0],o=t[1],l=t[2],h=t[3],d=t[4],c=t[5],p=t[6],g=t[7],b=t[8],x=t[9],w=t[10],A=t[11],e[0]=a,e[1]=o,e[2]=l,e[3]=h,e[4]=d,e[5]=c,e[6]=p,e[7]=g,e[8]=b,e[9]=x,e[10]=w,e[11]=A,e[12]=a*n+d*i+b*s+t[12],e[13]=o*n+c*i+x*s+t[13],e[14]=l*n+p*i+w*s+t[14],e[15]=h*n+g*i+A*s+t[15]),e}function ka(e,t,r){let n=r[0],i=r[1],s=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ya(e,t,r,n){let i=n[0],s=n[1],a=n[2],o=Math.hypot(i,s,a),l,h,d,c,p,g,b,x,w,A,R,I,L,E,M,T,P,F,Y,V,$,k,B,X;return Math.abs(o)<Ca?null:(o=1/o,i*=o,s*=o,a*=o,l=Math.sin(r),h=Math.cos(r),d=1-h,c=t[0],p=t[1],g=t[2],b=t[3],x=t[4],w=t[5],A=t[6],R=t[7],I=t[8],L=t[9],E=t[10],M=t[11],T=i*i*d+h,P=s*i*d+a*l,F=a*i*d-s*l,Y=i*s*d-a*l,V=s*s*d+h,$=a*s*d+i*l,k=i*a*d+s*l,B=s*a*d-i*l,X=a*a*d+h,e[0]=c*T+x*P+I*F,e[1]=p*T+w*P+L*F,e[2]=g*T+A*P+E*F,e[3]=b*T+R*P+M*F,e[4]=c*Y+x*V+I*$,e[5]=p*Y+w*V+L*$,e[6]=g*Y+A*V+E*$,e[7]=b*Y+R*V+M*$,e[8]=c*k+x*B+I*X,e[9]=p*k+w*B+L*X,e[10]=g*k+A*B+E*X,e[11]=b*k+R*B+M*X,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Va(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Sn(e,t){let r=t[0],n=t[1],i=t[2],s=t[4],a=t[5],o=t[6],l=t[8],h=t[9],d=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(s,a,o),e[2]=Math.hypot(l,h,d),e}function qa(e){let t=e[0],r=e[1],n=e[2],i=e[4],s=e[5],a=e[6],o=e[8],l=e[9],h=e[10];const d=t*t+r*r+n*n,c=i*i+s*s+a*a,p=o*o+l*l+h*h;return Math.sqrt(Math.max(d,c,p))}const ja=function(){const e=[0,0,0];return function(t,r){let n=e;Sn(n,r);let i=1/n[0],s=1/n[1],a=1/n[2],o=r[0]*i,l=r[1]*s,h=r[2]*a,d=r[4]*i,c=r[5]*s,p=r[6]*a,g=r[8]*i,b=r[9]*s,x=r[10]*a,w=o+c+x,A=0;return w>0?(A=Math.sqrt(w+1)*2,t[3]=.25*A,t[0]=(p-b)/A,t[1]=(g-h)/A,t[2]=(l-d)/A):o>c&&o>x?(A=Math.sqrt(1+o-c-x)*2,t[3]=(p-b)/A,t[0]=.25*A,t[1]=(l+d)/A,t[2]=(g+h)/A):c>x?(A=Math.sqrt(1+c-o-x)*2,t[3]=(g-h)/A,t[0]=(l+d)/A,t[1]=.25*A,t[2]=(p+b)/A):(A=Math.sqrt(1+x-o-c)*2,t[3]=(l-d)/A,t[0]=(g+h)/A,t[1]=(p+b)/A,t[2]=.25*A),t}}();function Xa(e,t,r,n){let i=t[0],s=t[1],a=t[2],o=t[3],l=i+i,h=s+s,d=a+a,c=i*l,p=i*h,g=i*d,b=s*h,x=s*d,w=a*d,A=o*l,R=o*h,I=o*d,L=n[0],E=n[1],M=n[2];return e[0]=(1-(b+w))*L,e[1]=(p+I)*L,e[2]=(g-R)*L,e[3]=0,e[4]=(p-I)*E,e[5]=(1-(c+w))*E,e[6]=(x+A)*E,e[7]=0,e[8]=(g+R)*M,e[9]=(x-A)*M,e[10]=(1-(c+b))*M,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Wa(e,t){let r=t[0],n=t[1],i=t[2],s=t[3],a=r+r,o=n+n,l=i+i,h=r*a,d=n*a,c=n*o,p=i*a,g=i*o,b=i*l,x=s*a,w=s*o,A=s*l;return e[0]=1-c-b,e[1]=d+A,e[2]=p-w,e[3]=0,e[4]=d-A,e[5]=1-h-b,e[6]=g+x,e[7]=0,e[8]=p+w,e[9]=g-x,e[10]=1-h-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ga(e,t,r,n,i){let s=1/Math.tan(t/2),a=1/(n-i);return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+n)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*n*a,e[15]=0,e}function Ha(e,t,r,n,i,s,a){let o=1/(t-r),l=1/(n-i),h=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*h,e[11]=0,e[12]=(t+r)*o,e[13]=(i+n)*l,e[14]=(a+s)*h,e[15]=1,e}function Qa(e,t,r,n){let i=t[0],s=t[1],a=t[2],o=n[0],l=n[1],h=n[2],d=i-r[0],c=s-r[1],p=a-r[2],g=d*d+c*c+p*p;g===0?p=1:(g=1/Math.sqrt(g),d*=g,c*=g,p*=g);let b=l*p-h*c,x=h*d-o*p,w=o*c-l*d;return g=b*b+x*x+w*w,g===0&&(h?o+=1e-6:l?h+=1e-6:l+=1e-6,b=l*p-h*c,x=h*d-o*p,w=o*c-l*d,g=b*b+x*x+w*w),g=1/Math.sqrt(g),b*=g,x*=g,w*=g,e[0]=b,e[1]=x,e[2]=w,e[3]=0,e[4]=c*w-p*x,e[5]=p*b-d*w,e[6]=d*x-c*b,e[7]=0,e[8]=d,e[9]=c,e[10]=p,e[11]=0,e[12]=i,e[13]=s,e[14]=a,e[15]=1,e}class St extends Array{constructor(t=1,r=0,n=0,i=0,s=0,a=1,o=0,l=0,h=0,d=0,c=1,p=0,g=0,b=0,x=0,w=1){super(t,r,n,i,s,a,o,l,h,d,c,p,g,b,x,w);return this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,r,n,i,s,a,o,l,h,d,c,p,g,b,x,w){return t.length?this.copy(t):(Fa(this,t,r,n,i,s,a,o,l,h,d,c,p,g,b,x,w),this)}translate(t,r=this){return Ua(this,r,t),this}rotate(t,r,n=this){return Ya(this,n,t,r),this}scale(t,r=this){return ka(this,r,typeof t=="number"?[t,t,t]:t),this}multiply(t,r){return r?An(this,t,r):An(this,this,t),this}identity(){return za(this),this}copy(t){return Pa(this,t),this}fromPerspective({fov:t,aspect:r,near:n,far:i}={}){return Ga(this,t,r,n,i),this}fromOrthogonal({left:t,right:r,bottom:n,top:i,near:s,far:a}){return Ha(this,t,r,n,i,s,a),this}fromQuaternion(t){return Wa(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return Ba(this,t),this}compose(t,r,n){return Xa(this,t,r,n),this}getRotation(t){return ja(t,this),this}getTranslation(t){return Va(t,this),this}getScaling(t){return Sn(t,this),this}getMaxScaleOnAxis(){return qa(this)}lookAt(t,r,n){return Qa(this,t,r,n),this}determinant(){return $a(this)}fromArray(t,r=0){return this[0]=t[r],this[1]=t[r+1],this[2]=t[r+2],this[3]=t[r+3],this[4]=t[r+4],this[5]=t[r+5],this[6]=t[r+6],this[7]=t[r+7],this[8]=t[r+8],this[9]=t[r+9],this[10]=t[r+10],this[11]=t[r+11],this[12]=t[r+12],this[13]=t[r+13],this[14]=t[r+14],this[15]=t[r+15],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t[r+3]=this[3],t[r+4]=this[4],t[r+5]=this[5],t[r+6]=this[6],t[r+7]=this[7],t[r+8]=this[8],t[r+9]=this[9],t[r+10]=this[10],t[r+11]=this[11],t[r+12]=this[12],t[r+13]=this[13],t[r+14]=this[14],t[r+15]=this[15],t}}function Ka(e,t,r="YXZ"){return r==="XYZ"?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):r==="YXZ"?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):r==="ZXY"?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):r==="ZYX"?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):r==="YZX"?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):r==="XZY"&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0)),e}const Tn=new St;class Za extends Array{constructor(t=0,r=t,n=t,i="YXZ"){super(t,r,n);return this.order=i,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set(t,r=t,n=t){return t.length?this.copy(t):(this[0]=t,this[1]=r,this[2]=n,this.onChange(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}reorder(t){return this.order=t,this.onChange(),this}fromRotationMatrix(t,r=this.order){return Ka(this,t,r),this}fromQuaternion(t,r=this.order){return Tn.fromQuaternion(t),this.fromRotationMatrix(Tn,r)}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t}}class Rn{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new St,this.worldMatrix=new St,this.matrixAutoUpdate=!0,this.position=new Q,this.quaternion=new La,this.scale=new Q(1),this.rotation=new Za,this.up=new Q(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t,r=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,r&&t&&t.addChild(this,!1)}addChild(t,r=!0){~this.children.indexOf(t)||this.children.push(t),r&&t.setParent(this,!1)}removeChild(t,r=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),r&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let r=0,n=this.children.length;r<n;r++)this.children[r].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let r=0,n=this.children.length;r<n;r++)this.children[r].traverse(t)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,r=!1){r?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}const Ja=new St,to=new Q,eo=new Q;class gl extends Rn{constructor(t,{near:r=.1,far:n=100,fov:i=45,aspect:s=1,left:a,right:o,bottom:l,top:h,zoom:d=1}={}){super();Object.assign(this,{near:r,far:n,fov:i,aspect:s,left:a,right:o,bottom:l,top:h,zoom:d}),this.projectionMatrix=new St,this.viewMatrix=new St,this.projectionViewMatrix=new St,this.worldPosition=new Q,this.type=a||o?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:t=this.near,far:r=this.far,fov:n=this.fov,aspect:i=this.aspect}={}){return Object.assign(this,{near:t,far:r,fov:n,aspect:i}),this.projectionMatrix.fromPerspective({fov:n*(Math.PI/180),aspect:i,near:t,far:r}),this.type="perspective",this}orthographic({near:t=this.near,far:r=this.far,left:n=this.left,right:i=this.right,bottom:s=this.bottom,top:a=this.top,zoom:o=this.zoom}={}){return Object.assign(this,{near:t,far:r,left:n,right:i,bottom:s,top:a,zoom:o}),n/=o,i/=o,s/=o,a/=o,this.projectionMatrix.fromOrthogonal({left:n,right:i,bottom:s,top:a,near:t,far:r}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(Ja.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new Q,new Q,new Q,new Q,new Q,new Q]);const t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let r=0;r<6;r++){const n=1/this.frustum[r].distance();this.frustum[r].multiply(n),this.frustum[r].constant*=n}}frustumIntersectsMesh(t){if(!t.geometry.attributes.position||((!t.geometry.bounds||t.geometry.bounds.radius===1/0)&&t.geometry.computeBoundingSphere(),!t.geometry.bounds))return!0;const r=to;r.copy(t.geometry.bounds.center),r.applyMatrix4(t.worldMatrix);const n=t.geometry.bounds.radius*t.worldMatrix.getMaxScaleOnAxis();return this.frustumIntersectsSphere(r,n)}frustumIntersectsSphere(t,r){const n=eo;for(let i=0;i<6;i++){const s=this.frustum[i];if(n.copy(s).dot(t)+s.constant<-r)return!1}return!0}}function ro(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function no(e,t){let r=t[0],n=t[1],i=t[2],s=t[3],a=r+r,o=n+n,l=i+i,h=r*a,d=n*a,c=n*o,p=i*a,g=i*o,b=i*l,x=s*a,w=s*o,A=s*l;return e[0]=1-c-b,e[3]=d-A,e[6]=p+w,e[1]=d+A,e[4]=1-h-b,e[7]=g-x,e[2]=p-w,e[5]=g+x,e[8]=1-h-c,e}function io(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function so(e,t,r,n,i,s,a,o,l,h){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=h,e}function ao(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function oo(e,t){let r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],h=t[7],d=t[8],c=d*a-o*h,p=-d*s+o*l,g=h*s-a*l,b=r*c+n*p+i*g;return b?(b=1/b,e[0]=c*b,e[1]=(-d*n+i*h)*b,e[2]=(o*n-i*a)*b,e[3]=p*b,e[4]=(d*r-i*l)*b,e[5]=(-o*r+i*s)*b,e[6]=g*b,e[7]=(-h*r+n*l)*b,e[8]=(a*r-n*s)*b,e):null}function On(e,t,r){let n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],h=t[6],d=t[7],c=t[8],p=r[0],g=r[1],b=r[2],x=r[3],w=r[4],A=r[5],R=r[6],I=r[7],L=r[8];return e[0]=p*n+g*a+b*h,e[1]=p*i+g*o+b*d,e[2]=p*s+g*l+b*c,e[3]=x*n+w*a+A*h,e[4]=x*i+w*o+A*d,e[5]=x*s+w*l+A*c,e[6]=R*n+I*a+L*h,e[7]=R*i+I*o+L*d,e[8]=R*s+I*l+L*c,e}function lo(e,t,r){let n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],h=t[6],d=t[7],c=t[8],p=r[0],g=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e[6]=p*n+g*a+h,e[7]=p*i+g*o+d,e[8]=p*s+g*l+c,e}function ho(e,t,r){let n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],h=t[6],d=t[7],c=t[8],p=Math.sin(r),g=Math.cos(r);return e[0]=g*n+p*a,e[1]=g*i+p*o,e[2]=g*s+p*l,e[3]=g*a-p*n,e[4]=g*o-p*i,e[5]=g*l-p*s,e[6]=h,e[7]=d,e[8]=c,e}function fo(e,t,r){let n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function co(e,t){let r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],h=t[7],d=t[8],c=t[9],p=t[10],g=t[11],b=t[12],x=t[13],w=t[14],A=t[15],R=r*o-n*a,I=r*l-i*a,L=r*h-s*a,E=n*l-i*o,M=n*h-s*o,T=i*h-s*l,P=d*x-c*b,F=d*w-p*b,Y=d*A-g*b,V=c*w-p*x,$=c*A-g*x,k=p*A-g*w,B=R*k-I*$+L*V+E*Y-M*F+T*P;return B?(B=1/B,e[0]=(o*k-l*$+h*V)*B,e[1]=(l*Y-a*k-h*F)*B,e[2]=(a*$-o*Y+h*P)*B,e[3]=(i*$-n*k-s*V)*B,e[4]=(r*k-i*Y+s*F)*B,e[5]=(n*Y-r*$-s*P)*B,e[6]=(x*T-w*M+A*E)*B,e[7]=(w*L-b*T-A*I)*B,e[8]=(b*M-x*L+A*R)*B,e):null}class uo extends Array{constructor(t=1,r=0,n=0,i=0,s=1,a=0,o=0,l=0,h=1){super(t,r,n,i,s,a,o,l,h);return this}set(t,r,n,i,s,a,o,l,h){return t.length?this.copy(t):(so(this,t,r,n,i,s,a,o,l,h),this)}translate(t,r=this){return lo(this,r,t),this}rotate(t,r=this){return ho(this,r,t),this}scale(t,r=this){return fo(this,r,t),this}multiply(t,r){return r?On(this,t,r):On(this,this,t),this}identity(){return ao(this),this}copy(t){return io(this,t),this}fromMatrix4(t){return ro(this,t),this}fromQuaternion(t){return no(this,t),this}fromBasis(t,r,n){return this.set(t[0],t[1],t[2],r[0],r[1],r[2],n[0],n[1],n[2]),this}inverse(t=this){return oo(this,t),this}getNormalMatrix(t){return co(this,t),this}}let po=0;class ml extends Rn{constructor(t,{geometry:r,program:n,mode:i=t.TRIANGLES,frustumCulled:s=!0,renderOrder:a=0}={}){super();t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=po++,this.geometry=r,this.program=n,this.mode=i,this.frustumCulled=s,this.renderOrder=a,this.modelViewMatrix=new St,this.normalMatrix=new uo,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){this.beforeRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:t})),t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:t}))}}const In=new Uint8Array(4);function Dn(e){return(e&e-1)==0}let vo=1;class yl{constructor(t,{image:r,target:n=t.TEXTURE_2D,type:i=t.UNSIGNED_BYTE,format:s=t.RGBA,internalFormat:a=s,wrapS:o=t.CLAMP_TO_EDGE,wrapT:l=t.CLAMP_TO_EDGE,generateMipmaps:h=!0,minFilter:d=h?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:c=t.LINEAR,premultiplyAlpha:p=!1,unpackAlignment:g=4,flipY:b=n==t.TEXTURE_2D,anisotropy:x=0,level:w=0,width:A,height:R=A}={}){this.gl=t,this.id=vo++,this.image=r,this.target=n,this.type=i,this.format=s,this.internalFormat=a,this.minFilter=d,this.magFilter=c,this.wrapS=o,this.wrapT=l,this.generateMipmaps=h,this.premultiplyAlpha=p,this.unpackAlignment=g,this.flipY=b,this.anisotropy=Math.min(x,this.gl.renderer.parameters.maxAnisotropy),this.level=w,this.width=A,this.height=R,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){const r=!(this.image===this.store.image&&!this.needsUpdate);if((r||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),!!r){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,this.level,this.internalFormat,this.format,this.type,this.image[n]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let n=0;n<this.image.length;n++)this.gl.compressedTexImage2D(this.target,n,this.internalFormat,this.image[n].width,this.image[n].height,0,this.image[n].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!Dn(this.image.width)||!Dn(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,In);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,In);this.store.image=this.image}}}const Nn={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function Ln(e){e.length===4&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn(`Unable to convert hex string ${e} to rgb values`),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function go(e){return e=parseInt(e),[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255]}function Cn(e){return e===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(e)?e[0]==="#"?Ln(e):Nn[e.toLowerCase()]?Ln(Nn[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):go(e)}class _l extends Array{constructor(t){return Array.isArray(t)?super(...t):super(...Cn(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(Cn(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}function mo(e,t){return e[0]=t[0],e[1]=t[1],e}function yo(e,t,r){return e[0]=t,e[1]=r,e}function Pn(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function Fn(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function _o(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function bo(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function ar(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function wo(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function xo(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function zn(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function Eo(e){var t=e[0],r=e[1];return t*t+r*r}function Mo(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Ao(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function So(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function To(e,t){return e[0]*t[0]+e[1]*t[1]}function Bn(e,t){return e[0]*t[1]-e[1]*t[0]}function Ro(e,t,r,n){var i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function Oo(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function Io(e,t,r){let n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function Do(e,t){return e[0]===t[0]&&e[1]===t[1]}class It extends Array{constructor(t=0,r=t){super(t,r);return this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,r=t){return t.length?this.copy(t):(yo(this,t,r),this)}copy(t){return mo(this,t),this}add(t,r){return r?Pn(this,t,r):Pn(this,this,t),this}sub(t,r){return r?Fn(this,t,r):Fn(this,this,t),this}multiply(t){return t.length?_o(this,this,t):ar(this,this,t),this}divide(t){return t.length?bo(this,this,t):ar(this,this,1/t),this}inverse(t=this){return Ao(this,t),this}len(){return zn(this)}distance(t){return t?wo(this,t):zn(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?xo(this,t):Eo(this)}negate(t=this){return Mo(this,t),this}cross(t,r){return r?Bn(t,r):Bn(this,t)}scale(t){return ar(this,this,t),this}normalize(){return So(this,this),this}dot(t){return To(this,t)}equals(t){return Do(this,t)}applyMatrix3(t){return Oo(this,this,t),this}applyMatrix4(t){return Io(this,this,t),this}lerp(t,r){return Ro(this,this,t,r),this}clone(){return new It(this[0],this[1])}fromArray(t,r=0){return this[0]=t[r],this[1]=t[r+1],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t}}class Tt extends bn{constructor(t,{width:r=1,height:n=1,widthSegments:i=1,heightSegments:s=1,attributes:a={}}={}){const o=i,l=s,h=(o+1)*(l+1),d=o*l*6,c=new Float32Array(h*3),p=new Float32Array(h*3),g=new Float32Array(h*2),b=d>65536?new Uint32Array(d):new Uint16Array(d);Tt.buildPlane(c,p,g,b,r,n,0,o,l),Object.assign(a,{position:{size:3,data:c},normal:{size:3,data:p},uv:{size:2,data:g},index:{data:b}});super(t,a)}static buildPlane(t,r,n,i,s,a,o,l,h,d=0,c=1,p=2,g=1,b=-1,x=0,w=0){const A=x,R=s/l,I=a/h;for(let L=0;L<=h;L++){let E=L*I-a/2;for(let M=0;M<=l;M++,x++){let T=M*R-s/2;if(t[x*3+d]=T*g,t[x*3+c]=E*b,t[x*3+p]=o/2,r[x*3+d]=0,r[x*3+c]=0,r[x*3+p]=o>=0?1:-1,n[x*2]=M/l,n[x*2+1]=1-L/h,L===h||M===l)continue;let P=A+M+L*(l+1),F=A+M+(L+1)*(l+1),Y=A+M+(L+1)*(l+1)+1,V=A+M+L*(l+1)+1;i[w*6]=P,i[w*6+1]=F,i[w*6+2]=V,i[w*6+3]=F,i[w*6+4]=Y,i[w*6+5]=V,w++}}}}class bl extends bn{constructor(t,{width:r=1,height:n=1,depth:i=1,widthSegments:s=1,heightSegments:a=1,depthSegments:o=1,attributes:l={}}={}){const h=s,d=a,c=o,p=(h+1)*(d+1)*2+(h+1)*(c+1)*2+(d+1)*(c+1)*2,g=(h*d*2+h*c*2+d*c*2)*6,b=new Float32Array(p*3),x=new Float32Array(p*3),w=new Float32Array(p*2),A=p>65536?new Uint32Array(g):new Uint16Array(g);let R=0,I=0;Tt.buildPlane(b,x,w,A,i,n,r,c,d,2,1,0,-1,-1,R,I),R+=(c+1)*(d+1),I+=c*d,Tt.buildPlane(b,x,w,A,i,n,-r,c,d,2,1,0,1,-1,R,I),R+=(c+1)*(d+1),I+=c*d,Tt.buildPlane(b,x,w,A,r,i,n,c,h,0,2,1,1,1,R,I),R+=(h+1)*(c+1),I+=h*c,Tt.buildPlane(b,x,w,A,r,i,-n,c,h,0,2,1,1,-1,R,I),R+=(h+1)*(c+1),I+=h*c,Tt.buildPlane(b,x,w,A,r,n,-i,h,d,0,1,2,-1,-1,R,I),R+=(h+1)*(d+1),I+=h*d,Tt.buildPlane(b,x,w,A,r,n,i,h,d,0,1,2,1,-1,R,I),Object.assign(l,{position:{size:3,data:b},normal:{size:3,data:x},uv:{size:2,data:w},index:{data:A}});super(t,l)}}const at={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,DOLLY_PAN:3},Rt=new Q,ft=new It,dt=new It;function wl(e,{element:t=document,enabled:r=!0,target:n=new Q,ease:i=.25,inertia:s=.85,enableRotate:a=!0,rotateSpeed:o=.1,autoRotate:l=!1,autoRotateSpeed:h=1,enableZoom:d=!0,zoomSpeed:c=1,zoomStyle:p="dolly",enablePan:g=!0,panSpeed:b=.1,minPolarAngle:x=0,maxPolarAngle:w=Math.PI,minAzimuthAngle:A=-1/0,maxAzimuthAngle:R=1/0,minDistance:I=0,maxDistance:L=1/0}={}){this.enabled=r,this.target=n,this.zoomStyle=p,i=i||1,s=s||0,this.minDistance=I,this.maxDistance=L;const E={radius:1,phi:0,theta:0},M={radius:1,phi:0,theta:0},T={radius:1,phi:0,theta:0},P=new Q,F=new Q;F.copy(e.position).sub(this.target),T.radius=M.radius=F.distance(),T.theta=M.theta=Math.atan2(F.x,F.z),T.phi=M.phi=Math.acos(Math.min(Math.max(F.y/M.radius,-1),1)),this.offset=F,this.update=()=>{l&&st(),M.radius*=E.radius,M.theta+=E.theta,M.phi+=E.phi,M.theta=Math.max(A,Math.min(R,M.theta)),M.phi=Math.max(x,Math.min(w,M.phi)),M.radius=Math.max(this.minDistance,Math.min(this.maxDistance,M.radius)),T.phi+=(M.phi-T.phi)*i,T.theta+=(M.theta-T.theta)*i,T.radius+=(M.radius-T.radius)*i,this.target.add(P);let z=T.radius*Math.sin(Math.max(1e-6,T.phi));F.x=z*Math.sin(T.theta),F.y=T.radius*Math.cos(T.phi),F.z=z*Math.cos(T.theta),e.position.copy(this.target).add(F),e.lookAt(this.target),E.theta*=s,E.phi*=s,P.multiply(s),E.radius=1},this.forcePosition=()=>{F.copy(e.position).sub(this.target),T.radius=M.radius=F.distance(),T.theta=M.theta=Math.atan2(F.x,F.z),T.phi=M.phi=Math.acos(Math.min(Math.max(F.y/M.radius,-1),1)),e.lookAt(this.target)};const Y=new It,V=new It,$=new It;let k=at.NONE;this.mouseButtons={ORBIT:0,ZOOM:1,PAN:2};function B(){return Math.pow(.95,c)}function X(z,j){Rt.set(j[0],j[1],j[2]),Rt.multiply(-z),P.add(Rt)}function it(z,j){Rt.set(j[4],j[5],j[6]),Rt.multiply(z),P.add(Rt)}const H=(z,j)=>{let rt=t===document?document.body:t;Rt.copy(e.position).sub(this.target);let vt=Rt.distance();vt*=Math.tan((e.fov||45)/2*Math.PI/180),X(2*z*vt/rt.clientHeight,e.matrix),it(2*j*vt/rt.clientHeight,e.matrix)},Z=z=>{this.zoomStyle==="dolly"?E.radius/=z:(e.fov/=z,e.type==="orthographic"?e.orthographic():e.perspective())};function st(){const z=2*Math.PI/60/60*h;E.theta-=z}function lt(z,j){ft.set(z,j),dt.sub(ft,Y).multiply(o);let rt=t===document?document.body:t;E.theta-=2*Math.PI*dt.x/rt.clientHeight,E.phi-=2*Math.PI*dt.y/rt.clientHeight,Y.copy(ft)}function J(z){ft.set(z.clientX,z.clientY),dt.sub(ft,$),dt.y>0?Z(B()):dt.y<0&&Z(1/B()),$.copy(ft)}function et(z,j){ft.set(z,j),dt.sub(ft,V).multiply(b),H(dt.x,dt.y),V.copy(ft)}function mt(z){if(d){let j=z.touches[0].pageX-z.touches[1].pageX,rt=z.touches[0].pageY-z.touches[1].pageY,vt=Math.sqrt(j*j+rt*rt);$.set(0,vt)}if(g){let j=.5*(z.touches[0].pageX+z.touches[1].pageX),rt=.5*(z.touches[0].pageY+z.touches[1].pageY);V.set(j,rt)}}function yt(z){if(d){let j=z.touches[0].pageX-z.touches[1].pageX,rt=z.touches[0].pageY-z.touches[1].pageY,vt=Math.sqrt(j*j+rt*rt);ft.set(0,vt),dt.set(0,Math.pow(ft.y/$.y,c)),Z(dt.y),$.copy(ft)}if(g){let j=.5*(z.touches[0].pageX+z.touches[1].pageX),rt=.5*(z.touches[0].pageY+z.touches[1].pageY);et(j,rt)}}const pt=z=>{if(!!this.enabled){switch(z.button){case this.mouseButtons.ORBIT:if(a===!1)return;Y.set(z.clientX,z.clientY),k=at.ROTATE;break;case this.mouseButtons.ZOOM:if(d===!1)return;$.set(z.clientX,z.clientY),k=at.DOLLY;break;case this.mouseButtons.PAN:if(g===!1)return;V.set(z.clientX,z.clientY),k=at.PAN;break}k!==at.NONE&&(window.addEventListener("mousemove",ct,!1),window.addEventListener("mouseup",ot,!1))}},ct=z=>{if(!!this.enabled)switch(k){case at.ROTATE:if(a===!1)return;lt(z.clientX,z.clientY);break;case at.DOLLY:if(d===!1)return;J(z);break;case at.PAN:if(g===!1)return;et(z.clientX,z.clientY);break}},ot=()=>{window.removeEventListener("mousemove",ct,!1),window.removeEventListener("mouseup",ot,!1),k=at.NONE},Et=z=>{!this.enabled||!d||k!==at.NONE&&k!==at.ROTATE||(z.stopPropagation(),z.preventDefault(),z.deltaY<0?Z(1/B()):z.deltaY>0&&Z(B()))},Nt=z=>{if(!!this.enabled)switch(z.preventDefault(),z.touches.length){case 1:if(a===!1)return;Y.set(z.touches[0].pageX,z.touches[0].pageY),k=at.ROTATE;break;case 2:if(d===!1&&g===!1)return;mt(z),k=at.DOLLY_PAN;break;default:k=at.NONE}},Lt=z=>{if(!!this.enabled)switch(z.preventDefault(),z.stopPropagation(),z.touches.length){case 1:if(a===!1)return;lt(z.touches[0].pageX,z.touches[0].pageY);break;case 2:if(d===!1&&g===!1)return;yt(z);break;default:k=at.NONE}},Ct=()=>{!this.enabled||(k=at.NONE)},Pt=z=>{!this.enabled||z.preventDefault()};function Vt(){t.addEventListener("contextmenu",Pt,!1),t.addEventListener("mousedown",pt,!1),t.addEventListener("wheel",Et,{passive:!1}),t.addEventListener("touchstart",Nt,{passive:!1}),t.addEventListener("touchend",Ct,!1),t.addEventListener("touchmove",Lt,{passive:!1})}this.remove=function(){t.removeEventListener("contextmenu",Pt),t.removeEventListener("mousedown",pt),t.removeEventListener("wheel",Et),t.removeEventListener("touchstart",Nt),t.removeEventListener("touchend",Ct),t.removeEventListener("touchmove",Lt),window.removeEventListener("mousemove",ct),window.removeEventListener("mouseup",ot)},Vt()}/**
 * Convert a series of points to a monotone cubic spline
 * Algorithm based on https://github.com/mbostock/d3
 * https://github.com/yr/monotone-cubic-spline
 * @copyright Yr
 * @license MIT
 */var No=1e-6,xl={points:function(t){var r=Lo(t),n=t[1],i=t[0],s=[],a=r[1],o=r[0];s.push(i,[i[0]+o[0],i[1]+o[1],n[0]-a[0],n[1]-a[1],n[0],n[1]]);for(var l=2,h=r.length;l<h;l++){var d=t[l],c=r[l];s.push([d[0]-c[0],d[1]-c[1],d[0],d[1]])}return s},slice:function(t,r,n){var i=t.slice(r,n);if(r){if(i[1].length<6){var s=i[0].length;i[1]=[i[0][s-2]*2-i[0][s-4],i[0][s-1]*2-i[0][s-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i},svgPath:function(t){for(var r="",n=0;n<t.length;n++){var i=t[n],s=i.length;n?s>4?(r+="C"+i[0]+", "+i[1],r+=", "+i[2]+", "+i[3],r+=", "+i[4]+", "+i[5]):(r+="S"+i[0]+", "+i[1],r+=", "+i[2]+", "+i[3]):r+="M"+i[s-2]+" "+i[s-1]}return r}};function Lo(e){for(var t=Co(e),r=e.length-1,n=[],i=void 0,s=void 0,a=void 0,o=void 0,l=0;l<r;l++)a=or(e[l],e[l+1]),Math.abs(a)<No?t[l]=t[l+1]=0:(i=t[l]/a,s=t[l+1]/a,o=i*i+s*s,o>9&&(o=a*3/Math.sqrt(o),t[l]=o*i,t[l+1]=o*s));for(var h=0;h<=r;h++)o=(e[Math.min(r,h+1)][0]-e[Math.max(0,h-1)][0])/(6*(1+t[h]*t[h])),n.push([o||0,t[h]*o||0]);return n}function or(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Co(e){for(var t=[],r=e[0],n=e[1],i=t[0]=or(r,n),s=1,a=e.length-1;s<a;s++)r=n,n=e[s+1],t[s]=(i+(i=or(r,n)))*.5;return t[s]=i,t}var Po=1e-6,$n=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function El(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ml(e,t,r,n){var i=n[0],s=n[1],a=n[2],o=Math.hypot(i,s,a),l,h,d,c,p,g,b,x,w,A,R,I,L,E,M,T,P,F,Y,V,$,k,B,X;return o<Po?null:(o=1/o,i*=o,s*=o,a*=o,l=Math.sin(r),h=Math.cos(r),d=1-h,c=t[0],p=t[1],g=t[2],b=t[3],x=t[4],w=t[5],A=t[6],R=t[7],I=t[8],L=t[9],E=t[10],M=t[11],T=i*i*d+h,P=s*i*d+a*l,F=a*i*d-s*l,Y=i*s*d-a*l,V=s*s*d+h,$=a*s*d+i*l,k=i*a*d+s*l,B=s*a*d-i*l,X=a*a*d+h,e[0]=c*T+x*P+I*F,e[1]=p*T+w*P+L*F,e[2]=g*T+A*P+E*F,e[3]=b*T+R*P+M*F,e[4]=c*Y+x*V+I*$,e[5]=p*Y+w*V+L*$,e[6]=g*Y+A*V+E*$,e[7]=b*Y+R*V+M*$,e[8]=c*k+x*B+I*X,e[9]=p*k+w*B+L*X,e[10]=g*k+A*B+E*X,e[11]=b*k+R*B+M*X,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Fo(){var e=new $n(3);return $n!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Al(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Sl(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function zo(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Tl(e,t){var r=t[0],n=t[1],i=t[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function Rl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ol(e,t,r){var n=t[0],i=t[1],s=t[2],a=r[0],o=r[1],l=r[2];return e[0]=i*l-s*o,e[1]=s*a-n*l,e[2]=n*o-i*a,e}function Il(e,t,r){var n=t[0],i=t[1],s=t[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,e}var Dl=zo;(function(){var e=Fo();return function(t,r,n,i,s,a){var o,l;for(r||(r=3),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,o=n;o<l;o+=r)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],s(e,e,a),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2];return t}})();var Bo={},ge={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});function $o(e){var t=new Uint32Array(1);return t[0]=e[0]*1664525+1013904223,t}Kt.default=$o;Object.defineProperty(ge,"__esModule",{value:!0});ge.makeNoise2D=void 0;var me=Kt,Uo=1/47,lr=(Math.sqrt(2+1)-1)/2,ko=(1/Math.sqrt(2+1)-1)/2;function Un(e,t,r){return{dx:-t-e*lr,dy:-r-e*lr,xsb:t,ysb:r}}function Yo(e){for(var t=[],r=0;r<Zt.length;r+=4){for(var n=Vo[Zt[r]],i=null,s=null,a=0;a<n.length;a+=3)s=Un(n[a],n[a+1],n[a+2]),i===null?t[r/4]=s:i.next=s,i=s;s.next=Un(Zt[r+1],Zt[r+2],Zt[r+3])}for(var o=[],r=0;r<hr.length;r+=2)o[hr[r]]=t[hr[r+1]];for(var l=new Uint8Array(256),h=new Uint8Array(256),d=new Uint8Array(256),r=0;r<256;r++)d[r]=r;var c=new Uint32Array(1);c[0]=e,c=me.default(me.default(me.default(c)));for(var r=255;r>=0;r--){c=me.default(c);var p=new Uint32Array(1);p[0]=(c[0]+31)%(r+1),p[0]<0&&(p[0]+=r+1),l[r]=d[p[0]],h[r]=l[r]&14,d[p[0]]=d[r]}return function(g,b){for(var x=(g+b)*ko,w=g+x,A=b+x,R=Math.floor(w),I=Math.floor(A),L=(R+I)*lr,E=g-(R+L),M=b-(I+L),T=w-R,P=A-I,F=T+P,Y=T-P+1|F<<1|F+P<<2|F+T<<4,V=0,$=o[Y];$!==void 0;$=$.next){var k=E+$.dx,B=M+$.dy,X=2-k*k-B*B;if(X>0){var it=R+$.xsb,H=I+$.ysb,Z=l[it&255],st=h[Z+H&255],lt=kn[st]*k+kn[st+1]*B;V+=X*X*X*X*lt}}return V*Uo}}ge.makeNoise2D=Yo;var Vo=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],kn=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],hr=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],Zt=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0],ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.makeNoise3D=void 0;var _e=Kt,qo=1/103,be=(Math.sqrt(3+1)-1)/3,jo=(1/Math.sqrt(3+1)-1)/3;function fr(e,t,r,n){return{dx:-t-e*be,dy:-r-e*be,dz:-n-e*be,xsb:t,ysb:r,zsb:n}}function Xo(e){for(var t=[],r=0;r<gt.length;r+=9){for(var n=Wo[gt[r]],i=null,s=null,a=0;a<n.length;a+=4)s=fr(n[a],n[a+1],n[a+2],n[a+3]),i===null?t[r/9]=s:i.next=s,i=s;s.next=fr(gt[r+1],gt[r+2],gt[r+3],gt[r+4]),s.next.next=fr(gt[r+5],gt[r+6],gt[r+7],gt[r+8])}for(var o=[],r=0;r<ur.length;r+=2)o[ur[r]]=t[ur[r+1]];for(var l=new Uint8Array(256),h=new Uint8Array(256),d=new Uint8Array(256),r=0;r<256;r++)d[r]=r;var c=new Uint32Array(1);c[0]=e,c=_e.default(_e.default(_e.default(c)));for(var r=255;r>=0;r--){c=_e.default(c);var p=new Uint32Array(1);p[0]=(c[0]+31)%(r+1),p[0]<0&&(p[0]+=r+1),l[r]=d[p[0]],h[r]=l[r]%24*3,d[p[0]]=d[r]}return function(g,b,x){for(var w=(g+b+x)*jo,A=g+w,R=b+w,I=x+w,L=Math.floor(A),E=Math.floor(R),M=Math.floor(I),T=(L+E+M)*be,P=g-(L+T),F=b-(E+T),Y=x-(M+T),V=A-L,$=R-E,k=I-M,B=V+$+k,X=$-k+1|V-$+1<<1|V-k+1<<2|B<<3|B+k<<5|B+$<<7|B+V<<9,it=0,H=o[X];H!==void 0;H=H.next){var Z=P+H.dx,st=F+H.dy,lt=Y+H.dz,J=2-Z*Z-st*st-lt*lt;if(J>0){var et=L+H.xsb,mt=E+H.ysb,yt=M+H.zsb,pt=l[et&255],ct=l[pt+mt&255],ot=h[ct+yt&255],Et=cr[ot]*Z+cr[ot+1]*st+cr[ot+2]*lt;it+=J*J*J*J*Et}}return it*qo}}ye.makeNoise3D=Xo;var Wo=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],cr=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],ur=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],gt=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0],we={};Object.defineProperty(we,"__esModule",{value:!0});we.makeNoise4D=void 0;var xe=Kt,Go=1/30,Jt=(Math.sqrt(4+1)-1)/4,Ho=(1/Math.sqrt(4+1)-1)/4;function Ee(e,t,r,n,i){return{dx:-t-e*Jt,dy:-r-e*Jt,dz:-n-e*Jt,dw:-i-e*Jt,xsb:t,ysb:r,zsb:n,wsb:i}}function Qo(e){for(var t=[],r=0;r<nt.length;r+=16){for(var n=Ko[nt[r]],i=null,s=null,a=0;a<n.length;a+=5)s=Ee(n[a],n[a+1],n[a+2],n[a+3],n[a+4]),i===null?t[r/16]=s:i.next=s,i=s;s.next=Ee(nt[r+1],nt[r+2],nt[r+3],nt[r+4],nt[r+5]),s.next.next=Ee(nt[r+6],nt[r+7],nt[r+8],nt[r+9],nt[r+10]),s.next.next.next=Ee(nt[r+11],nt[r+12],nt[r+13],nt[r+14],nt[r+15])}for(var o=[],r=0;r<dr.length;r+=2)o[dr[r]]=t[dr[r+1]];for(var l=new Uint8Array(256),h=new Uint8Array(256),d=new Uint8Array(256),r=0;r<256;r++)d[r]=r;var c=new Uint32Array(1);c[0]=e,c=xe.default(xe.default(xe.default(c)));for(var r=255;r>=0;r--){c=xe.default(c);var p=new Uint32Array(1);p[0]=(c[0]+31)%(r+1),p[0]<0&&(p[0]+=r+1),l[r]=d[p[0]],h[r]=l[r]&252,d[p[0]]=d[r]}return function(g,b,x,w){for(var A=(g+b+x+w)*Ho,R=g+A,I=b+A,L=x+A,E=w+A,M=Math.floor(R),T=Math.floor(I),P=Math.floor(L),F=Math.floor(E),Y=(M+T+P+F)*Jt,V=g-(M+Y),$=b-(T+Y),k=x-(P+Y),B=w-(F+Y),X=R-M,it=I-T,H=L-P,Z=E-F,st=X+it+H+Z,lt=H-Z+1|it-H+1<<1|it-Z+1<<2|X-it+1<<3|X-H+1<<4|X-Z+1<<5|st<<6|st+Z<<8|st+H<<11|st+it<<14|st+X<<17,J=0,et=o[lt];et!==void 0;et=et.next){var mt=V+et.dx,yt=$+et.dy,pt=k+et.dz,ct=B+et.dw,ot=2-mt*mt-yt*yt-pt*pt-ct*ct;if(ot>0){var Et=M+et.xsb,Nt=T+et.ysb,Lt=P+et.zsb,Ct=F+et.wsb,Pt=l[Et&255],Vt=l[Pt+Nt&255],z=l[Vt+Lt&255],j=h[z+Ct&255],rt=Me[j]*mt+Me[j+1]*yt+Me[j+2]*pt+Me[j+3]*ct;J+=ot*ot*ot*ot*rt}}return J*Go}}we.makeNoise4D=Qo;var Ko=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],Me=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],dr=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],nt=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1];(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.makeNoise4D=e.makeNoise3D=e.makeNoise2D=void 0;var t=ge;Object.defineProperty(e,"makeNoise2D",{enumerable:!0,get:function(){return t.makeNoise2D}});var r=ye;Object.defineProperty(e,"makeNoise3D",{enumerable:!0,get:function(){return r.makeNoise3D}});var n=we;Object.defineProperty(e,"makeNoise4D",{enumerable:!0,get:function(){return n.makeNoise4D}})})(Bo);var Yn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function a(h,d){if(!i[h]){if(!n[h]){var c=typeof ue=="function"&&ue;if(!d&&c)return c(h,!0);if(o)return o(h,!0);var p=new Error("Cannot find module '"+h+"'");throw p.code="MODULE_NOT_FOUND",p}var g=i[h]={exports:{}};n[h][0].call(g.exports,function(b){var x=n[h][1][b];return a(x||b)},g,g.exports,r,n,i,s)}return i[h].exports}for(var o=typeof ue=="function"&&ue,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var l=0,h=new a(b),d=s.document.createTextNode("");h.observe(d,{characterData:!0}),o=function(){d.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var c=new s.MessageChannel;c.port1.onmessage=b,o=function(){c.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var w=s.document.createElement("script");w.onreadystatechange=function(){b(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:o=function(){setTimeout(b,0)};var p,g=[];function b(){p=!0;for(var w,A,R=g.length;R;){for(A=g,g=[],w=-1;++w<R;)A[w]();R=g.length}p=!1}n.exports=x;function x(w){g.push(w)===1&&!p&&o()}}).call(this,typeof xt!="undefined"?xt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(r,n,i){var s=r(1);function a(){}var o={},l=["REJECTED"],h=["FULFILLED"],d=["PENDING"];n.exports=c;function c(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,E!==a&&x(this,E)}c.prototype.catch=function(E){return this.then(null,E)},c.prototype.then=function(E,M){if(typeof E!="function"&&this.state===h||typeof M!="function"&&this.state===l)return this;var T=new this.constructor(a);if(this.state!==d){var P=this.state===h?E:M;g(T,P,this.outcome)}else this.queue.push(new p(T,E,M));return T};function p(E,M,T){this.promise=E,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(E){o.resolve(this.promise,E)},p.prototype.otherCallFulfilled=function(E){g(this.promise,this.onFulfilled,E)},p.prototype.callRejected=function(E){o.reject(this.promise,E)},p.prototype.otherCallRejected=function(E){g(this.promise,this.onRejected,E)};function g(E,M,T){s(function(){var P;try{P=M(T)}catch(F){return o.reject(E,F)}P===E?o.reject(E,new TypeError("Cannot resolve promise with itself")):o.resolve(E,P)})}o.resolve=function(E,M){var T=w(b,M);if(T.status==="error")return o.reject(E,T.value);var P=T.value;if(P)x(E,P);else{E.state=h,E.outcome=M;for(var F=-1,Y=E.queue.length;++F<Y;)E.queue[F].callFulfilled(M)}return E},o.reject=function(E,M){E.state=l,E.outcome=M;for(var T=-1,P=E.queue.length;++T<P;)E.queue[T].callRejected(M);return E};function b(E){var M=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof M=="function")return function(){M.apply(E,arguments)}}function x(E,M){var T=!1;function P($){T||(T=!0,o.reject(E,$))}function F($){T||(T=!0,o.resolve(E,$))}function Y(){M(F,P)}var V=w(Y);V.status==="error"&&P(V.value)}function w(E,M){var T={};try{T.value=E(M),T.status="success"}catch(P){T.status="error",T.value=P}return T}c.resolve=A;function A(E){return E instanceof this?E:o.resolve(new this(a),E)}c.reject=R;function R(E){var M=new this(a);return o.reject(M,E)}c.all=I;function I(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=E.length,P=!1;if(!T)return this.resolve([]);for(var F=new Array(T),Y=0,V=-1,$=new this(a);++V<T;)k(E[V],V);return $;function k(B,X){M.resolve(B).then(it,function(H){P||(P=!0,o.reject($,H))});function it(H){F[X]=H,++Y===T&&!P&&(P=!0,o.resolve($,F))}}}c.race=L;function L(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=E.length,P=!1;if(!T)return this.resolve([]);for(var F=-1,Y=new this(a);++F<T;)V(E[F]);return Y;function V($){M.resolve($).then(function(k){P||(P=!0,o.resolve(Y,k))},function(k){P||(P=!0,o.reject(Y,k))})}}},{"1":1}],3:[function(r,n,i){(function(s){typeof s.Promise!="function"&&(s.Promise=r(2))}).call(this,typeof xt!="undefined"?xt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};function a(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var l=o();function h(){try{if(!l||!l.open)return!1;var f=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),v=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!f||v)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function d(f,v){f=f||[],v=v||{};try{return new Blob(f,v)}catch(m){if(m.name!=="TypeError")throw m;for(var u=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,y=new u,_=0;_<f.length;_+=1)y.append(f[_]);return y.getBlob(v.type)}}typeof Promise=="undefined"&&r(3);var c=Promise;function p(f,v){v&&f.then(function(u){v(null,u)},function(u){v(u)})}function g(f,v,u){typeof v=="function"&&f.then(v),typeof u=="function"&&f.catch(u)}function b(f){return typeof f!="string"&&(console.warn(f+" used as a key, but it is not a string."),f=String(f)),f}function x(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",A=void 0,R={},I=Object.prototype.toString,L="readonly",E="readwrite";function M(f){for(var v=f.length,u=new ArrayBuffer(v),y=new Uint8Array(u),_=0;_<v;_++)y[_]=f.charCodeAt(_);return u}function T(f){return new c(function(v){var u=f.transaction(w,E),y=d([""]);u.objectStore(w).put(y,"key"),u.onabort=function(_){_.preventDefault(),_.stopPropagation(),v(!1)},u.oncomplete=function(){var _=navigator.userAgent.match(/Chrome\/(\d+)/),m=navigator.userAgent.match(/Edge\//);v(m||!_||parseInt(_[1],10)>=43)}}).catch(function(){return!1})}function P(f){return typeof A=="boolean"?c.resolve(A):T(f).then(function(v){return A=v,A})}function F(f){var v=R[f.name],u={};u.promise=new c(function(y,_){u.resolve=y,u.reject=_}),v.deferredOperations.push(u),v.dbReady?v.dbReady=v.dbReady.then(function(){return u.promise}):v.dbReady=u.promise}function Y(f){var v=R[f.name],u=v.deferredOperations.pop();if(u)return u.resolve(),u.promise}function V(f,v){var u=R[f.name],y=u.deferredOperations.pop();if(y)return y.reject(v),y.promise}function $(f,v){return new c(function(u,y){if(R[f.name]=R[f.name]||et(),f.db)if(v)F(f),f.db.close();else return u(f.db);var _=[f.name];v&&_.push(f.version);var m=l.open.apply(l,_);v&&(m.onupgradeneeded=function(S){var O=m.result;try{O.createObjectStore(f.storeName),S.oldVersion<=1&&O.createObjectStore(w)}catch(D){if(D.name==="ConstraintError")console.warn('The database "'+f.name+'" has been upgraded from version '+S.oldVersion+" to version "+S.newVersion+', but the storage "'+f.storeName+'" already exists.');else throw D}}),m.onerror=function(S){S.preventDefault(),y(m.error)},m.onsuccess=function(){var S=m.result;S.onversionchange=function(O){O.target.close()},u(S),Y(f)}})}function k(f){return $(f,!1)}function B(f){return $(f,!0)}function X(f,v){if(!f.db)return!0;var u=!f.db.objectStoreNames.contains(f.storeName),y=f.version<f.db.version,_=f.version>f.db.version;if(y&&(f.version!==v&&console.warn('The database "'+f.name+`" can't be downgraded from version `+f.db.version+" to version "+f.version+"."),f.version=f.db.version),_||u){if(u){var m=f.db.version+1;m>f.version&&(f.version=m)}return!0}return!1}function it(f){return new c(function(v,u){var y=new FileReader;y.onerror=u,y.onloadend=function(_){var m=btoa(_.target.result||"");v({__local_forage_encoded_blob:!0,data:m,type:f.type})},y.readAsBinaryString(f)})}function H(f){var v=M(atob(f.data));return d([v],{type:f.type})}function Z(f){return f&&f.__local_forage_encoded_blob}function st(f){var v=this,u=v._initReady().then(function(){var y=R[v._dbInfo.name];if(y&&y.dbReady)return y.dbReady});return g(u,f,f),u}function lt(f){F(f);for(var v=R[f.name],u=v.forages,y=0;y<u.length;y++){var _=u[y];_._dbInfo.db&&(_._dbInfo.db.close(),_._dbInfo.db=null)}return f.db=null,k(f).then(function(m){return f.db=m,X(f)?B(f):m}).then(function(m){f.db=v.db=m;for(var S=0;S<u.length;S++)u[S]._dbInfo.db=m}).catch(function(m){throw V(f,m),m})}function J(f,v,u,y){y===void 0&&(y=1);try{var _=f.db.transaction(f.storeName,v);u(null,_)}catch(m){if(y>0&&(!f.db||m.name==="InvalidStateError"||m.name==="NotFoundError"))return c.resolve().then(function(){if(!f.db||m.name==="NotFoundError"&&!f.db.objectStoreNames.contains(f.storeName)&&f.version<=f.db.version)return f.db&&(f.version=f.db.version+1),B(f)}).then(function(){return lt(f).then(function(){J(f,v,u,y-1)})}).catch(u);u(m)}}function et(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function mt(f){var v=this,u={db:null};if(f)for(var y in f)u[y]=f[y];var _=R[u.name];_||(_=et(),R[u.name]=_),_.forages.push(v),v._initReady||(v._initReady=v.ready,v.ready=st);var m=[];function S(){return c.resolve()}for(var O=0;O<_.forages.length;O++){var D=_.forages[O];D!==v&&m.push(D._initReady().catch(S))}var N=_.forages.slice(0);return c.all(m).then(function(){return u.db=_.db,k(u)}).then(function(C){return u.db=C,X(u,v._defaultConfig.version)?B(u):C}).then(function(C){u.db=_.db=C,v._dbInfo=u;for(var U=0;U<N.length;U++){var q=N[U];q!==v&&(q._dbInfo.db=u.db,q._dbInfo.version=u.version)}})}function yt(f,v){var u=this;f=b(f);var y=new c(function(_,m){u.ready().then(function(){J(u._dbInfo,L,function(S,O){if(S)return m(S);try{var D=O.objectStore(u._dbInfo.storeName),N=D.get(f);N.onsuccess=function(){var C=N.result;C===void 0&&(C=null),Z(C)&&(C=H(C)),_(C)},N.onerror=function(){m(N.error)}}catch(C){m(C)}})}).catch(m)});return p(y,v),y}function pt(f,v){var u=this,y=new c(function(_,m){u.ready().then(function(){J(u._dbInfo,L,function(S,O){if(S)return m(S);try{var D=O.objectStore(u._dbInfo.storeName),N=D.openCursor(),C=1;N.onsuccess=function(){var U=N.result;if(U){var q=U.value;Z(q)&&(q=H(q));var W=f(q,U.key,C++);W!==void 0?_(W):U.continue()}else _()},N.onerror=function(){m(N.error)}}catch(U){m(U)}})}).catch(m)});return p(y,v),y}function ct(f,v,u){var y=this;f=b(f);var _=new c(function(m,S){var O;y.ready().then(function(){return O=y._dbInfo,I.call(v)==="[object Blob]"?P(O.db).then(function(D){return D?v:it(v)}):v}).then(function(D){J(y._dbInfo,E,function(N,C){if(N)return S(N);try{var U=C.objectStore(y._dbInfo.storeName);D===null&&(D=void 0);var q=U.put(D,f);C.oncomplete=function(){D===void 0&&(D=null),m(D)},C.onabort=C.onerror=function(){var W=q.error?q.error:q.transaction.error;S(W)}}catch(W){S(W)}})}).catch(S)});return p(_,u),_}function ot(f,v){var u=this;f=b(f);var y=new c(function(_,m){u.ready().then(function(){J(u._dbInfo,E,function(S,O){if(S)return m(S);try{var D=O.objectStore(u._dbInfo.storeName),N=D.delete(f);O.oncomplete=function(){_()},O.onerror=function(){m(N.error)},O.onabort=function(){var C=N.error?N.error:N.transaction.error;m(C)}}catch(C){m(C)}})}).catch(m)});return p(y,v),y}function Et(f){var v=this,u=new c(function(y,_){v.ready().then(function(){J(v._dbInfo,E,function(m,S){if(m)return _(m);try{var O=S.objectStore(v._dbInfo.storeName),D=O.clear();S.oncomplete=function(){y()},S.onabort=S.onerror=function(){var N=D.error?D.error:D.transaction.error;_(N)}}catch(N){_(N)}})}).catch(_)});return p(u,f),u}function Nt(f){var v=this,u=new c(function(y,_){v.ready().then(function(){J(v._dbInfo,L,function(m,S){if(m)return _(m);try{var O=S.objectStore(v._dbInfo.storeName),D=O.count();D.onsuccess=function(){y(D.result)},D.onerror=function(){_(D.error)}}catch(N){_(N)}})}).catch(_)});return p(u,f),u}function Lt(f,v){var u=this,y=new c(function(_,m){if(f<0){_(null);return}u.ready().then(function(){J(u._dbInfo,L,function(S,O){if(S)return m(S);try{var D=O.objectStore(u._dbInfo.storeName),N=!1,C=D.openKeyCursor();C.onsuccess=function(){var U=C.result;if(!U){_(null);return}f===0||N?_(U.key):(N=!0,U.advance(f))},C.onerror=function(){m(C.error)}}catch(U){m(U)}})}).catch(m)});return p(y,v),y}function Ct(f){var v=this,u=new c(function(y,_){v.ready().then(function(){J(v._dbInfo,L,function(m,S){if(m)return _(m);try{var O=S.objectStore(v._dbInfo.storeName),D=O.openKeyCursor(),N=[];D.onsuccess=function(){var C=D.result;if(!C){y(N);return}N.push(C.key),C.continue()},D.onerror=function(){_(D.error)}}catch(C){_(C)}})}).catch(_)});return p(u,f),u}function Pt(f,v){v=x.apply(this,arguments);var u=this.config();f=typeof f!="function"&&f||{},f.name||(f.name=f.name||u.name,f.storeName=f.storeName||u.storeName);var y=this,_;if(!f.name)_=c.reject("Invalid arguments");else{var m=f.name===u.name&&y._dbInfo.db,S=m?c.resolve(y._dbInfo.db):k(f).then(function(O){var D=R[f.name],N=D.forages;D.db=O;for(var C=0;C<N.length;C++)N[C]._dbInfo.db=O;return O});f.storeName?_=S.then(function(O){if(!!O.objectStoreNames.contains(f.storeName)){var D=O.version+1;F(f);var N=R[f.name],C=N.forages;O.close();for(var U=0;U<C.length;U++){var q=C[U];q._dbInfo.db=null,q._dbInfo.version=D}var W=new c(function(G,tt){var K=l.open(f.name,D);K.onerror=function(ht){var jt=K.result;jt.close(),tt(ht)},K.onupgradeneeded=function(){var ht=K.result;ht.deleteObjectStore(f.storeName)},K.onsuccess=function(){var ht=K.result;ht.close(),G(ht)}});return W.then(function(G){N.db=G;for(var tt=0;tt<C.length;tt++){var K=C[tt];K._dbInfo.db=G,Y(K._dbInfo)}}).catch(function(G){throw(V(f,G)||c.resolve()).catch(function(){}),G})}}):_=S.then(function(O){F(f);var D=R[f.name],N=D.forages;O.close();for(var C=0;C<N.length;C++){var U=N[C];U._dbInfo.db=null}var q=new c(function(W,G){var tt=l.deleteDatabase(f.name);tt.onerror=function(){var K=tt.result;K&&K.close(),G(tt.error)},tt.onblocked=function(){console.warn('dropInstance blocked for database "'+f.name+'" until all open connections are closed')},tt.onsuccess=function(){var K=tt.result;K&&K.close(),W(K)}});return q.then(function(W){D.db=W;for(var G=0;G<N.length;G++){var tt=N[G];Y(tt._dbInfo)}}).catch(function(W){throw(V(f,W)||c.resolve()).catch(function(){}),W})})}return p(_,v),_}var Vt={_driver:"asyncStorage",_initStorage:mt,_support:h(),iterate:pt,getItem:yt,setItem:ct,removeItem:ot,clear:Et,length:Nt,key:Lt,keys:Ct,dropInstance:Pt};function z(){return typeof openDatabase=="function"}var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt="~~local_forage_type~",vt=/^~~local_forage_type~([^~]+)~/,te="__lfsc__:",Oe=te.length,Ie="arbf",De="blob",yr="si08",_r="ui08",br="uic8",wr="si16",xr="si32",Er="ur16",Mr="ui32",Ar="fl32",Sr="fl64",Tr=Oe+Ie.length,Rr=Object.prototype.toString;function Or(f){var v=f.length*.75,u=f.length,y,_=0,m,S,O,D;f[f.length-1]==="="&&(v--,f[f.length-2]==="="&&v--);var N=new ArrayBuffer(v),C=new Uint8Array(N);for(y=0;y<u;y+=4)m=j.indexOf(f[y]),S=j.indexOf(f[y+1]),O=j.indexOf(f[y+2]),D=j.indexOf(f[y+3]),C[_++]=m<<2|S>>4,C[_++]=(S&15)<<4|O>>2,C[_++]=(O&3)<<6|D&63;return N}function Ne(f){var v=new Uint8Array(f),u="",y;for(y=0;y<v.length;y+=3)u+=j[v[y]>>2],u+=j[(v[y]&3)<<4|v[y+1]>>4],u+=j[(v[y+1]&15)<<2|v[y+2]>>6],u+=j[v[y+2]&63];return v.length%3==2?u=u.substring(0,u.length-1)+"=":v.length%3==1&&(u=u.substring(0,u.length-2)+"=="),u}function ri(f,v){var u="";if(f&&(u=Rr.call(f)),f&&(u==="[object ArrayBuffer]"||f.buffer&&Rr.call(f.buffer)==="[object ArrayBuffer]")){var y,_=te;f instanceof ArrayBuffer?(y=f,_+=Ie):(y=f.buffer,u==="[object Int8Array]"?_+=yr:u==="[object Uint8Array]"?_+=_r:u==="[object Uint8ClampedArray]"?_+=br:u==="[object Int16Array]"?_+=wr:u==="[object Uint16Array]"?_+=Er:u==="[object Int32Array]"?_+=xr:u==="[object Uint32Array]"?_+=Mr:u==="[object Float32Array]"?_+=Ar:u==="[object Float64Array]"?_+=Sr:v(new Error("Failed to get type for BinaryArray"))),v(_+Ne(y))}else if(u==="[object Blob]"){var m=new FileReader;m.onload=function(){var S=rt+f.type+"~"+Ne(this.result);v(te+De+S)},m.readAsArrayBuffer(f)}else try{v(JSON.stringify(f))}catch(S){console.error("Couldn't convert value into a JSON string: ",f),v(null,S)}}function ni(f){if(f.substring(0,Oe)!==te)return JSON.parse(f);var v=f.substring(Tr),u=f.substring(Oe,Tr),y;if(u===De&&vt.test(v)){var _=v.match(vt);y=_[1],v=v.substring(_[0].length)}var m=Or(v);switch(u){case Ie:return m;case De:return d([m],{type:y});case yr:return new Int8Array(m);case _r:return new Uint8Array(m);case br:return new Uint8ClampedArray(m);case wr:return new Int16Array(m);case Er:return new Uint16Array(m);case xr:return new Int32Array(m);case Mr:return new Uint32Array(m);case Ar:return new Float32Array(m);case Sr:return new Float64Array(m);default:throw new Error("Unkown type: "+u)}}var Le={serialize:ri,deserialize:ni,stringToBuffer:Or,bufferToString:Ne};function Ir(f,v,u,y){f.executeSql("CREATE TABLE IF NOT EXISTS "+v.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],u,y)}function ii(f){var v=this,u={db:null};if(f)for(var y in f)u[y]=typeof f[y]!="string"?f[y].toString():f[y];var _=new c(function(m,S){try{u.db=openDatabase(u.name,String(u.version),u.description,u.size)}catch(O){return S(O)}u.db.transaction(function(O){Ir(O,u,function(){v._dbInfo=u,m()},function(D,N){S(N)})},S)});return u.serializer=Le,_}function Mt(f,v,u,y,_,m){f.executeSql(u,y,_,function(S,O){O.code===O.SYNTAX_ERR?S.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[v.storeName],function(D,N){N.rows.length?m(D,O):Ir(D,v,function(){D.executeSql(u,y,_,m)},m)},m):m(S,O)},m)}function si(f,v){var u=this;f=b(f);var y=new c(function(_,m){u.ready().then(function(){var S=u._dbInfo;S.db.transaction(function(O){Mt(O,S,"SELECT * FROM "+S.storeName+" WHERE key = ? LIMIT 1",[f],function(D,N){var C=N.rows.length?N.rows.item(0).value:null;C&&(C=S.serializer.deserialize(C)),_(C)},function(D,N){m(N)})})}).catch(m)});return p(y,v),y}function ai(f,v){var u=this,y=new c(function(_,m){u.ready().then(function(){var S=u._dbInfo;S.db.transaction(function(O){Mt(O,S,"SELECT * FROM "+S.storeName,[],function(D,N){for(var C=N.rows,U=C.length,q=0;q<U;q++){var W=C.item(q),G=W.value;if(G&&(G=S.serializer.deserialize(G)),G=f(G,W.key,q+1),G!==void 0){_(G);return}}_()},function(D,N){m(N)})})}).catch(m)});return p(y,v),y}function Dr(f,v,u,y){var _=this;f=b(f);var m=new c(function(S,O){_.ready().then(function(){v===void 0&&(v=null);var D=v,N=_._dbInfo;N.serializer.serialize(v,function(C,U){U?O(U):N.db.transaction(function(q){Mt(q,N,"INSERT OR REPLACE INTO "+N.storeName+" (key, value) VALUES (?, ?)",[f,C],function(){S(D)},function(W,G){O(G)})},function(q){if(q.code===q.QUOTA_ERR){if(y>0){S(Dr.apply(_,[f,D,u,y-1]));return}O(q)}})})}).catch(O)});return p(m,u),m}function oi(f,v,u){return Dr.apply(this,[f,v,u,1])}function li(f,v){var u=this;f=b(f);var y=new c(function(_,m){u.ready().then(function(){var S=u._dbInfo;S.db.transaction(function(O){Mt(O,S,"DELETE FROM "+S.storeName+" WHERE key = ?",[f],function(){_()},function(D,N){m(N)})})}).catch(m)});return p(y,v),y}function hi(f){var v=this,u=new c(function(y,_){v.ready().then(function(){var m=v._dbInfo;m.db.transaction(function(S){Mt(S,m,"DELETE FROM "+m.storeName,[],function(){y()},function(O,D){_(D)})})}).catch(_)});return p(u,f),u}function fi(f){var v=this,u=new c(function(y,_){v.ready().then(function(){var m=v._dbInfo;m.db.transaction(function(S){Mt(S,m,"SELECT COUNT(key) as c FROM "+m.storeName,[],function(O,D){var N=D.rows.item(0).c;y(N)},function(O,D){_(D)})})}).catch(_)});return p(u,f),u}function ci(f,v){var u=this,y=new c(function(_,m){u.ready().then(function(){var S=u._dbInfo;S.db.transaction(function(O){Mt(O,S,"SELECT key FROM "+S.storeName+" WHERE id = ? LIMIT 1",[f+1],function(D,N){var C=N.rows.length?N.rows.item(0).key:null;_(C)},function(D,N){m(N)})})}).catch(m)});return p(y,v),y}function ui(f){var v=this,u=new c(function(y,_){v.ready().then(function(){var m=v._dbInfo;m.db.transaction(function(S){Mt(S,m,"SELECT key FROM "+m.storeName,[],function(O,D){for(var N=[],C=0;C<D.rows.length;C++)N.push(D.rows.item(C).key);y(N)},function(O,D){_(D)})})}).catch(_)});return p(u,f),u}function di(f){return new c(function(v,u){f.transaction(function(y){y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(_,m){for(var S=[],O=0;O<m.rows.length;O++)S.push(m.rows.item(O).name);v({db:f,storeNames:S})},function(_,m){u(m)})},function(y){u(y)})})}function pi(f,v){v=x.apply(this,arguments);var u=this.config();f=typeof f!="function"&&f||{},f.name||(f.name=f.name||u.name,f.storeName=f.storeName||u.storeName);var y=this,_;return f.name?_=new c(function(m){var S;f.name===u.name?S=y._dbInfo.db:S=openDatabase(f.name,"","",0),f.storeName?m({db:S,storeNames:[f.storeName]}):m(di(S))}).then(function(m){return new c(function(S,O){m.db.transaction(function(D){function N(W){return new c(function(G,tt){D.executeSql("DROP TABLE IF EXISTS "+W,[],function(){G()},function(K,ht){tt(ht)})})}for(var C=[],U=0,q=m.storeNames.length;U<q;U++)C.push(N(m.storeNames[U]));c.all(C).then(function(){S()}).catch(function(W){O(W)})},function(D){O(D)})})}):_=c.reject("Invalid arguments"),p(_,v),_}var vi={_driver:"webSQLStorage",_initStorage:ii,_support:z(),iterate:ai,getItem:si,setItem:oi,removeItem:li,clear:hi,length:fi,key:ci,keys:ui,dropInstance:pi};function gi(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Nr(f,v){var u=f.name+"/";return f.storeName!==v.storeName&&(u+=f.storeName+"/"),u}function mi(){var f="_localforage_support_test";try{return localStorage.setItem(f,!0),localStorage.removeItem(f),!1}catch{return!0}}function yi(){return!mi()||localStorage.length>0}function _i(f){var v=this,u={};if(f)for(var y in f)u[y]=f[y];return u.keyPrefix=Nr(f,v._defaultConfig),yi()?(v._dbInfo=u,u.serializer=Le,c.resolve()):c.reject()}function bi(f){var v=this,u=v.ready().then(function(){for(var y=v._dbInfo.keyPrefix,_=localStorage.length-1;_>=0;_--){var m=localStorage.key(_);m.indexOf(y)===0&&localStorage.removeItem(m)}});return p(u,f),u}function wi(f,v){var u=this;f=b(f);var y=u.ready().then(function(){var _=u._dbInfo,m=localStorage.getItem(_.keyPrefix+f);return m&&(m=_.serializer.deserialize(m)),m});return p(y,v),y}function xi(f,v){var u=this,y=u.ready().then(function(){for(var _=u._dbInfo,m=_.keyPrefix,S=m.length,O=localStorage.length,D=1,N=0;N<O;N++){var C=localStorage.key(N);if(C.indexOf(m)===0){var U=localStorage.getItem(C);if(U&&(U=_.serializer.deserialize(U)),U=f(U,C.substring(S),D++),U!==void 0)return U}}});return p(y,v),y}function Ei(f,v){var u=this,y=u.ready().then(function(){var _=u._dbInfo,m;try{m=localStorage.key(f)}catch{m=null}return m&&(m=m.substring(_.keyPrefix.length)),m});return p(y,v),y}function Mi(f){var v=this,u=v.ready().then(function(){for(var y=v._dbInfo,_=localStorage.length,m=[],S=0;S<_;S++){var O=localStorage.key(S);O.indexOf(y.keyPrefix)===0&&m.push(O.substring(y.keyPrefix.length))}return m});return p(u,f),u}function Ai(f){var v=this,u=v.keys().then(function(y){return y.length});return p(u,f),u}function Si(f,v){var u=this;f=b(f);var y=u.ready().then(function(){var _=u._dbInfo;localStorage.removeItem(_.keyPrefix+f)});return p(y,v),y}function Ti(f,v,u){var y=this;f=b(f);var _=y.ready().then(function(){v===void 0&&(v=null);var m=v;return new c(function(S,O){var D=y._dbInfo;D.serializer.serialize(v,function(N,C){if(C)O(C);else try{localStorage.setItem(D.keyPrefix+f,N),S(m)}catch(U){(U.name==="QuotaExceededError"||U.name==="NS_ERROR_DOM_QUOTA_REACHED")&&O(U),O(U)}})})});return p(_,u),_}function Ri(f,v){if(v=x.apply(this,arguments),f=typeof f!="function"&&f||{},!f.name){var u=this.config();f.name=f.name||u.name,f.storeName=f.storeName||u.storeName}var y=this,_;return f.name?_=new c(function(m){f.storeName?m(Nr(f,y._defaultConfig)):m(f.name+"/")}).then(function(m){for(var S=localStorage.length-1;S>=0;S--){var O=localStorage.key(S);O.indexOf(m)===0&&localStorage.removeItem(O)}}):_=c.reject("Invalid arguments"),p(_,v),_}var Oi={_driver:"localStorageWrapper",_initStorage:_i,_support:gi(),iterate:xi,getItem:wi,setItem:Ti,removeItem:Si,clear:bi,length:Ai,key:Ei,keys:Mi,dropInstance:Ri},Ii=function(v,u){return v===u||typeof v=="number"&&typeof u=="number"&&isNaN(v)&&isNaN(u)},Di=function(v,u){for(var y=v.length,_=0;_<y;){if(Ii(v[_],u))return!0;_++}return!1},Lr=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"},qt={},Cr={},Ft={INDEXEDDB:Vt,WEBSQL:vi,LOCALSTORAGE:Oi},Ni=[Ft.INDEXEDDB._driver,Ft.WEBSQL._driver,Ft.LOCALSTORAGE._driver],ee=["dropInstance"],Ce=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ee),Li={description:"",driver:Ni.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ci(f,v){f[v]=function(){var u=arguments;return f.ready().then(function(){return f[v].apply(f,u)})}}function Pe(){for(var f=1;f<arguments.length;f++){var v=arguments[f];if(v)for(var u in v)v.hasOwnProperty(u)&&(Lr(v[u])?arguments[0][u]=v[u].slice():arguments[0][u]=v[u])}return arguments[0]}var Pi=function(){function f(v){a(this,f);for(var u in Ft)if(Ft.hasOwnProperty(u)){var y=Ft[u],_=y._driver;this[u]=_,qt[_]||this.defineDriver(y)}this._defaultConfig=Pe({},Li),this._config=Pe({},this._defaultConfig,v),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return f.prototype.config=function(u){if((typeof u=="undefined"?"undefined":s(u))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var y in u){if(y==="storeName"&&(u[y]=u[y].replace(/\W/g,"_")),y==="version"&&typeof u[y]!="number")return new Error("Database version must be a number.");this._config[y]=u[y]}return"driver"in u&&u.driver?this.setDriver(this._config.driver):!0}else return typeof u=="string"?this._config[u]:this._config},f.prototype.defineDriver=function(u,y,_){var m=new c(function(S,O){try{var D=u._driver,N=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!u._driver){O(N);return}for(var C=Ce.concat("_initStorage"),U=0,q=C.length;U<q;U++){var W=C[U],G=!Di(ee,W);if((G||u[W])&&typeof u[W]!="function"){O(N);return}}var tt=function(){for(var jt=function(Bi){return function(){var $i=new Error("Method "+Bi+" is not implemented by the current driver"),Pr=c.reject($i);return p(Pr,arguments[arguments.length-1]),Pr}},Fe=0,zi=ee.length;Fe<zi;Fe++){var ze=ee[Fe];u[ze]||(u[ze]=jt(ze))}};tt();var K=function(jt){qt[D]&&console.info("Redefining LocalForage driver: "+D),qt[D]=u,Cr[D]=jt,S()};"_support"in u?u._support&&typeof u._support=="function"?u._support().then(K,O):K(!!u._support):K(!0)}catch(ht){O(ht)}});return g(m,y,_),m},f.prototype.driver=function(){return this._driver||null},f.prototype.getDriver=function(u,y,_){var m=qt[u]?c.resolve(qt[u]):c.reject(new Error("Driver not found."));return g(m,y,_),m},f.prototype.getSerializer=function(u){var y=c.resolve(Le);return g(y,u),y},f.prototype.ready=function(u){var y=this,_=y._driverSet.then(function(){return y._ready===null&&(y._ready=y._initDriver()),y._ready});return g(_,u,u),_},f.prototype.setDriver=function(u,y,_){var m=this;Lr(u)||(u=[u]);var S=this._getSupportedDrivers(u);function O(){m._config.driver=m.driver()}function D(U){return m._extend(U),O(),m._ready=m._initStorage(m._config),m._ready}function N(U){return function(){var q=0;function W(){for(;q<U.length;){var G=U[q];return q++,m._dbInfo=null,m._ready=null,m.getDriver(G).then(D).catch(W)}O();var tt=new Error("No available storage method found.");return m._driverSet=c.reject(tt),m._driverSet}return W()}}var C=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=C.then(function(){var U=S[0];return m._dbInfo=null,m._ready=null,m.getDriver(U).then(function(q){m._driver=q._driver,O(),m._wrapLibraryMethodsWithReady(),m._initDriver=N(S)})}).catch(function(){O();var U=new Error("No available storage method found.");return m._driverSet=c.reject(U),m._driverSet}),g(this._driverSet,y,_),this._driverSet},f.prototype.supports=function(u){return!!Cr[u]},f.prototype._extend=function(u){Pe(this,u)},f.prototype._getSupportedDrivers=function(u){for(var y=[],_=0,m=u.length;_<m;_++){var S=u[_];this.supports(S)&&y.push(S)}return y},f.prototype._wrapLibraryMethodsWithReady=function(){for(var u=0,y=Ce.length;u<y;u++)Ci(this,Ce[u])},f.prototype.createInstance=function(u){return new f(u)},f}(),Fi=new Pi;n.exports=Fi},{"3":3}]},{},[4])(4)})})(Yn);var Nl=Yn.exports;const Vn=Symbol("Comlink.proxy"),Zo=Symbol("Comlink.endpoint"),Jo=Symbol("Comlink.releaseProxy"),pr=Symbol("Comlink.thrown"),qn=e=>typeof e=="object"&&e!==null||typeof e=="function",t1={canHandle:e=>qn(e)&&e[Vn],serialize(e){const{port1:t,port2:r}=new MessageChannel;return Xn(e,t),[r,[r]]},deserialize(e){return e.start(),n1(e)}},e1={canHandle:e=>qn(e)&&pr in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},jn=new Map([["proxy",t1],["throw",e1]]);function Xn(e,t=self){t.addEventListener("message",function r(n){if(!n||!n.data)return;const{id:i,type:s,path:a}=Object.assign({path:[]},n.data),o=(n.data.argumentList||[]).map(Dt);let l;try{const h=a.slice(0,-1).reduce((c,p)=>c[p],e),d=a.reduce((c,p)=>c[p],e);switch(s){case"GET":l=d;break;case"SET":h[a.slice(-1)[0]]=Dt(n.data.value),l=!0;break;case"APPLY":l=d.apply(h,o);break;case"CONSTRUCT":{const c=new d(...o);l=a1(c)}break;case"ENDPOINT":{const{port1:c,port2:p}=new MessageChannel;Xn(e,p),l=s1(c,[c])}break;case"RELEASE":l=void 0;break;default:return}}catch(h){l={value:h,[pr]:0}}Promise.resolve(l).catch(h=>({value:h,[pr]:0})).then(h=>{const[d,c]=gr(h);t.postMessage(Object.assign(Object.assign({},d),{id:i}),c),s==="RELEASE"&&(t.removeEventListener("message",r),Wn(t))})}),t.start&&t.start()}function r1(e){return e.constructor.name==="MessagePort"}function Wn(e){r1(e)&&e.close()}function n1(e,t){return vr(e,[],t)}function Ae(e){if(e)throw new Error("Proxy has been released and is not useable")}function vr(e,t=[],r=function(){}){let n=!1;const i=new Proxy(r,{get(s,a){if(Ae(n),a===Jo)return()=>kt(e,{type:"RELEASE",path:t.map(o=>o.toString())}).then(()=>{Wn(e),n=!0});if(a==="then"){if(t.length===0)return{then:()=>i};const o=kt(e,{type:"GET",path:t.map(l=>l.toString())}).then(Dt);return o.then.bind(o)}return vr(e,[...t,a])},set(s,a,o){Ae(n);const[l,h]=gr(o);return kt(e,{type:"SET",path:[...t,a].map(d=>d.toString()),value:l},h).then(Dt)},apply(s,a,o){Ae(n);const l=t[t.length-1];if(l===Zo)return kt(e,{type:"ENDPOINT"}).then(Dt);if(l==="bind")return vr(e,t.slice(0,-1));const[h,d]=Gn(o);return kt(e,{type:"APPLY",path:t.map(c=>c.toString()),argumentList:h},d).then(Dt)},construct(s,a){Ae(n);const[o,l]=Gn(a);return kt(e,{type:"CONSTRUCT",path:t.map(h=>h.toString()),argumentList:o},l).then(Dt)}});return i}function i1(e){return Array.prototype.concat.apply([],e)}function Gn(e){const t=e.map(gr);return[t.map(r=>r[0]),i1(t.map(r=>r[1]))]}const Hn=new WeakMap;function s1(e,t){return Hn.set(e,t),e}function a1(e){return Object.assign(e,{[Vn]:!0})}function gr(e){for(const[t,r]of jn)if(r.canHandle(e)){const[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},Hn.get(e)||[]]}function Dt(e){switch(e.type){case"HANDLER":return jn.get(e.name).deserialize(e.value);case"RAW":return e.value}}function kt(e,t,r){return new Promise(n=>{const i=o1();e.addEventListener("message",function s(a){!a.data||!a.data.id||a.data.id!==i||(e.removeEventListener("message",s),n(a.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),r)})}function o1(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var Qn=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,s){return i[0]===r?(n=s,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];r.call(n,a[1],a[0])}},t}()}(),mr=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Se=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),l1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Se):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),h1=2;function f1(e,t){var r=!1,n=!1,i=0;function s(){r&&(r=!1,e()),n&&o()}function a(){l1(s)}function o(){var l=Date.now();if(r){if(l-i<h1)return;n=!0}else r=!0,n=!1,setTimeout(a,t);i=l}return o}var c1=20,u1=["top","right","bottom","left","width","height","size","weight"],d1=typeof MutationObserver!="undefined",p1=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=f1(this.refresh.bind(this),c1)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!mr||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d1?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!mr||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=u1.some(function(s){return!!~n.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Kn=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Yt=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Se},Zn=Re(0,0,0,0);function Te(e){return parseFloat(e)||0}function Jn(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var s=e["border-"+i+"-width"];return n+Te(s)},0)}function v1(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var s=i[n],a=e["padding-"+s];r[s]=Te(a)}return r}function g1(e){var t=e.getBBox();return Re(0,0,t.width,t.height)}function m1(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Zn;var n=Yt(e).getComputedStyle(e),i=v1(n),s=i.left+i.right,a=i.top+i.bottom,o=Te(n.width),l=Te(n.height);if(n.boxSizing==="border-box"&&(Math.round(o+s)!==t&&(o-=Jn(n,"left","right")+s),Math.round(l+a)!==r&&(l-=Jn(n,"top","bottom")+a)),!_1(e)){var h=Math.round(o+s)-t,d=Math.round(l+a)-r;Math.abs(h)!==1&&(o-=h),Math.abs(d)!==1&&(l-=d)}return Re(i.left,i.top,o,l)}var y1=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof Yt(e).SVGGraphicsElement}:function(e){return e instanceof Yt(e).SVGElement&&typeof e.getBBox=="function"}}();function _1(e){return e===Yt(e).document.documentElement}function b1(e){return mr?y1(e)?g1(e):m1(e):Zn}function w1(e){var t=e.x,r=e.y,n=e.width,i=e.height,s=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return Kn(a,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),a}function Re(e,t,r,n){return{x:e,y:t,width:r,height:n}}var x1=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Re(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=b1(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),E1=function(){function e(t,r){var n=w1(r);Kn(this,{target:t,contentRect:n})}return e}(),M1=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new Qn,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof Yt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new x1(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof Yt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(t)||(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new E1(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ti=typeof WeakMap!="undefined"?new WeakMap:new Qn,ei=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=p1.getInstance(),n=new M1(t,r,this);ti.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){ei.prototype[e]=function(){var t;return(t=ti.get(this))[e].apply(t,arguments)}});var A1=function(){return typeof Se.ResizeObserver!="undefined"?Se.ResizeObserver:ei}();function S1(e){let t;return{c(){t=Xt("div"),this.h()},l(r){t=Gr(r,"DIV",{style:!0}),ke(t).forEach(_t),this.h()},h(){fs(t,"width","0px")},m(r,n){ne(r,t,n),e[3](t)},p:ut,i:ut,o:ut,d(r){r&&_t(t),e[3](null)}}}function T1(e,t,r){let{elementResize:n=void 0}=t;const i=Jr();let s,a;gs(()=>{r(2,a=new A1(l=>{i("resize",l[0].target)}))}),ms(()=>{a.disconnect()});function o(l){ae[l?"unshift":"push"](()=>{s=l,r(0,s)})}return e.$$set=l=>{"elementResize"in l&&r(1,n=l.elementResize)},e.$$.update=()=>{if(e.$$.dirty&7&&(s||n)){const l=n||s.parentNode;a.observe(l)}},[s,n,a,o]}class Ll extends Ge{constructor(t){super();rn(this,t,T1,S1,Be,{elementResize:1})}}function R1(e){let t,r,n,i,s;const a=e[4].default,o=Vi(a,e,e[3],null);return{c(){t=ss(),r=Xt("div"),o&&o.c()},l(l){t=hs(l),r=Gr(l,"DIV",{});var h=ke(r);o&&o.l(h),h.forEach(_t)},m(l,h){ne(l,t,h),ne(l,r,h),o&&o.m(r,null),e[5](r),n=!0,i||(s=as(document.body,"click",e[1]),i=!0)},p(l,[h]){o&&o.p&&(!n||h&8)&&ji(o,a,l,l[3],n?qi(a,l[3],h,null):Xi(l[3]),null)},i(l){n||(ce(o,l),n=!0)},o(l){We(o,l),n=!1},d(l){l&&_t(t),l&&_t(r),o&&o.d(l),e[5](null),i=!1,s()}}}function O1(e,t,r){let{$$slots:n={},$$scope:i}=t,{exclude:s=[]}=t,a;const o=Jr();function l(c){for(var p=c;p;){if(s.indexOf(p)>=0||p===a)return!0;p=p.parentNode}return!1}function h(c){l(c.target)||o("clickoutside")}function d(c){ae[c?"unshift":"push"](()=>{a=c,r(0,a)})}return e.$$set=c=>{"exclude"in c&&r(2,s=c.exclude),"$$scope"in c&&r(3,i=c.$$scope)},[a,h,s,i,n,d]}class Cl extends Ge{constructor(t){super();rn(this,t,O1,R1,Be,{exclude:2})}}export{al as $,rl as A,Ms as B,Ui as C,ol as D,G1 as E,Vi as F,ji as G,Xi as H,qi as I,rs as J,ut as K,q1 as L,N1 as M,ll as N,ae as O,V1 as P,as as Q,Jr as R,Ge as S,z1 as T,dl as U,C1 as V,le as W,Q1 as X,ul as Y,fl as Z,yl as _,ke as a,cl as a0,tl as a1,hl as a2,J1 as a3,is as a4,$1 as a5,zt as a6,xl as a7,je as a8,Y1 as a9,L1 as aA,D1 as aB,Tt as aC,_l as aD,Kr as aE,U1 as aF,Cl as aG,W1 as aH,K1 as aI,Z1 as aJ,Ur as aK,B1 as aa,Sl as ab,Tl as ac,Ol as ad,Rl as ae,El as af,Ml as ag,Dl as ah,Il as ai,Al as aj,Bo as ak,Q as al,bn as am,n1 as an,Rn as ao,vl as ap,gl as aq,wl as ar,pl as as,ml as at,bl as au,Nl as av,F1 as aw,Ll as ax,H1 as ay,nl as az,os as b,Gr as c,_t as d,Xt as e,fs as f,ne as g,ls as h,rn as i,k1 as j,ss as k,P1 as l,hs as m,bs as n,We as o,ws as p,ce as q,X1 as r,Be as s,Ue as t,j1 as u,gs as v,il as w,sl as x,Es as y,el as z};
