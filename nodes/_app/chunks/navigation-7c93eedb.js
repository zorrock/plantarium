var Oi=Object.defineProperty,Vi=Object.defineProperties;var ji=Object.getOwnPropertyDescriptors;var rs=Object.getOwnPropertySymbols;var Di=Object.prototype.hasOwnProperty,Ai=Object.prototype.propertyIsEnumerable;var os=(n,e,t)=>e in n?Oi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,he=(n,e)=>{for(var t in e||(e={}))Di.call(e,t)&&os(n,t,e[t]);if(rs)for(var t of rs(e))Ai.call(e,t)&&os(n,t,e[t]);return n},_e=(n,e)=>Vi(n,ji(e));import{L as Pi,S as ae,i as le,s as ce,e as M,c as N,a as L,d as v,b as p,M as R,g as C,E as F,l as J,n as te,o as A,p as se,q as O,t as K,h as G,J as _,j as fe,F as ii,k as U,m as W,N as B,G as ni,H as ri,I as oi,O as Le,P as be,w as ie,x as ue,f as q,y as ne,B as re,K as Ce,Q as Ee,R as ut,T as Se,U as yt,z as $i,A as Bi,C as Ri,v as Vt,V as Fi,W as Hi,X as Ui,Y as oe,Z as Q,_ as ee,$ as We,a0 as He,a1 as wt,a2 as Wi}from"./index-24edfbcc.js";import{w as gt,c as je}from"./singletons-6de98c64.js";var zi=(n,...e)=>{const t=(i,r)=>{Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r).map(o=>o.toString())).forEach(o=>{o.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(r,o))})},s=class extends n{constructor(...r){super(...r),e.forEach(o=>t(this,new o))}};return e.forEach(i=>{t(s.prototype,i.prototype),t(s,i)}),s};const Mt=class extends Error{constructor(n,e={}){super(n),this.detail=n,this.meta=e}static fromParent(n,e,t,s){return new Mt(t,Object.assign({cause:n},s))}getCause(){return this.meta.cause||void 0}unwrapChain(n=this){return Mt.unwrapChain(n)}};let Xi=Mt;Xi.unwrapChain=n=>{const e=[n];let t=n.getCause();for(;t;)e.push(t),t=t.getCause();return e};function Yi(n,e=!1){return function(t,s,i){let r;const o=i.value;return i.value=function(...a){const l=()=>{r=null,e||o.apply(this,a)},c=e&&!r;clearTimeout(r),r=setTimeout(l,n),c&&o.apply(this,a)},i}}var ze=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},qi={exports:{}};(function(n,e){(function(t,s){s()})(ze,function(){function t(c,u){return typeof u=="undefined"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function s(c,u,d){var f=new XMLHttpRequest;f.open("GET",c),f.responseType="blob",f.onload=function(){l(f.response,u,d)},f.onerror=function(){console.error("could not download file")},f.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ze=="object"&&ze.global===ze?ze:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,u,d){var f=o.URL||o.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?r(h):i(h.href)?s(c,u,d):r(h,h.target="_blank")):(h.href=f.createObjectURL(c),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){r(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,d){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,d),u);else if(i(c))s(c,u,d);else{var f=document.createElement("a");f.href=c,f.target="_blank",setTimeout(function(){r(f)})}}:function(c,u,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof c=="string")return s(c,u,d);var h=c.type==="application/octet-stream",m=/constructor/i.test(o.HTMLElement)||o.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||h&&m||a)&&typeof FileReader!="undefined"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=y?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=x:location=x,f=null},g.readAsDataURL(c)}else{var E=o.URL||o.webkitURL,j=E.createObjectURL(c);f?f.location=j:location.href=j,f=null,setTimeout(function(){E.revokeObjectURL(j)},4e4)}});o.saveAs=l.saveAs=l,n.exports=l})})(qi);function ai(n,e){let t,s,i,r=null,o=0;const a=n,l=()=>{o=0,r=null,i=a.apply(t,s),r||(t=s=null)};return function(){const u=Date.now();o||(o=u);const d=e-(u-o);return t=this,s=arguments,d<=0||d>e?(r&&(clearTimeout(r),r=null),o=u,i=a.apply(t,s),r||(t=s=null)):r||(r=setTimeout(l,d)),i}}const we={amountEmitters:0,amountCallbacks:0,emitters:[]};typeof self!="undefined"&&"window"in self&&(globalThis.debug=we);class Ie{constructor(){this.index=0,this.cbs={},this.cbsOnce={},this.index=we.amountEmitters,we.amountEmitters++}emit(e,t){e in this.cbs&&this.cbs[e].forEach(s=>s(t)),e in this.cbsOnce&&(this.cbsOnce[e].forEach(s=>s(t)),delete this.cbsOnce[e])}on(e,t,s=0){s>0&&(t=ai(t,s));const i=Object.assign(this.cbs,{[e]:[...this.cbs[e]||[],t]});return this.cbs=i,we.emitters[this.index]={name:this.constructor.name,cbs:Object.fromEntries(Object.keys(this.cbs).map(r=>[r,this.cbs[r].length]))},we.amountCallbacks++,()=>{var r;we.amountCallbacks--,(r=i[e])==null||r.splice(i[e].indexOf(t),1),we.emitters[this.index]={name:this.constructor.name,cbs:Object.fromEntries(Object.keys(this.cbs).map(o=>[o,this.cbs[o].length]))}}}once(e,t){return this.cbsOnce[e]=[...this.cbsOnce[e]||[],t],()=>{this.cbsOnce[e].splice(this.cbsOnce[e].indexOf(t),1)}}destroyEventEmitter(){we.amountEmitters--,Object.keys(this.cbs).forEach(e=>{we.amountCallbacks-=this.cbs[e].length,delete this.cbs[e]}),Object.keys(this.cbsOnce).forEach(e=>delete this.cbsOnce[e]),this.cbs={},this.cbsOnce={},delete we.emitters[this.index]}}function Zi(n){if(n.length===0)return 0;let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e=e&e;return e}var Ki=()=>{const n={};let e=0;const t=(s=0,i=0)=>{if(i>500)throw new Error("Infinite loop in id generation algo");return s in n?t(Math.max(s++,e++),i+1):(n[s]=!0,s.toString())};return t.reset=()=>{Object.keys(n).forEach(s=>delete n[+s]),e=0},t};const Gi=typeof globalThis.WorkerGlobalScope!="undefined"&&self instanceof globalThis.WorkerGlobalScope;let ht=[],dt=2,Oe=0,as=0;const Nt="plant.log.history",jt="localStorage"in globalThis,$e=jt?Nt in localStorage?JSON.parse(localStorage.getItem(Nt)):[]:[];jt&&(dt=parseInt(localStorage.getItem("pt-log-level"))||2);function Ji(){jt&&localStorage.setItem(Nt,JSON.stringify($e))}let Be;function xe(n){Oe=Math.max(Oe,n.length);const e=as;as++;const t=(i,r)=>{if(!Gi&&($e.push({scope:n,args:i,level:dt,date:Date.now()}),$e.length=Math.min(100,$e.length),Be&&Be.set($e),Ji(),(!ht.length||ht.includes(n))&&r<=dt)){if(i instanceof Error){console.error(`[${n.padEnd(Oe," ")}]`,i);return}if(Array.isArray(i)&&typeof i[0]=="string"&&typeof i[1]=="object"){console.groupCollapsed(`%c[${n.padEnd(Oe," ")}]`,`color: hsl(${e*30}deg 68% 64%); font-weight: bold;`,i[0]),console.log(...i.slice(1)),console.groupEnd();return}if(r===0){console.error(`%c[${n.padEnd(Oe," ")}]`,`color: hsl(${e*30}deg 68% 64%); font-weight: bold;`,...i);return}if(r===1){console.warn(`[${n.padEnd(Oe," ")}]`,...i);return}r===2&&console.log(`%c[${n.padEnd(Oe," ")}]`,`color: hsl(${e*30}deg 68% 64%); font-weight: bold;`,...i)}},s=(...i)=>t(i,2);return s.warn=(...i)=>t(i,1),s.error=i=>t(i,0),s}xe.getStore=function(){return Be||(Be=gt([]),Be)};xe.getHistory=function(){return[...$e]};xe.setFilter=(...n)=>{ht=n,console.log("[log] set filter",{filters:ht})};xe.setLevel=(n=0)=>{dt=n,localStorage.setItem("pt-log-level",""+n)};function Qi(n){const e={};return(...t)=>{const s=Zi(JSON.stringify(t));return s in e?e[s]:e[s]=n(...t)}}var Ze="<unknown>";function en(n){var e=n.split(`
`);return e.reduce(function(t,s){var i=nn(s)||on(s)||cn(s)||fn(s)||hn(s);return i&&t.push(i),t},[])}var tn=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sn=/\((\S*)(?::(\d+))(?::(\d+))\)/;function nn(n){var e=tn.exec(n);if(!e)return null;var t=e[2]&&e[2].indexOf("native")===0,s=e[2]&&e[2].indexOf("eval")===0,i=sn.exec(e[2]);return s&&i!=null&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{file:t?null:e[2],methodName:e[1]||Ze,arguments:t?[e[2]]:[],lineNumber:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}var rn=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function on(n){var e=rn.exec(n);return e?{file:e[2],methodName:e[1]||Ze,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}var an=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ln=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function cn(n){var e=an.exec(n);if(!e)return null;var t=e[3]&&e[3].indexOf(" > eval")>-1,s=ln.exec(e[3]);return t&&s!=null&&(e[3]=s[1],e[4]=s[2],e[5]=null),{file:e[3],methodName:e[1]||Ze,arguments:e[2]?e[2].split(","):[],lineNumber:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}var un=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function hn(n){var e=un.exec(n);return e?{file:e[3],methodName:e[1]||Ze,arguments:[],lineNumber:+e[4],column:e[5]?+e[5]:null}:null}var dn=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function fn(n){var e=dn.exec(n);return e?{file:e[2],methodName:e[1]||Ze,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}const pn=n=>n.replace(window.location.href,"").replace(/^node_modules/,"").replace(/.+?(?=plantarium)plantarium\//,"");var ls=n=>{const e=en(n.stack).map(t=>(t.file=pn(t.file),t));return{title:n.message,type:n.name,lines:e}};const mn=(n,e)=>t=>Math.min(Math.max(t,n),e),vn=n=>{const e=10**n;return t=>Math.floor(t*e)/e},yn=mn(-1e5,1e5),wn=vn(1),nt=n=>yn(wn(n));class li{constructor({x1:e=0,y1:t=0,x2:s=0,y2:i=0},r){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x1=e,this.y1=t,this.x2=s,this.y2=i,this.system=r.node.system,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("viewbox","0 0 100 100"),this.svg.setAttribute("width","100"),this.svg.setAttribute("height","100"),this.svg.style.overflow="visible",this.svg.style.position="absolute",this.svg.style.top="3.5px",this.svg.style.pointerEvents="none",this.svg.style.zIndex="-1",r.view.wrapper.append(this.svg),this.path=document.createElementNS("http://www.w3.org/2000/svg","path"),this.path.classList.add("node-connection-path"),this.path.setAttribute("vector-effect","non-scaling-stroke"),this.path.setAttribute("d",`
      M 0 0
      C 50 0 
        50 100
				100  100
      `),this.svg.appendChild(this.path),this.setPosition()}setPosition({x1:e=this.x1,y1:t=this.y1,x2:s=this.x2,y2:i=this.y2}={}){var a;this.x1=nt(e),this.y1=nt(t),this.x2=nt(s),this.y2=nt(i);const r=this.x2-this.x1+7,o=this.y2-this.y1;(a=this==null?void 0:this.hoverPath)==null||a.setAttribute("d",`
      M 0 0
      C ${r/2} 0 
        ${r/2} ${o}
				${r}  ${o}
      `),this.path.setAttribute("d",`
      M 0 0
      C ${r/2} 0 
        ${r/2} ${o}
				${r}  ${o}
      `)}remove(){var e;this.path.remove(),(e=this==null?void 0:this.hoverPath)==null||e.remove(),this.system.save()}}class gn extends li{constructor(e){super({},e.output),this.connection=e,this.input=e.input.view,this.output=e.output.view,this.hoverPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.hoverPath.classList.add("node-connection-hover"),this.hoverPath.setAttribute("vector-effect","non-scaling-stroke"),this.svg.append(this.hoverPath),this.hoverPath.addEventListener("mouseover",()=>{const{activeNode:s}=this.system.view;s&&s.view.active&&s.view.hoveredConnection!==this&&this.handleNodeOver(s)}),this.hoverPath.addEventListener("mouseout",()=>{const{activeNode:s}=this.system.view;this.handleNodeOut(s)}),e.input.node.system.view.colorStore.onType(e.output.type,s=>{this.path.style.stroke=s,this.svg.style.setProperty("--socket-color",s)})}handleNodeOver(e){this.connection.isNodeJoinable(e)&&(e.view.hoveredConnection=this,this.path.classList.add("hover-active"),this.hoverPath.classList.add("hover-active"))}handleNodeOut(e){e&&e.view.hoveredConnection===this&&delete e.view.hoveredConnection,this.hoverPath.classList.remove("hover-active"),this.path.classList.remove("hover-active")}remove(){super.remove()}}function _n(n){if(!bn(n))throw new Error("panzoom requires DOM element to be attached to the DOM tree");const t=n.parentElement;return n.scrollTop=0,{getBBox:r,getOwner:i,applyTransform:o};function i(){return t}function r(){return{left:0,top:0,width:n.clientWidth,height:n.clientHeight}}function o(a){n.style.transformOrigin="0 0 0",n.style.transform="matrix("+a.scale+", 0, 0, "+a.scale+", "+a.x+", "+a.y+")"}}function bn(n){return n&&n.parentElement&&n.style}function kn(n,e,t){typeof t!="object"&&(t={});const s=typeof t.minVelocity=="number"?t.minVelocity:5,i=typeof t.amplitude=="number"?t.amplitude:.25,r=typeof t.cancelAnimationFrame=="function"?t.cancelAnimationFrame:En(),o=typeof t.requestAnimationFrame=="function"?t.requestAnimationFrame:Ln();let a,l;const c=342;let u,d,f,h,m,y,g,E;return{start:x,stop:I,cancel:j};function j(){r(u),r(E)}function x(){a=n(),h=g=d=m=0,l=new Date,r(u),r(E),u=o(b)}function b(){const D=Date.now(),S=D-l;l=D;const z=n(),X=z.x-a.x,pe=z.y-a.y;a=z;const H=1e3/(1+S);d=.8*X*H+.2*d,m=.8*pe*H+.2*m,u=o(b)}function I(){r(u),r(E);const D=n();f=D.x,y=D.y,l=Date.now(),(d<-s||d>s)&&(h=i*d,f+=h),(m<-s||m>s)&&(g=i*m,y+=g),E=o(k)}function k(){const D=Date.now()-l;let S=!1,z=0,X=0;h&&(z=-h*Math.exp(-D/c),z>.5||z<-.5?S=!0:z=h=0),g&&(X=-g*Math.exp(-D/c),X>.5||X<-.5?S=!0:X=g=0),S&&(e(f+z,y+X),E=o(k))}}function En(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Ln(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(n){return setTimeout(n,16)}}const xn=.2;function Mn(n,e){const t=_n(n),s=t.getOwner(),i={x:0,y:0};let r=!1;const o={x:0,y:0,scale:1},a=typeof e.pinchSpeed=="number"?e.pinchSpeed:1,l=e.bounds,c=typeof e.maxZoom=="number"?e.maxZoom:Number.POSITIVE_INFINITY,u=typeof e.minZoom=="number"?e.minZoom:0,d=typeof e.boundsPadding=="number"?e.boundsPadding:.05,f=typeof e.zoomSpeed=="number"?e.zoomSpeed:xn;let h=cs(e.transformOrigin);Nn(l);let m,y=!1,g=!1,E,j,x;const b=kn(De,Ei,e.smoothScroll);let I,k=!1;Ut();const D={dispose:Li,moveBy:Ge,moveTo:Ae,smoothMoveTo:ki,centerOn:bi,zoomTo:tt,zoomAbs:Ht,pause:pe,resume:H,isPaused:Y,getTransform:ye,setTransform:Z,getTransformOrigin:me,setTransformOrigin:Me},S=typeof e.initialX=="number"?e.initialX:o.x,z=typeof e.initialY=="number"?e.initialY:o.y,X=typeof e.initialZoom=="number"?e.initialZoom:o.scale;return(S!=o.x||z!=o.y||X!=o.scale)&&Ht(S,z,X),D;function pe(){Wt(),k=!0}function H(){k&&(Ut(),k=!1)}function Y(){return k}function $(w,T){return i.x=w,i.y=T,i}function Z(w,T,V){o.x=w,o.y=T,o.scale=V,Je()}function ye(){return o}function me(){return h}function Me(w){h=cs(w)}function De(){return{x:o.x,y:o.y}}function Ae(w,T){o.x=w,o.y=T,_t(),Je()}function Ge(w,T){Ae(o.x+w,o.y+T)}function _t(){const w=wi();if(!w)return;let T=!1;const V=gi();let P=w.left-V.right;return P>0&&(o.x+=P,T=!0),P=w.right-V.left,P<0&&(o.x+=P,T=!0),P=w.top-V.bottom,P>0&&(o.y+=P,T=!0),P=w.bottom-V.top,P<0&&(o.y+=P,T=!0),T}function wi(){if(!!l){if(typeof l=="boolean"){const w=s.getBoundingClientRect(),T=w.width,V=w.height;return{left:T*d,top:V*d,right:T*(1-d),bottom:V*(1-d)}}return l}}function gi(){const w=t.getBBox(),T=_i(w.left,w.top);return{left:T.x,top:T.y,right:w.width*o.scale+T.x,bottom:w.height*o.scale+T.y}}function _i(w,T){return{x:w*o.scale+o.x,y:T*o.scale+o.y}}function Je(){r=!0,m=window.requestAnimationFrame(xi)}function Ft(w,T,V){if(kt(w)||kt(T)||kt(V))throw new Error("zoom requires valid numbers");const P=o.scale*V;if(P<u){if(o.scale===u)return;V=u/o.scale}if(P>c){if(o.scale===c)return;V=c/o.scale}const de=$(w,T);o.x=de.x-V*(de.x-o.x),o.y=de.y-V*(de.y-o.y),l&&d===1&&u===1?(o.scale*=V,_t()):_t()||(o.scale*=V),Je()}function Ht(w,T,V){const P=V/o.scale;Ft(w,T,P)}function bi(w){const T=w.ownerSVGElement;if(!T)throw new Error("ui element is required to be within the scene");const V=w.getBoundingClientRect(),P=V.left+V.width/2,de=V.top+V.height/2,ge=T.getBoundingClientRect(),st=ge.width/2-P,it=ge.height/2-de;Qe(st,it)}function ki(w,T){Qe(w-o.x,T-o.y)}function Qe(w,T){return Ge(w,T)}function Ei(w,T){Ae(w,T)}function Li(){Wt()}function Ut(){s.addEventListener("mousedown",Gt,{passive:!0}),s.addEventListener("dblclick",Kt,{passive:!1}),s.addEventListener("touchstart",Xt,{passive:!0}),s.addEventListener("keydown",zt),s.addEventListener("wheel",ts,{passive:!0}),Je()}function Wt(){s.removeEventListener("wheel",ts),s.removeEventListener("mousedown",Gt),s.removeEventListener("keydown",zt),s.removeEventListener("dblclick",Kt),s.removeEventListener("touchstart",Xt),m&&(window.cancelAnimationFrame(m),m=0),b.cancel(),es(),Ii(),ns()}function xi(){r&&Mi()}function Mi(){r=!1,t.applyTransform(o),m=0,e.onTransform&&e.onTransform(o)}function zt(w){let T=0;if(w.keyCode===38||w.keyCode===40||w.keyCode===37||w.keyCode===39||(w.keyCode===189||w.keyCode===109?T=1:(w.keyCode===187||w.keyCode===107)&&(T=-1)),T){const V=ss(T*100),P=h?bt():Ni();tt(P.x,P.y,V)}}function Ni(){const w=s.getBoundingClientRect();return{x:w.width/2,y:w.height/2}}function Xt(w){if(Si(w),w.touches.length===1)return Ci(w);w.touches.length===2&&(x=Zt(w.touches[0],w.touches[1]),I=!0,Yt())}function Si(w){w.stopPropagation(),w.preventDefault()}function Ti(w){w.preventDefault(),w.stopPropagation()}function Ci(w){const T=w.touches[0],V=Ne(T),P=$(V.x,V.y);E=P.x,j=P.y,b.cancel(),Yt()}function Yt(){y||(y=!0,document.addEventListener("touchmove",qt),document.addEventListener("touchend",et),document.addEventListener("touchcancel",et))}function qt(w){if(w.touches.length===1){w.stopPropagation();const T=w.touches[0],V=Ne(T),P=$(V.x,V.y),de=P.x-E,ge=P.y-j;de!==0&&ge!==0&&is(),E=P.x,j=P.y,Qe(de,ge)}else if(w.touches.length===2){I=!0;const T=w.touches[0],V=w.touches[1],P=Zt(T,V),de=1+(P/x-1)*a,ge=Ne(T),st=Ne(V);if(E=(ge.x+st.x)/2,j=(ge.y+st.y)/2,h){const it=bt();E=it.x,j=it.y}tt(E,j,de),x=P,w.stopPropagation(),w.preventDefault()}}function et(w){if(w.touches.length>0){const T=Ne(w.touches[0]),V=$(T.x,T.y);E=V.x,j=V.y}}function Zt(w,T){const V=w.clientX-T.clientX,P=w.clientY-T.clientY;return Math.sqrt(V*V+P*P)}function Kt(w){Ti(w)}function Gt(w){if(y)return w.stopPropagation(),!1;if(w.target!==s&&w.target!==n||!(w.button===1&&window.event!==null||w.button===0))return;b.cancel();const V=Ne(w),P=$(V.x,V.y);return E=P.x,j=P.y,document.addEventListener("mousemove",Jt),document.addEventListener("mouseup",Qt),!1}function Jt(w){if(y||w.ctrlKey)return;is();const T=Ne(w),V=$(T.x,T.y),P=V.x-E,de=V.y-j;E=V.x,j=V.y,Qe(P,de)}function Qt(){ns(),es()}function es(){document.removeEventListener("mousemove",Jt),document.removeEventListener("mouseup",Qt),g=!1}function Ii(){document.removeEventListener("touchmove",qt),document.removeEventListener("touchend",et),document.removeEventListener("touchcancel",et),g=!1,I=!1,y=!1}function ts(w){b.cancel();let T=w.deltaY;w.deltaMode>0&&(T*=100);const V=ss(T);if(V!==1){const P=h?bt():Ne(w);tt(P.x,P.y,V)}}function Ne(w){const T=s.getBoundingClientRect(),V=w.clientX-T.left,P=w.clientY-T.top;return{x:V,y:P}}function bt(){const w=s.getBoundingClientRect();return{x:w.width*h.x,y:w.height*h.y}}function tt(w,T,V){return b.cancel(),Ft(w,T,V)}function ss(w){const T=Math.sign(w),V=Math.min(.25,Math.abs(f*w/128));return 1-T*V}function is(){g||(g=!0,b.start())}function ns(){g&&(I||b.stop())}}function cs(n){if(!!n){if(typeof n=="object")return(!Re(n.x)||!Re(n.y))&&us(),n;us()}}function us(n){throw new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Nn(n){const e=typeof n;if(e==="undefined"||e==="boolean")return;if(!(Re(n.left)&&Re(n.top)&&Re(n.bottom)&&Re(n.right)))throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}function Re(n){return Number.isFinite(n)}function kt(n){return Number.isNaN?Number.isNaN(n):n!==n}function Sn(n,e){const t=n.x2<e.x1,s=n.x1>e.x2,i=n.y1>e.y2,r=n.y2<e.y1;return!(t||s||i||r)}var Tn=(n,e)=>e.type.includes(n.type)||e.type.includes("*");function ft(n,e){if(n===void 0&&e===void 0)return;const t=Array.isArray(n)?"array":typeof n;if(t==="string"||t==="boolean"||t==="number")return n===e?void 0:e;if(Array.isArray(n)){const o=n.map((a,l)=>typeof e=="object"&&l in e?ft(a,e[l]):e[l]);return!o.length||o.length===1&&!o[0]?void 0:o}if(!n)return e;const s=Object.keys(n),i={};let r=!1;if(s.forEach(o=>{const a=ft(n[o],e[o]);a!==void 0&&(r=!0,i[o]=a)}),!!r)return i}function Cn(n,e){return[ft(n,e),ft(e,n)]}function pt(n,e){const t=typeof n;if(t==="string"||t==="boolean"||t==="number")return e;if(Array.isArray(n))return n.map((s,i)=>e[i]?pt(s,e[i]):s);if(typeof n=="object"){const s=Object.keys(e),i=he({},n);return s.forEach(r=>{i[r]=pt(n[r],e[r])}),i}}class In{constructor(e,{input:t,output:s}){var r;if(s.connections.find(o=>o.input===t))return;if(((r=t==null?void 0:t.connection)==null?void 0:r.output)===s||!s||!t)return;if(this.system=e,t.node.getChildren().includes(s.node))throw new Error("Circular reference");if(!Tn(s,t))throw new Error("Can't connect type "+t.type+" to "+s.type);this.output=s,this.input=t,e.options.view&&(this.view=new gn(this)),this.output.setConnection(this),this.input.setConnection(this),this.output.node.system.save()}joinNode(e){if(!this.isNodeJoinable(e))return;this.system.isPaused=!0,this.remove(),this.output.node.connectTo(e,0,e.getInputs()[0].key);const t=this.input.node.getInputs(),s=t.indexOf(this.input),i=t[s].key;e.connectTo(this.input.node,0,i),this.system.isPaused=!1,e.update()}isNodeJoinable(e){const t=this.input.type,s=this.output.type;if(this.input.node===e||this.output.node===e)return!1;const i=e.getInputs();if(!i.length||!i.find(o=>o.type.includes(s)))return!1;const r=e.outputs;return!(!r.length||!r.find(o=>t.includes(o.type)||t.includes("*")))}remove(){this.view&&this.view.remove(),this.input.removeConnection(),this.output.removeConnection(this)}deserialize(){return{id:this.input.node.attributes.id,out:this.indexOut,in:this.indexIn}}get indexOut(){return this.output.node.outputs.indexOf(this.output)}get indexIn(){return this.input.key}}class Dt extends Ie{constructor(e,t){super(),this.outputs=[],this._state={},this.states={},this.inputData=[],this.enableUpdates=!0,this.refs=[],this.system=e;const{attributes:s,state:i={}}=t;this._state=i,this.attributes=s,this.id=s.id,this._compute=Qi((r=this._state)=>this.compute(r))}get state(){return this._state}bindView(e){this.view=e,this.outputs.forEach(t=>t.bindView()),Object.values(this.states).forEach(t=>t.bindView())}setAttributes(e){this.enableUpdates&&this.system.history.addAction(),this.attributes=he(he({},this.attributes),e),this==null||this.view.updateViewPosition(),this.save()}compute(e){return e}getChildren(){return this.outputs.map(s=>s.connections).flat().map(s=>s.input.node)}getSockets(){return[...this.getInputs(),...this.outputs]}getInputs(){return Object.values(this.states).map(e=>e.getInput()).filter(e=>!!e)}setStateValue(e,t){this.states[e].setValue(t)}getStateValue(e){return this.state[e]}update(){!this.enableUpdates||(this.system.options.showUpdates&&this.view&&this.view.showUpdate(),Object.values(this.states).find(e=>!e.isOkay)?this.computedData=void 0:this.computedData=this._compute(this.state),this.emit("computedData",this.computedData),this.refs.forEach(e=>{e.node.enableUpdates=!1,e.keyIn.forEach(t=>{this.system.options.deferCompute?e.node.setStateValue(t,{type:this.attributes.type,parameters:this.computedData}):e.node.setStateValue(t,this.computedData)}),e.node.enableUpdates=!0,e.node.update()}),this.save())}remove(){this.system.removeNode(this),this.destroyEventEmitter()}connectTo(e,t=0,s=e.getInputs()[0].key){var l,c,u;const i=this.outputs[t],r=(l=e.states[s])==null?void 0:l.getInput();if(!r)return;const o=new In(this.system,{output:i,input:r});(c=i==null?void 0:i.view)==null||c.updatePosition(),(u=r==null?void 0:r.view)==null||u.updatePosition();const a=this.refs.find(d=>d.node.id===e.id&&d.indexOut===t);return a?a.keyIn=[...a.keyIn,s]:this.refs.push({node:e,keyIn:[s],indexOut:t}),this.update(),o}disconnectFrom(e,t,s){this.refs=this.refs.filter(i=>!(i.indexOut!==s||(i.keyIn.splice(i.keyIn.indexOf(t),1),i.keyIn.length===0))),this.update()}deserialize(){const e=Object.assign({},this.attributes);e.refs=this.outputs.map(s=>s.connections).flat().map(s=>s.deserialize());const t={};return Object.values(this.states).forEach(s=>{t[s.key]=s.getValue()}),JSON.parse(JSON.stringify({attributes:e,state:t}))}save(){this.system.save()}}class At{constructor(e){var r,o;this.inputs=[],this.outputs=[],this.active=!1,this.x=0,this.y=0,this.downX=0,this.downY=0,this.mDownX=0,this.mDownY=0,this.height=50,this.width=91,this.node=e,this.system=e.system,this.wrapper=document.createElement("div"),this.wrapper.style.minHeight=this.height+"px",this.wrapper.style.minWidth=this.width+"px",this.wrapper.classList.add("node-wrapper","node-type-"+e.attributes.type.toLowerCase()),this.wrapper.setAttribute("id","node-view-"+this.system.id+"-"+this.node.id),this.outputWrapper=document.createElement("div"),this.outputWrapper.classList.add("node-outputs-wrapper"),this.wrapper.append(this.outputWrapper);const t=document.createElement("p");t.innerHTML=e.attributes.name||e.attributes.type,t.classList.add("node-title"),this.wrapper.appendChild(t),this.stateWrapper=document.createElement("div"),this.stateWrapper.classList.add("node-state-wrapper"),this.wrapper.append(this.stateWrapper),e.system.view.nodeContainer.append(this.wrapper);const{pos:{x:s=0,y:i=0}={}}=e.attributes;this.x=s,this.y=i,this.wrapper.style.left=s+"px",this.wrapper.style.top=i+"px",(o=(r=this.node)==null?void 0:r.meta)!=null&&o.description&&(this.helpWrapper=document.createElement("div"),this.helpWrapper.innerHTML=`<h3>${e.attributes.name||e.attributes.type}</h3>
<p>${this.node.meta.description}</p>`,this.helpWrapper.classList.add("nodeview-help-wrapper"),this.wrapper.append(this.helpWrapper)),setTimeout(()=>{const{width:a,height:l}=this.wrapper.getBoundingClientRect();this.width=a/this.system.view.s,this.height=l/this.system.view.s,this.updateViewPosition(s,i)},10),this.bindEventListeners()}bindEventListeners(){this.helpWrapper&&this.system.view.on("transform",()=>{const{x:e}=this.wrapper.getBoundingClientRect();e>this.system.view.width/2?(this.wrapper.classList.remove("tooltip-right"),this.wrapper.classList.add("tooltip-left")):(this.wrapper.classList.add("tooltip-right"),this.wrapper.classList.remove("tooltip-left"))},2e3),this.wrapper.addEventListener("mousedown",e=>this.handleMouseDown(e)),this._unsubscribeMouseMove=this.system.view.on("mousemove",e=>this.handleMouseMove(e)),this._unsubscribeMouseUp=this.system.view.on("mouseup",()=>this.handleMouseUp())}removeEventListeners(){this._unsubscribeMouseMove(),this._unsubscribeMouseUp(),this.wrapper.addEventListener("mousedown",e=>this.handleMouseDown(e))}set state(e){this.wrapper.classList.remove("node-active","node-selected","node-dragging"),e==="no-error"&&this.wrapper.classList.remove("node-error"),this.wrapper.classList.add("node-"+e),this._state=e}get state(){return this._state}handleMouseDown(e){var i,r,o,a;if(this.system.view.keyMap.space||e.button===2||e.target!==e.currentTarget)return;e.stopImmediatePropagation(),e.stopPropagation(),this.node.system.view.setActive(this.node,e);const{rmx:t,rmy:s}=this.system.view;this.mDownX=t,this.mDownY=s,this.downX=((r=(i=this.node.attributes)==null?void 0:i.pos)==null?void 0:r.x)||0,this.downY=((a=(o=this.node.attributes)==null?void 0:o.pos)==null?void 0:a.y)||0,this.active=!0,this.system.view.selectedNodes.length&&this.system.view.selectedNodes.forEach(l=>{l.view.active=!0,l.view.mDownX=t,l.view.mDownY=s,l.view.downX=l.view.x,l.view.downY=l.view.y})}handleMouseUp(){this.active=!1,this.hoveredConnection&&(this.hoveredConnection.connection.joinNode(this.node),delete this.hoveredConnection)}showUpdate(){this.wrapper.classList.add("is-updating"),setTimeout(()=>{this.wrapper.classList.remove("is-updating")},200)}handleMouseMove({mx:e,my:t,keys:s}){if(this.active){this.state="dragging";const i=s.ctrlKey?.02:1;let r=this.mDownX-e,o=this.mDownY-t;s.shiftKey&&(Math.abs(r)>Math.abs(o)?o=0:r=0);const a=Math.round((this.downX-r/this.system.view.s)*i)/i,l=Math.round((this.downY-o/this.system.view.s)*i)/i;this.setPosition(a,l)}}updateViewPosition(e=(r=>(r=(i=>(i=(s=>(s=this.node.attributes)==null?void 0:s.pos)())==null?void 0:i.x)())!=null?r:this.x)(),t=(l=>(l=(a=>(a=(o=>(o=this.node.attributes)==null?void 0:o.pos)())==null?void 0:a.y)())!=null?l:this.y)()){this.wrapper.style.left=e+"px",this.wrapper.style.top=t+"px",Object.values(this.node.states).forEach(c=>{var u;return(u=c==null?void 0:c.view)==null?void 0:u.updatePosition()}),this.node.outputs.forEach(c=>c.view.updatePosition())}setPosition(e,t){this.x=e,this.y=t,this.node.setAttributes({pos:{x:e,y:t}}),this.updateViewPosition()}remove(){this.removeEventListeners(),this.wrapper.remove()}}function On(){return"window"in globalThis}const hs=On();function ds(n){const e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}function ci(n){const e=n-1;return e*e*e+1}function fs(n,{delay:e=0,duration:t=400,easing:s=Pi}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*i}`}}function mt(n,{delay:e=0,duration:t=400,easing:s=ci}={}){const i=getComputedStyle(n),r=+i.opacity,o=parseFloat(i.height),a=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),d=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:s,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*r};height: ${h*o}px;padding-top: ${h*a}px;padding-bottom: ${h*l}px;margin-top: ${h*c}px;margin-bottom: ${h*u}px;border-top-width: ${h*d}px;border-bottom-width: ${h*f}px;`}}function ps(n,{delay:e=0,duration:t=400,easing:s=ci,start:i=0,opacity:r=0}={}){const o=getComputedStyle(n),a=+o.opacity,l=o.transform==="none"?"":o.transform,c=1-i,u=a*(1-r);return{delay:e,duration:t,easing:s,css:(d,f)=>`
			transform: ${l} scale(${1-c*f});
			opacity: ${a-u*f}
		`}}var Vn=`<svg version="1.2" baseProfile="tiny" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
	 x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" xml:space="preserve">
</svg>
`,jn=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <title>branch</title>
  <path class="cls-1" d="M49.59,57.35,72.15,38.69"/>
  <path class="cls-1" d="M51.58,29.45,38,11.21"/>
  <path class="cls-1" d="M53.14,82.61,21.78,55.74"/>
  <path class="cls-1" d="M33.46,47.91l4,21"/>
  <polyline class="cls-1" points="56 97 50 58 51 28 56 16"/>
</svg>
`,Dn='<svg id="e7691b6e-31fa-49a4-aaec-be19b623d191" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><style>.b50603dd-20d5-40a2-a0ce-2fdf3b92ec21{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:5px;}</style></defs><title>checkmark</title><path class="b50603dd-20d5-40a2-a0ce-2fdf3b92ec21" d="M75.5,30,40.43,72.47a2,2,0,0,1-3.08,0L24.5,57"/></svg>',An=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
<defs>
</defs>
	<circle  cx="50.37" cy="50.5" r="17.23"/>
  <path  d="M38.07,20.49,32.17,8.05,50.83,4.41l.61,13.8,12.13,2.28L68.73,8.05l14,10.16-9,10L81.17,38.7l12-5.47,3.34,17.3H81.93L80.57,63l12.59,6.37L82.7,83.62l-9-9.86L63.58,81.19l5.15,11.23-17.9,3.64V82.71L38.08,81.19,32.77,92.42,17.44,82.71l10.17-8.35L19.11,63,8.19,69.36,4.4,50.56H17.45l1.67-13.81L8.2,30.84l9.25-13.2,11.08,8.81Z"/>
</svg>
`,Pn=`<svg
  xmlns="http://www.w3.org/2000/svg"
	viewBox="0 0 100 100">
  <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" x1="27.836" y1="72.164" x2="72.164" y2="27.836"/>
  <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" x1="27.836" y1="27.988" x2="72.164" y2="72.012"/>
</svg>
`,$n=`<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M50.552 59.3295L39.0695 13.7056H60.2078L50.552 59.3295Z" stroke-linejoin="round"/>
<path d="M58.4305 77.2411C58.4305 80.8276 55.4725 83.7944 51.7497 83.7944C48.0269 83.7944 45.0688 80.8276 45.0688 77.2411C45.0688 73.6546 48.0269 70.6878 51.7497 70.6878C55.4725 70.6878 58.4305 73.6546 58.4305 77.2411Z"/>
</svg>
`,Bn=`<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">

<defs>
	<style>
		path{
			stroke: white;
			stroke-width: 5px;
		}
	</style>
</defs>

<path d="M23.5167 72.9513V32.1483H82.1056L87.6855 37.0307V76.09L82.1056 78.5312H29.4453L23.5167 72.9513Z" />
<path d="M23.2747 73.6489L12.3145 30.0463L15.8885 21.4688H71.8808L75.693 32.9055" />
<path d="M25.488 43.9781H86.7394" />
</svg>
`,Rn=`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
<path d="M70.5 26.5L77.5 23.5L82 32V69L77.5 82L64.5 92.5H47L32 82L18 46L21 40H27L35 57.5V15.5L39.5 11L45.5 13.5M70.5 26.5L69 15.5L58.5 14M70.5 26.5V57.5M58.5 14L55 8L45.5 13.5M58.5 14V49M45.5 13.5V49" stroke-width="5" fill="none"/>
</svg>
`,Fn=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <style>.cls-1{fill:none;stroke:#fff;stroke-width:5px;}</style>
  </defs>
  <title>leaf</title>
  <path class="cls-1" d="M50.69,96.21,72.86,72.33,77,47,65.91,21.7,50.66,4.5"/>
  <path class="cls-1" d="M53.37,96.21,31.2,72.33,27.07,47,38.15,21.7,53.4,4.5"/>
</svg>`,Hn=`<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M30.2312 46.4809V15.6962L33.3006 8H40.8035L44.3844 11.0785V29.7203H52.9104L55.9798 33.8249H65.0173L68.0867 38.9557L76.2717 40.1529L79 56.0583L73.7139 72.9899L66.8931 93H36.5405L30.2312 75.5553L20 60.334L21.7052 50.2435L30.2312 46.4809ZM30.2312 46.4809V58.1107M44.3844 29.3783V46.3099M56.4913 34.5091V46.3099M68.7688 39.2978V50.4145" stroke="white" stroke-width="5"/>
</svg>
`,Un=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <style>.cls-1{fill:none;stroke:#fff;stroke-width:5px;}</style>
  </defs>
  <title>stem</title>
  <path class="cls-1" d="M49,95.5l8.66-23.19L43.24,46.07l10.59-21L43.24,4.5"/>
</svg>`,Wn=`<svg
  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" xml:space="preserve">
  <polygon fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" points="33.5,73.759 33.5,26.241 67.441,50 "/>
</svg>
`,zn=`<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M54.7631 15.1799L91.7944 79.3201C93.9114 82.9867 91.2652 87.5701 87.0313 87.5701H12.9687C8.73476 87.5701 6.08857 82.9867 8.20552 79.3201L45.2368 15.1799C47.3538 11.5133 52.6462 11.5133 54.7631 15.1799Z" stroke="white" stroke-width="5" stroke-linejoin="round"/>
<ellipse cx="50.0578" cy="73.7787" rx="5.98166" ry="5.89858" fill="white"/>
<path d="M52.9755 60.2707C52.5275 63.7615 47.4723 63.7615 47.0243 60.2707L43.5981 33.5748C43.3678 31.781 44.7652 30.1929 46.5736 30.1929L53.4261 30.1929C55.2346 30.1929 56.6319 31.781 56.4017 33.5748L52.9755 60.2707Z" fill="white"/>
</svg>
`,Xn=`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
<path d="M32.7792 25.4477L45.6598 15.6472L61.6205 20.4075L67.2208 32.728L54.3402 46.4486L50.9801 59.3291V63.9218" stroke-width="8"/>
<path d="M47.3642 83.3434L44.983 79.0169L46.821 74.3331L51.3861 73.0881L55.5363 75.0446L56.307 80.8548L52.3347 84.3528L47.3642 83.3434Z" />
</svg>

`,Yn=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M42 88.5V80V63.5L32 55L26 39.5L32 24.5L46 15L67.5 19L78 30.5V51.5L65 66.5V76V88.5L59.5 94.5H46L42 88.5Z"/>
<path d="M42 74L64.5 83" />
<path d="M42.5 82.5L63 91" />
<path d="M42 70L67 71"/>
<path d="M51.5 69.5L49.5 58.5L43.5 51.5L60.5 50.5L59 57.5L58 71.5" />
<path d="M55 25.5L64.5 28.5L69 38V44"/>
<path d="M19 28.5L11.5 23.5M35 14L29 4.5M61 10L63 -0.5M78 19.5L90.5 10M85 39.5L92 39"/>
<path d="M22.5 50L14.5 52.5"/>
</svg>
`,qn=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M42 86.5V78V61.5L32 53L26 37.5L32 22.5L46 13L67.5 17L78 28.5V49.5L65 64.5V74V86.5L59.5 92.5H46L42 86.5Z" />
<path d="M42 72L64.5 81" />
<path d="M42.5 80.5L63 89" />
<path d="M42 68L67 69" />
<path d="M51.5 67.5L49.5 56.5L43.5 49.5L60.5 48.5L59 55.5L58 69.5"/>
<path d="M55 23.5L64.5 26.5L69 36V42" />
</svg>
`,ms=Object.freeze(Object.defineProperty({__proto__:null,arrow:Vn,branch:jn,checkmark:Dn,cog:An,cross:Pn,exclamation:$n,folder:Bn,hand:Rn,leaf:Fn,pointing:Hn,stem:Un,triangle:Wn,warning:zn,question:Xn,bulb:Yn,bulb_dark:qn},Symbol.toStringTag,{value:"Module"}));function Zn(n){let e;return{c(){e=M("div"),this.h()},l(t){e=N(t,"DIV",{class:!0});var s=L(e);s.forEach(v),this.h()},h(){p(e,"class","icon-wrapper svelte-vatcjz"),R(e,"active",n[0]),R(e,"dark",n[1]),R(e,"circle",n[2])},m(t,s){C(t,e,s),e.innerHTML=n[3]},p(t,[s]){s&8&&(e.innerHTML=t[3]),s&1&&R(e,"active",t[0]),s&2&&R(e,"dark",t[1]),s&4&&R(e,"circle",t[2])},i:F,o:F,d(t){t&&v(e)}}}function Kn(n,e,t){let s,{name:i="triangle"}=e,{active:r=!1}=e,{dark:o=!1}=e,{circle:a=!1}=e;return n.$$set=l=>{"name"in l&&t(4,i=l.name),"active"in l&&t(0,r=l.active),"dark"in l&&t(1,o=l.dark),"circle"in l&&t(2,a=l.circle)},n.$$.update=()=>{n.$$.dirty&16&&t(3,s=i in ms?ms[i]:i.toString()+" icon not found")},[r,o,a,s,i]}class Pt extends ae{constructor(e){super(),le(this,e,Kn,Zn,ce,{name:4,active:0,dark:1,circle:2})}}function vs(n){let e,t,s,i;const r=[Jn,Gn],o=[];function a(l,c){return l[7]?0:1}return e=a(n),t=o[e]=r[e](n),{c(){t.c(),s=J()},l(l){t.l(l),s=J()},m(l,c){o[e].m(l,c),C(l,s,c),i=!0},p(l,c){let u=e;e=a(l),e===u?o[e].p(l,c):(te(),A(o[u],1,1,()=>{o[u]=null}),se(),t=o[e],t?t.p(l,c):(t=o[e]=r[e](l),t.c()),O(t,1),t.m(s.parentNode,s))},i(l){i||(O(t),i=!0)},o(l){A(t),i=!1},d(l){o[e].d(l),l&&v(s)}}}function Gn(n){let e;return{c(){e=M("plant-icon"),this.h()},l(t){e=N(t,"PLANT-ICON",{name:!0,active:!0,class:!0}),L(e).forEach(v),this.h()},h(){be(e,"name",n[1]),be(e,"active",n[0]),be(e,"class","svelte-rinkpy")},m(t,s){C(t,e,s)},p(t,s){s&2&&be(e,"name",t[1]),s&1&&be(e,"active",t[0])},i:F,o:F,d(t){t&&v(e)}}}function Jn(n){let e,t,s;return e=new Pt({props:{name:n[1],active:n[0]}}),{c(){t=M("div"),ie(e.$$.fragment),this.h()},l(i){t=N(i,"DIV",{style:!0});var r=L(t);ue(e.$$.fragment,r),this.h()},h(){q(t,"display","contents"),q(t,"--width","25px")},m(i,r){C(i,t,r),ne(e,t,null),s=!0},p(i,r){const o={};r&2&&(o.name=i[1]),r&1&&(o.active=i[0]),e.$set(o)},i(i){s||(O(e.$$.fragment,i),s=!0)},o(i){A(e.$$.fragment,i),s=!1},d(i){i&&v(t),re(e,i)}}}function ys(n){let e,t;return{c(){e=M("p"),t=K(n[2]),this.h()},l(s){e=N(s,"P",{class:!0});var i=L(e);t=G(i,n[2]),i.forEach(v),this.h()},h(){p(e,"class","svelte-rinkpy")},m(s,i){C(s,e,i),_(e,t)},p(s,i){i&4&&fe(t,s[2])},d(s){s&&v(e)}}}function Qn(n){let e,t,s,i,r,o,a,l,c=n[1]&&vs(n),u=n[2]&&ys(n);const d=n[10].default,f=ii(d,n,n[9],null);return{c(){e=M("div"),t=M("button"),c&&c.c(),s=U(),u&&u.c(),i=U(),r=M("div"),f&&f.c(),this.h()},l(h){e=N(h,"DIV",{class:!0});var m=L(e);t=N(m,"BUTTON",{class:!0});var y=L(t);c&&c.l(y),s=W(y),u&&u.l(y),i=W(y),r=N(y,"DIV",{class:!0});var g=L(r);f&&f.l(g),g.forEach(v),y.forEach(v),m.forEach(v),this.h()},h(){p(r,"class","content svelte-rinkpy"),t.disabled=n[5],p(t,"class","svelte-rinkpy"),R(t,"active",n[0]),R(t,"invert",n[4]),R(t,"useActive",n[3]),R(t,"only-icon",!n[2]),R(t,"has-icon",!!n[1]),p(e,"class","component-wrapper svelte-rinkpy")},m(h,m){C(h,e,m),_(e,t),c&&c.m(t,null),_(t,s),u&&u.m(t,null),_(t,i),_(t,r),f&&f.m(r,null),n[11](t),o=!0,a||(l=B(t,"click",n[8]),a=!0)},p(h,[m]){h[1]?c?(c.p(h,m),m&2&&O(c,1)):(c=vs(h),c.c(),O(c,1),c.m(t,s)):c&&(te(),A(c,1,1,()=>{c=null}),se()),h[2]?u?u.p(h,m):(u=ys(h),u.c(),u.m(t,i)):u&&(u.d(1),u=null),f&&f.p&&(!o||m&512)&&ni(f,d,h,h[9],o?oi(d,h[9],m,null):ri(h[9]),null),(!o||m&32)&&(t.disabled=h[5]),m&1&&R(t,"active",h[0]),m&16&&R(t,"invert",h[4]),m&8&&R(t,"useActive",h[3]),m&4&&R(t,"only-icon",!h[2]),m&2&&R(t,"has-icon",!!h[1])},i(h){o||(O(c),O(f,h),o=!0)},o(h){A(c),A(f,h),o=!1},d(h){h&&v(e),c&&c.d(),u&&u.d(),f&&f.d(h),n[11](null),a=!1,l()}}}function er(n,e,t){let s,{$$slots:i={},$$scope:r}=e,{icon:o=void 0}=e,{name:a=""}=e,{active:l=!1}=e,{useActive:c=!1}=e,{invert:u=!1}=e,{disabled:d=!1}=e,f;const h=Le(),m=()=>{t(0,l=!l),h("click")};function y(g){Ce[g?"unshift":"push"](()=>{f=g,t(6,f)})}return n.$$set=g=>{"icon"in g&&t(1,o=g.icon),"name"in g&&t(2,a=g.name),"active"in g&&t(0,l=g.active),"useActive"in g&&t(3,c=g.useActive),"invert"in g&&t(4,u=g.invert),"disabled"in g&&t(5,d=g.disabled),"$$scope"in g&&t(9,r=g.$$scope)},n.$$.update=()=>{n.$$.dirty&64&&t(7,s=f&&!!f.parentElement)},[l,o,a,c,u,d,f,s,m,r,i,y]}class Ke extends ae{constructor(e){super(),le(this,e,er,Qn,ce,{icon:1,name:2,active:0,useActive:3,invert:4,disabled:5})}}var ui={exports:{}},lt=1;function tr(){return lt=(lt*9301+49297)%233280,lt/233280}function sr(n){lt=n}var ir={nextValue:tr,seed:sr},St=ir,Ve="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",Te,ws,Xe;function Tt(){Xe=!1}function hi(n){if(!n){Te!==Ve&&(Te=Ve,Tt());return}if(n!==Te){if(n.length!==Ve.length)throw new Error("Custom alphabet for shortid must be "+Ve.length+" unique characters. You submitted "+n.length+" characters: "+n);var e=n.split("").filter(function(t,s,i){return s!==i.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+Ve.length+" unique characters. These characters were not unique: "+e.join(", "));Te=n,Tt()}}function nr(n){return hi(n),Te}function rr(n){St.seed(n),ws!==n&&(Tt(),ws=n)}function or(){Te||hi(Ve);for(var n=Te.split(""),e=[],t=St.nextValue(),s;n.length>0;)t=St.nextValue(),s=Math.floor(t*n.length),e.push(n.splice(s,1)[0]);return e.join("")}function di(){return Xe||(Xe=or(),Xe)}function ar(n){var e=di();return e[n]}function lr(){return Te||Ve}var $t={get:lr,characters:nr,seed:rr,lookup:ar,shuffled:di},Et=typeof window=="object"&&(window.crypto||window.msCrypto),Ct;!Et||!Et.getRandomValues?Ct=function(n){for(var e=[],t=0;t<n;t++)e.push(Math.floor(Math.random()*256));return e}:Ct=function(n){return Et.getRandomValues(new Uint8Array(n))};var cr=Ct,ur=function(n,e,t){for(var s=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*s*t/e.length),r="";;)for(var o=n(i),a=i;a--;)if(r+=e[o[a]&s]||"",r.length===+t)return r},hr=$t,dr=cr,fr=ur;function pr(n){for(var e=0,t,s="";!t;)s=s+fr(dr,hr.get(),1),t=n<Math.pow(16,e+1),e++;return s}var mr=pr,rt=mr,vr=1567752802062,yr=7,ot,gs;function wr(n){var e="",t=Math.floor((Date.now()-vr)*.001);return t===gs?ot++:(ot=0,gs=t),e=e+rt(yr),e=e+rt(n),ot>0&&(e=e+rt(ot)),e=e+rt(t),e}var gr=wr,_r=$t;function br(n){if(!n||typeof n!="string"||n.length<6)return!1;var e=new RegExp("[^"+_r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!e.test(n)}var kr=br;(function(n){var e=$t,t=gr,s=kr,i=0;function r(c){return e.seed(c),n.exports}function o(c){return i=c,n.exports}function a(c){return c!==void 0&&e.characters(c),e.shuffled()}function l(){return t(i)}n.exports=l,n.exports.generate=l,n.exports.seed=r,n.exports.worker=o,n.exports.characters=a,n.exports.isValid=s})(ui);var fi=ui.exports,ve=(n=>(n.INFO="info",n.WARNING="warning",n.ERROR="error",n.SUCCESS="success",n))(ve||{});const Er=n=>(e,t={})=>{var o;if(!e&&!t)return;const s=Array.isArray(t==null?void 0:t.values),i={id:fi(),type:ve.INFO,content:e,props:t.props,title:(o=t==null?void 0:t.title)!=null?o:t==null?void 0:t.type,values:t==null?void 0:t.values,timeout:t==null?void 0:t.timeout},r=new Promise((a,l)=>{i.resolve=a,i.reject=()=>a(void 0)});if(r.finally(()=>n.update(a=>a.filter(l=>l.id!==i.id))),t&&"type"in t){const a=t.type.toLowerCase();Object.values(ve).forEach(l=>{a===l&&(i.type=l)})}if(e instanceof Error&&(i.type=ve.ERROR),typeof i.timeout=="undefined"){let a;i.type===ve.SUCCESS&&(a=3e3),i.type===ve.INFO&&(a=2e3),i.type===ve.WARNING&&(a=7e3),a&&!s&&(i.timeout=a)}return"title"in i||(i.title=i.type.toUpperCase().slice(0,1)+i.type.slice(1)),n.update(a=>[...a,i]),i.timeout&&setTimeout(i.resolve,i.timeout),r};var pi=()=>{const n=gt([]),e=Er(n);return{store:n,createMessage:e,MessageType:ve}};const{store:Lr,createMessage:xr,MessageType:Na}=pi(),Mr=Lr,Sa=xr;function _s(n,e,t){const s=n.slice();return s[7]=e[t],s}function bs(n){let e,t,s,i,r,o,a,l,c,u,d,f,h,m;i=new Ke({props:{icon:"cross"}}),i.$on("click",n[4]);let y=n[0].title&&ks(n);const g=[Sr,Nr],E=[];function j(b,I){return typeof b[0].content=="string"?0:1}l=j(n),c=E[l]=g[l](n);let x=n[0].values&&Es(n);return{c(){e=M("div"),t=M("div"),s=M("div"),r=M("div"),ie(i.$$.fragment),o=U(),y&&y.c(),a=U(),c.c(),u=U(),x&&x.c(),this.h()},l(b){e=N(b,"DIV",{class:!0});var I=L(e);t=N(I,"DIV",{class:!0});var k=L(t);s=N(k,"DIV",{class:!0});var D=L(s);r=N(D,"DIV",{style:!0});var S=L(r);ue(i.$$.fragment,S),D.forEach(v),o=W(k),y&&y.l(k),a=W(k),c.l(k),u=W(k),x&&x.l(k),k.forEach(v),I.forEach(v),this.h()},h(){q(r,"display","contents"),q(r,"--foreground-color","transparent"),p(s,"class","close-wrapper svelte-3vp4n3"),p(t,"class",d="alert-wrapper alert-"+n[0].type+" svelte-3vp4n3"),R(t,"isInverted",n[1]),p(e,"class","alert-container svelte-3vp4n3")},m(b,I){C(b,e,I),_(e,t),_(t,s),_(s,r),ne(i,r,null),_(t,o),y&&y.m(t,null),_(t,a),E[l].m(t,null),_(t,u),x&&x.m(t,null),m=!0},p(b,I){b[0].title?y?y.p(b,I):(y=ks(b),y.c(),y.m(t,a)):y&&(y.d(1),y=null);let k=l;l=j(b),l===k?E[l].p(b,I):(te(),A(E[k],1,1,()=>{E[k]=null}),se(),c=E[l],c?c.p(b,I):(c=E[l]=g[l](b),c.c()),O(c,1),c.m(t,u)),b[0].values?x?(x.p(b,I),I&1&&O(x,1)):(x=Es(b),x.c(),O(x,1),x.m(t,null)):x&&(te(),A(x,1,1,()=>{x=null}),se()),(!m||I&1&&d!==(d="alert-wrapper alert-"+b[0].type+" svelte-3vp4n3"))&&p(t,"class",d),I&3&&R(t,"isInverted",b[1])},i(b){m||(O(i.$$.fragment,b),O(c),O(x),ut(()=>{f||(f=Se(t,ps,{},!0)),f.run(1)}),ut(()=>{h||(h=Se(e,fs,{},!0)),h.run(1)}),m=!0)},o(b){A(i.$$.fragment,b),A(c),A(x),f||(f=Se(t,ps,{},!1)),f.run(0),h||(h=Se(e,fs,{},!1)),h.run(0),m=!1},d(b){b&&v(e),re(i),y&&y.d(),E[l].d(),x&&x.d(),b&&f&&f.end(),b&&h&&h.end()}}}function ks(n){let e,t=n[0].title+"",s;return{c(){e=M("h2"),s=K(t),this.h()},l(i){e=N(i,"H2",{class:!0});var r=L(e);s=G(r,t),r.forEach(v),this.h()},h(){p(e,"class","svelte-3vp4n3")},m(i,r){C(i,e,r),_(e,s)},p(i,r){r&1&&t!==(t=i[0].title+"")&&fe(s,t)},d(i){i&&v(e)}}}function Nr(n){let e,t,s;const i=[n[0].props];var r=n[0].content;function o(a){let l={};for(let c=0;c<i.length;c+=1)l=Ri(l,i[c]);return{props:l}}return r&&(e=new r(o()),e.$on("close",n[5])),{c(){e&&ie(e.$$.fragment),t=J()},l(a){e&&ue(e.$$.fragment,a),t=J()},m(a,l){e&&ne(e,a,l),C(a,t,l),s=!0},p(a,l){const c=l&1?$i(i,[Bi(a[0].props)]):{};if(r!==(r=a[0].content)){if(e){te();const u=e;A(u.$$.fragment,1,0,()=>{re(u,1)}),se()}r?(e=new r(o()),e.$on("close",a[5]),ie(e.$$.fragment),O(e.$$.fragment,1),ne(e,t.parentNode,t)):e=null}else r&&e.$set(c)},i(a){s||(e&&O(e.$$.fragment,a),s=!0)},o(a){e&&A(e.$$.fragment,a),s=!1},d(a){a&&v(t),e&&re(e,a)}}}function Sr(n){let e,t=n[0].content+"";return{c(){e=M("p")},l(s){e=N(s,"P",{});var i=L(e);i.forEach(v)},m(s,i){C(s,e,i),e.innerHTML=t},p(s,i){i&1&&t!==(t=s[0].content+"")&&(e.innerHTML=t)},i:F,o:F,d(s){s&&v(e)}}}function Es(n){let e,t,s=n[0].values,i=[];for(let o=0;o<s.length;o+=1)i[o]=Ls(_s(n,s,o));const r=o=>A(i[o],1,1,()=>{i[o]=null});return{c(){e=M("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=N(o,"DIV",{class:!0});var a=L(e);for(let l=0;l<i.length;l+=1)i[l].l(a);a.forEach(v),this.h()},h(){p(e,"class","options-wrapper svelte-3vp4n3")},m(o,a){C(o,e,a);for(let l=0;l<i.length;l+=1)i[l].m(e,null);t=!0},p(o,a){if(a&1){s=o[0].values;let l;for(l=0;l<s.length;l+=1){const c=_s(o,s,l);i[l]?(i[l].p(c,a),O(i[l],1)):(i[l]=Ls(c),i[l].c(),O(i[l],1),i[l].m(e,null))}for(te(),l=s.length;l<i.length;l+=1)r(l);se()}},i(o){if(!t){for(let a=0;a<s.length;a+=1)O(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)A(i[a]);t=!1},d(o){o&&v(e),Ee(i,o)}}}function Ls(n){let e,t,s;function i(){return n[6](n[7])}return e=new Ke({props:{name:n[7]}}),e.$on("click",i),{c(){t=M("div"),ie(e.$$.fragment),this.h()},l(r){t=N(r,"DIV",{style:!0});var o=L(t);ue(e.$$.fragment,o),this.h()},h(){q(t,"display","contents"),q(t,"--bg","#303030"),q(t,"--text","white"),q(t,"--margin","0 10px 0 0")},m(r,o){C(r,t,o),ne(e,t,null),s=!0},p(r,o){n=r;const a={};o&1&&(a.name=n[7]),e.$set(a)},i(r){s||(O(e.$$.fragment,r),s=!0)},o(r){A(e.$$.fragment,r),s=!1},d(r){r&&v(t),re(e,r)}}}function Tr(n){let e,t,s,i,r=n[0]&&bs(n);return{c(){r&&r.c(),e=J()},l(o){r&&r.l(o),e=J()},m(o,a){r&&r.m(o,a),C(o,e,a),t=!0,s||(i=B(window,"keydown",n[2]),s=!0)},p(o,[a]){o[0]?r?(r.p(o,a),a&1&&O(r,1)):(r=bs(o),r.c(),O(r,1),r.m(e.parentNode,e)):r&&(te(),A(r,1,1,()=>{r=null}),se())},i(o){t||(O(r),t=!0)},o(o){A(r),t=!1},d(o){r&&r.d(o),o&&v(e),s=!1,i()}}}function Cr(n,e,t){let s,i,r;yt(n,Mr,u=>t(3,r=u));function o(u){u.key==="Escape"&&s&&s.reject()}const a=()=>{s.reject()},l=()=>s.resolve(!1),c=u=>s.resolve(u);return n.$$.update=()=>{n.$$.dirty&8&&t(0,s=r[0]),n.$$.dirty&1&&(s?hs&&document.body.classList.add("overlay-visible"):hs&&document.body.classList.remove("overlay-visible")),n.$$.dirty&1&&t(1,i=s&&(s.type==="success"||s.type==="warning"))},[s,i,o,r,a,l,c]}class Ir extends ae{constructor(e){super(),le(this,e,Cr,Tr,ce,{})}}const{store:Or,createMessage:Vr}=pi(),jr=Or,Ta=Vr;function xs(n,e,t){const s=n.slice();return s[1]=e[t],s}function Ms(n){let e,t,s,i=n[0].type+"",r,o,a,l=n[0].title+"",c,u,d,f,h,m,y,g,E=n[0].lines,j=[];for(let x=0;x<E.length;x+=1)j[x]=Ns(xs(n,E,x));return{c(){e=M("div"),t=M("p"),s=M("b"),r=K(i),o=K(":"),a=U(),c=K(l),u=U(),d=M("pre"),f=K("    "),h=M("code"),m=K(`
      `);for(let x=0;x<j.length;x+=1)j[x].c();y=K(`
    `),g=K(`
  `),this.h()},l(x){e=N(x,"DIV",{class:!0});var b=L(e);t=N(b,"P",{});var I=L(t);s=N(I,"B",{});var k=L(s);r=G(k,i),o=G(k,":"),k.forEach(v),a=W(I),c=G(I,l),I.forEach(v),u=W(b),d=N(b,"PRE",{class:!0});var D=L(d);f=G(D,"    "),h=N(D,"CODE",{});var S=L(h);m=G(S,`
      `);for(let z=0;z<j.length;z+=1)j[z].l(S);y=G(S,`
    `),S.forEach(v),g=G(D,`
  `),D.forEach(v),b.forEach(v),this.h()},h(){p(d,"class","svelte-pl1jfp"),p(e,"class","wrapper svelte-pl1jfp")},m(x,b){C(x,e,b),_(e,t),_(t,s),_(s,r),_(s,o),_(t,a),_(t,c),_(e,u),_(e,d),_(d,f),_(d,h),_(h,m);for(let I=0;I<j.length;I+=1)j[I].m(h,null);_(h,y),_(d,g)},p(x,b){if(b&1&&i!==(i=x[0].type+"")&&fe(r,i),b&1&&l!==(l=x[0].title+"")&&fe(c,l),b&1){E=x[0].lines;let I;for(I=0;I<E.length;I+=1){const k=xs(x,E,I);j[I]?j[I].p(k,b):(j[I]=Ns(k),j[I].c(),j[I].m(h,y))}for(;I<j.length;I+=1)j[I].d(1);j.length=E.length}},d(x){x&&v(e),Ee(j,x)}}}function Ns(n){let e,t,s=n[1].methodName+"",i,r,o,a=n[1].file+"",l,c;return{c(){e=K("at "),t=M("strong"),i=K(s),r=K(" "),o=M("i"),l=K(a),c=M("br")},l(u){e=G(u,"at "),t=N(u,"STRONG",{});var d=L(t);i=G(d,s),d.forEach(v),r=G(u," "),o=N(u,"I",{});var f=L(o);l=G(f,a),f.forEach(v),c=N(u,"BR",{})},m(u,d){C(u,e,d),C(u,t,d),_(t,i),C(u,r,d),C(u,o,d),_(o,l),C(u,c,d)},p(u,d){d&1&&s!==(s=u[1].methodName+"")&&fe(i,s),d&1&&a!==(a=u[1].file+"")&&fe(l,a)},d(u){u&&v(e),u&&v(t),u&&v(r),u&&v(o),u&&v(c)}}}function Dr(n){let e,t=n[0]&&Ms(n);return{c(){t&&t.c(),e=J()},l(s){t&&t.l(s),e=J()},m(s,i){t&&t.m(s,i),C(s,e,i)},p(s,[i]){s[0]?t?t.p(s,i):(t=Ms(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(s){t&&t.d(s),s&&v(e)}}}function Ar(n,e,t){let{stacktrace:s}=e;return n.$$set=i=>{"stacktrace"in i&&t(0,s=i.stacktrace)},[s]}class Pr extends ae{constructor(e){super(),le(this,e,Ar,Dr,ce,{stacktrace:0})}}function Ss(n,e,t){const s=n.slice();return s[13]=e[t],s}function Ts(n){let e,t,s,i,r,o,a,l,c,u,d,f,h,m,y,g,E,j,x,b,I,k,D=n[6]&&Cs(n),S=n[0].title&&Is(n);const z=[Rr,Br,$r],X=[];function pe($,Z){return typeof $[0].content=="string"?0:$[0].content instanceof Error?1:$[0].content instanceof Fi?2:-1}~(a=pe(n))&&(l=X[a]=z[a](n));let H=n[0].content instanceof Error&&Vs(n),Y=n[0].values&&js(n);return m=new Pt({props:{name:"cross",dark:n[5]}}),{c(){e=M("div"),t=M("div"),s=M("div"),D&&D.c(),i=U(),r=M("div"),S&&S.c(),o=U(),l&&l.c(),c=U(),u=M("div"),H&&H.c(),d=U(),Y&&Y.c(),f=U(),h=M("div"),y=M("div"),ie(m.$$.fragment),g=U(),E=M("div"),this.h()},l($){e=N($,"DIV",{class:!0});var Z=L(e);t=N(Z,"DIV",{class:!0});var ye=L(t);s=N(ye,"DIV",{class:!0});var me=L(s);D&&D.l(me),i=W(me),r=N(me,"DIV",{class:!0});var Me=L(r);S&&S.l(Me),o=W(Me),l&&l.l(Me),c=W(Me),u=N(Me,"DIV",{class:!0});var De=L(u);H&&H.l(De),d=W(De),Y&&Y.l(De),De.forEach(v),Me.forEach(v),f=W(me),h=N(me,"DIV",{class:!0});var Ae=L(h);y=N(Ae,"DIV",{style:!0});var Ge=L(y);ue(m.$$.fragment,Ge),Ae.forEach(v),me.forEach(v),g=W(ye),E=N(ye,"DIV",{style:!0,class:!0}),L(E).forEach(v),ye.forEach(v),Z.forEach(v),this.h()},h(){p(u,"class","button-wrapper svelte-11jarjr"),p(r,"class","toast-text svelte-11jarjr"),q(y,"display","contents"),q(y,"--width","fit-content"),p(h,"class","toast-close svelte-11jarjr"),p(s,"class","toast-content svelte-11jarjr"),R(s,"hasIcon",!!n[6]),p(E,"style",j=`transition: width ${n[0].timeout}ms linear;`),p(E,"class","toast-progress svelte-11jarjr"),R(E,"animateProgress",n[2]),p(t,"class",x="toast toast-"+n[0].type+" svelte-11jarjr"),R(t,"isInverted",n[5]),p(e,"class","wrapper svelte-11jarjr")},m($,Z){C($,e,Z),_(e,t),_(t,s),D&&D.m(s,null),_(s,i),_(s,r),S&&S.m(r,null),_(r,o),~a&&X[a].m(r,null),_(r,c),_(r,u),H&&H.m(u,null),_(u,d),Y&&Y.m(u,null),_(s,f),_(s,h),_(h,y),ne(m,y,null),_(t,g),_(t,E),n[11](e),b=!0,I||(k=B(h,"click",n[10]),I=!0)},p($,Z){$[6]?D?(D.p($,Z),Z&64&&O(D,1)):(D=Cs($),D.c(),O(D,1),D.m(s,i)):D&&(te(),A(D,1,1,()=>{D=null}),se()),$[0].title?S?S.p($,Z):(S=Is($),S.c(),S.m(r,o)):S&&(S.d(1),S=null);let ye=a;a=pe($),a===ye?~a&&X[a].p($,Z):(l&&(te(),A(X[ye],1,1,()=>{X[ye]=null}),se()),~a?(l=X[a],l?l.p($,Z):(l=X[a]=z[a]($),l.c()),O(l,1),l.m(r,c)):l=null),$[0].content instanceof Error?H?(H.p($,Z),Z&1&&O(H,1)):(H=Vs($),H.c(),O(H,1),H.m(u,d)):H&&(te(),A(H,1,1,()=>{H=null}),se()),$[0].values?Y?(Y.p($,Z),Z&1&&O(Y,1)):(Y=js($),Y.c(),O(Y,1),Y.m(u,null)):Y&&(te(),A(Y,1,1,()=>{Y=null}),se());const me={};Z&32&&(me.dark=$[5]),m.$set(me),Z&64&&R(s,"hasIcon",!!$[6]),(!b||Z&1&&j!==(j=`transition: width ${$[0].timeout}ms linear;`))&&p(E,"style",j),Z&4&&R(E,"animateProgress",$[2]),(!b||Z&1&&x!==(x="toast toast-"+$[0].type+" svelte-11jarjr"))&&p(t,"class",x),Z&33&&R(t,"isInverted",$[5])},i($){b||(O(D),O(l),O(H),O(Y),O(m.$$.fragment,$),b=!0)},o($){A(D),A(l),A(H),A(Y),A(m.$$.fragment,$),b=!1},d($){$&&v(e),D&&D.d(),S&&S.d(),~a&&X[a].d(),H&&H.d(),Y&&Y.d(),re(m),n[11](null),I=!1,k()}}}function Cs(n){let e,t,s,i;return t=new Pt({props:{name:n[6],dark:n[5],circle:!0}}),{c(){e=M("div"),s=M("div"),ie(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=L(e);s=N(o,"DIV",{style:!0});var a=L(s);ue(t.$$.fragment,a),o.forEach(v),this.h()},h(){q(s,"display","contents"),q(s,"--width","40px"),q(s,"--height","40px"),p(e,"class","toast-icon svelte-11jarjr")},m(r,o){C(r,e,o),_(e,s),ne(t,s,null),i=!0},p(r,o){const a={};o&64&&(a.name=r[6]),o&32&&(a.dark=r[5]),t.$set(a)},i(r){i||(O(t.$$.fragment,r),i=!0)},o(r){A(t.$$.fragment,r),i=!1},d(r){r&&v(e),re(t)}}}function Is(n){let e,t=n[0].title+"",s;return{c(){e=M("h3"),s=K(t),this.h()},l(i){e=N(i,"H3",{class:!0});var r=L(e);s=G(r,t),r.forEach(v),this.h()},h(){p(e,"class","svelte-11jarjr")},m(i,r){C(i,e,r),_(e,s)},p(i,r){r&1&&t!==(t=i[0].title+"")&&fe(s,t)},d(i){i&&v(e)}}}function $r(n){let e,t,s;var i=n[0].content;function r(o){return{}}return i&&(e=new i(r())),{c(){e&&ie(e.$$.fragment),t=J()},l(o){e&&ue(e.$$.fragment,o),t=J()},m(o,a){e&&ne(e,o,a),C(o,t,a),s=!0},p(o,a){if(i!==(i=o[0].content)){if(e){te();const l=e;A(l.$$.fragment,1,0,()=>{re(l,1)}),se()}i?(e=new i(r()),ie(e.$$.fragment),O(e.$$.fragment,1),ne(e,t.parentNode,t)):e=null}},i(o){s||(e&&O(e.$$.fragment,o),s=!0)},o(o){e&&A(e.$$.fragment,o),s=!1},d(o){o&&v(t),e&&re(e,o)}}}function Br(n){let e,t=n[0].content.message+"",s,i,r,o,a=n[3]&&Os(n);return{c(){e=M("p"),s=K(t),i=U(),a&&a.c(),r=J(),this.h()},l(l){e=N(l,"P",{class:!0});var c=L(e);s=G(c,t),c.forEach(v),i=W(l),a&&a.l(l),r=J(),this.h()},h(){p(e,"class","svelte-11jarjr")},m(l,c){C(l,e,c),_(e,s),C(l,i,c),a&&a.m(l,c),C(l,r,c),o=!0},p(l,c){(!o||c&1)&&t!==(t=l[0].content.message+"")&&fe(s,t),l[3]?a?(a.p(l,c),c&8&&O(a,1)):(a=Os(l),a.c(),O(a,1),a.m(r.parentNode,r)):a&&(te(),A(a,1,1,()=>{a=null}),se())},i(l){o||(O(a),o=!0)},o(l){A(a),o=!1},d(l){l&&v(e),l&&v(i),a&&a.d(l),l&&v(r)}}}function Rr(n){let e,t=n[0].content+"";return{c(){e=M("p"),this.h()},l(s){e=N(s,"P",{class:!0});var i=L(e);i.forEach(v),this.h()},h(){p(e,"class","svelte-11jarjr")},m(s,i){C(s,e,i),e.innerHTML=t},p(s,i){i&1&&t!==(t=s[0].content+"")&&(e.innerHTML=t)},i:F,o:F,d(s){s&&v(e)}}}function Os(n){let e,t,s,i;return t=new Pr({props:{stacktrace:ls(n[0].content)}}),{c(){e=M("div"),ie(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=L(e);ue(t.$$.fragment,o),o.forEach(v),this.h()},h(){p(e,"class","stack-trace svelte-11jarjr")},m(r,o){C(r,e,o),ne(t,e,null),i=!0},p(r,o){const a={};o&1&&(a.stacktrace=ls(r[0].content)),t.$set(a)},i(r){i||(O(t.$$.fragment,r),ut(()=>{s||(s=Se(e,mt,{},!0)),s.run(1)}),i=!0)},o(r){A(t.$$.fragment,r),s||(s=Se(e,mt,{},!1)),s.run(0),i=!1},d(r){r&&v(e),re(t),r&&s&&s.end()}}}function Vs(n){let e,t,s;return e=new Ke({props:{invert:n[5],name:"> StackTrace"}}),e.$on("click",n[7]),{c(){t=M("div"),ie(e.$$.fragment),this.h()},l(i){t=N(i,"DIV",{style:!0});var r=L(t);ue(e.$$.fragment,r),this.h()},h(){q(t,"display","contents"),q(t,"--margin","5px 10px 5px 0px"),q(t,"--bg","transparent")},m(i,r){C(i,t,r),ne(e,t,null),s=!0},p(i,r){const o={};r&32&&(o.invert=i[5]),e.$set(o)},i(i){s||(O(e.$$.fragment,i),s=!0)},o(i){A(e.$$.fragment,i),s=!1},d(i){i&&v(t),re(e,i)}}}function js(n){let e,t,s=n[0].values,i=[];for(let o=0;o<s.length;o+=1)i[o]=Ds(Ss(n,s,o));const r=o=>A(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=J()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);e=J()},m(o,a){for(let l=0;l<i.length;l+=1)i[l].m(o,a);C(o,e,a),t=!0},p(o,a){if(a&17){s=o[0].values;let l;for(l=0;l<s.length;l+=1){const c=Ss(o,s,l);i[l]?(i[l].p(c,a),O(i[l],1)):(i[l]=Ds(c),i[l].c(),O(i[l],1),i[l].m(e.parentNode,e))}for(te(),l=s.length;l<i.length;l+=1)r(l);se()}},i(o){if(!t){for(let a=0;a<s.length;a+=1)O(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)A(i[a]);t=!1},d(o){Ee(i,o),o&&v(e)}}}function Fr(n){let e,t,s;function i(){return n[9](n[13])}return e=new Ke({props:{invert:!0,name:n[13]}}),e.$on("click",i),{c(){t=M("div"),ie(e.$$.fragment),this.h()},l(r){t=N(r,"DIV",{style:!0});var o=L(t);ue(e.$$.fragment,o),this.h()},h(){q(t,"display","contents"),q(t,"--height","fit-content"),q(t,"--white-space","break-spaces"),q(t,"--margin","5px 10px 5px 0")},m(r,o){C(r,t,o),ne(e,t,null),s=!0},p(r,o){n=r;const a={};o&1&&(a.name=n[13]),e.$set(a)},i(r){s||(O(e.$$.fragment,r),s=!0)},o(r){A(e.$$.fragment,r),s=!1},d(r){r&&v(t),re(e,r)}}}function Hr(n){let e,t,s,i;function r(){return n[8](n[13])}return{c(){e=M("plant-button"),this.h()},l(o){e=N(o,"PLANT-BUTTON",{name:!0}),L(e).forEach(v),this.h()},h(){be(e,"name",t=n[13])},m(o,a){C(o,e,a),s||(i=B(e,"click",r),s=!0)},p(o,a){n=o,a&1&&t!==(t=n[13])&&be(e,"name",t)},i:F,o:F,d(o){o&&v(e),s=!1,i()}}}function Ds(n){let e,t,s,i,r;const o=[Hr,Fr],a=[];function l(c,u){return c[4]?0:1}return t=l(n),s=a[t]=o[t](n),{c(){e=M("div"),s.c(),i=U(),this.h()},l(c){e=N(c,"DIV",{class:!0});var u=L(e);s.l(u),i=W(u),u.forEach(v),this.h()},h(){p(e,"class","button-spacer svelte-11jarjr")},m(c,u){C(c,e,u),a[t].m(e,null),_(e,i),r=!0},p(c,u){let d=t;t=l(c),t===d?a[t].p(c,u):(te(),A(a[d],1,1,()=>{a[d]=null}),se(),s=a[t],s?s.p(c,u):(s=a[t]=o[t](c),s.c()),O(s,1),s.m(e,i))},i(c){r||(O(s),r=!0)},o(c){A(s),r=!1},d(c){c&&v(e),a[t].d()}}}function Ur(n){let e,t,s=n[0]&&Ts(n);return{c(){s&&s.c(),e=J()},l(i){s&&s.l(i),e=J()},m(i,r){s&&s.m(i,r),C(i,e,r),t=!0},p(i,[r]){i[0]?s?(s.p(i,r),r&1&&O(s,1)):(s=Ts(i),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(te(),A(s,1,1,()=>{s=null}),se())},i(i){t||(O(s),t=!0)},o(i){A(s),t=!1},d(i){s&&s.d(i),i&&v(e)}}}function Wr(n,e,t){let s,i,{toast:r}=e,o=!1,a=!1;function l(){if(r.type===ve.ERROR)return"warning";if(r.type===ve.SUCCESS)return"checkmark";if(r.type===ve.WARNING)return"exclamation"}let c=!1,u;Vt(()=>{setTimeout(()=>{t(2,o=!0)},10)});const d=()=>{t(3,a=!a)},f=g=>r.resolve(g),h=g=>r.resolve(g),m=()=>r.reject();function y(g){Ce[g?"unshift":"push"](()=>{u=g,t(1,u)})}return n.$$set=g=>{"toast"in g&&t(0,r=g.toast)},n.$$.update=()=>{n.$$.dirty&1&&t(6,s=r&&l()),n.$$.dirty&1&&t(5,i=r&&(r.type==="success"||r.type==="warning"||r.type==="error")),n.$$.dirty&2&&t(4,c=u&&!u.parentElement)},[r,u,o,a,c,i,s,d,f,h,m,y]}class zr extends ae{constructor(e){super(),le(this,e,Wr,Ur,ce,{toast:0})}}function As(n,e,t){const s=n.slice();return s[4]=e[t],s}function Xr(n){let e,t;return e=new zr({props:{toast:n[4]}}),{c(){ie(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,i){ne(e,s,i),t=!0},p(s,i){const r={};i&4&&(r.toast=s[4]),e.$set(r)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){A(e.$$.fragment,s),t=!1},d(s){re(e,s)}}}function Yr(n){let e,t;return{c(){e=M("plant-toast"),this.h()},l(s){e=N(s,"PLANT-TOAST",{toast:!0}),L(e).forEach(v),this.h()},h(){be(e,"toast",t=n[4])},m(s,i){C(s,e,i)},p(s,i){i&4&&t!==(t=s[4])&&be(e,"toast",t)},i:F,o:F,d(s){s&&v(e)}}}function Ps(n,e){let t,s,i,r,o,a;const l=[Yr,Xr],c=[];function u(d,f){return d[0]?0:1}return s=u(e),i=c[s]=l[s](e),{key:n,first:null,c(){t=M("div"),i.c(),r=U(),this.h()},l(d){t=N(d,"DIV",{});var f=L(t);i.l(f),r=W(f),f.forEach(v),this.h()},h(){this.first=t},m(d,f){C(d,t,f),c[s].m(t,null),_(t,r),a=!0},p(d,f){e=d;let h=s;s=u(e),s===h?c[s].p(e,f):(te(),A(c[h],1,1,()=>{c[h]=null}),se(),i=c[s],i?i.p(e,f):(i=c[s]=l[s](e),i.c()),O(i,1),i.m(t,r))},i(d){a||(O(i),ut(()=>{o||(o=Se(t,mt,{easing:ds},!0)),o.run(1)}),a=!0)},o(d){A(i),o||(o=Se(t,mt,{easing:ds},!1)),o.run(0),a=!1},d(d){d&&v(t),c[s].d(),d&&o&&o.end()}}}function qr(n){let e,t=[],s=new Map,i,r=n[2];const o=a=>a[4].id;for(let a=0;a<r.length;a+=1){let l=As(n,r,a),c=o(l);s.set(c,t[a]=Ps(c,l))}return{c(){e=M("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=N(a,"DIV",{id:!0,class:!0});var l=L(e);for(let c=0;c<t.length;c+=1)t[c].l(l);l.forEach(v),this.h()},h(){p(e,"id","toast-wrapper"),p(e,"class","svelte-1ujlok7")},m(a,l){C(a,e,l);for(let c=0;c<t.length;c+=1)t[c].m(e,null);n[3](e),i=!0},p(a,[l]){l&5&&(r=a[2],te(),t=Hi(t,l,o,1,a,r,s,e,Ui,Ps,null,As),se())},i(a){if(!i){for(let l=0;l<r.length;l+=1)O(t[l]);i=!0}},o(a){for(let l=0;l<t.length;l+=1)A(t[l]);i=!1},d(a){a&&v(e);for(let l=0;l<t.length;l+=1)t[l].d();n[3](null)}}}function Zr(n,e,t){let s;yt(n,jr,a=>t(2,s=a));let i=!1,r;Vt(function(){t(0,i=!r.parentElement)});function o(a){Ce[a?"unshift":"push"](()=>{r=a,t(1,r)})}return[i,r,s,o]}class Kr extends ae{constructor(e){super(),le(this,e,Zr,qr,ce,{})}}function Gr(n){let e,t,s,i,r,o,a,l,c,u,d;return{c(){e=M("div"),t=M("input"),s=U(),i=M("label"),r=Q("svg"),o=Q("title"),a=K("cross"),l=Q("line"),c=Q("line"),this.h()},l(f){e=N(f,"DIV",{class:!0});var h=L(e);t=N(h,"INPUT",{type:!0,id:!0,class:!0}),s=W(h),i=N(h,"LABEL",{class:!0,for:!0});var m=L(i);r=ee(m,"svg",{xmlns:!0,viewBox:!0,class:!0});var y=L(r);o=ee(y,"title",{class:!0});var g=L(o);a=G(g,"cross"),g.forEach(v),l=ee(y,"line",{"vector-effect":!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),L(l).forEach(v),c=ee(y,"line",{"vector-effect":!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),L(c).forEach(v),y.forEach(v),m.forEach(v),h.forEach(v),this.h()},h(){p(t,"type","checkbox"),p(t,"id",n[1]),p(t,"class","svelte-ra9mrk"),p(o,"class","svelte-ra9mrk"),p(l,"vector-effect","non-scaling-stroke"),p(l,"x1","0"),p(l,"y1","100"),p(l,"x2","100"),p(l,"y2","0"),p(l,"class","svelte-ra9mrk"),p(c,"vector-effect","non-scaling-stroke"),p(c,"x1","0"),p(c,"y1","0"),p(c,"x2","100"),p(c,"y2","100"),p(c,"class","svelte-ra9mrk"),p(r,"xmlns","http://www.w3.org/2000/svg"),p(r,"viewBox","0 0 100 100"),p(r,"class","svelte-ra9mrk"),p(i,"class","checkbox-label svelte-ra9mrk"),p(i,"for",n[1]),p(e,"class","component-wrapper svelte-ra9mrk")},m(f,h){C(f,e,h),_(e,t),t.checked=n[0],_(e,s),_(e,i),_(i,r),_(r,o),_(o,a),_(r,l),_(r,c),u||(d=B(t,"change",n[2]),u=!0)},p(f,[h]){h&2&&p(t,"id",f[1]),h&1&&(t.checked=f[0]),h&2&&p(i,"for",f[1])},i:F,o:F,d(f){f&&v(e),u=!1,d()}}}function Jr(n,e,t){const s=Le();let{value:i=!1}=e,{id:r=fi()}=e;function o(){i=this.checked,t(0,i)}return n.$$set=a=>{"value"in a&&t(0,i=a.value),"id"in a&&t(1,r=a.id)},n.$$.update=()=>{n.$$.dirty&1&&i!==void 0&&s("change",!!i)},[i,r,o]}class Qr extends ae{constructor(e){super(),le(this,e,Jr,Gr,ce,{value:0,id:1})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),oe()}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),oe()}}/**
 * Convert a series of points to a monotone cubic spline
 * Algorithm based on https://github.com/mbostock/d3
 * https://github.com/yr/monotone-cubic-spline
 * @copyright Yr
 * @license MIT
 */var eo=1e-6,$s={points:function(e){var t=to(e),s=e[1],i=e[0],r=[],o=t[1],a=t[0];r.push(i,[i[0]+a[0],i[1]+a[1],s[0]-o[0],s[1]-o[1],s[0],s[1]]);for(var l=2,c=t.length;l<c;l++){var u=e[l],d=t[l];r.push([u[0]-d[0],u[1]-d[1],u[0],u[1]])}return r},slice:function(e,t,s){var i=e.slice(t,s);if(t){if(i[1].length<6){var r=i[0].length;i[1]=[i[0][r-2]*2-i[0][r-4],i[0][r-1]*2-i[0][r-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i},svgPath:function(e){for(var t="",s=0;s<e.length;s++){var i=e[s],r=i.length;s?r>4?(t+="C"+i[0]+", "+i[1],t+=", "+i[2]+", "+i[3],t+=", "+i[4]+", "+i[5]):(t+="S"+i[0]+", "+i[1],t+=", "+i[2]+", "+i[3]):t+="M"+i[r-2]+" "+i[r-1]}return t}};function to(n){for(var e=so(n),t=n.length-1,s=[],i=void 0,r=void 0,o=void 0,a=void 0,l=0;l<t;l++)o=It(n[l],n[l+1]),Math.abs(o)<eo?e[l]=e[l+1]=0:(i=e[l]/o,r=e[l+1]/o,a=i*i+r*r,a>9&&(a=o*3/Math.sqrt(a),e[l]=a*i,e[l+1]=a*r));for(var c=0;c<=t;c++)a=(n[Math.min(t,c+1)][0]-n[Math.max(0,c-1)][0])/(6*(1+e[c]*e[c])),s.push([a||0,e[c]*a||0]);return s}function It(n,e){return(e[1]-n[1])/(e[0]-n[0])}function so(n){for(var e=[],t=n[0],s=n[1],i=e[0]=It(t,s),r=1,o=n.length-1;r<o;r++)t=s,s=n[r+1],e[r]=(i+(i=It(t,s)))*.5;return e[r]=i,e}function Bs(n,e,t){const s=n.slice();return s[19]=e[t],s[21]=t,s}function Rs(n,e,t){const s=n.slice();return s[19]=e[t],s}function Fs(n){let e,t,s,i,r;function o(){return n[10](n[19])}return{c(){e=Q("circle"),this.h()},l(a){e=ee(a,"circle",{cx:!0,cy:!0,r:!0,class:!0}),L(e).forEach(v),this.h()},h(){p(e,"cx",t=n[19].x*100),p(e,"cy",s=n[19].y*100),p(e,"r","2"),p(e,"class","svelte-1hhavr7"),R(e,"pinned",n[19].pinned)},m(a,l){C(a,e,l),i||(r=B(e,"mousedown",o),i=!0)},p(a,l){n=a,l&1&&t!==(t=n[19].x*100)&&p(e,"cx",t),l&1&&s!==(s=n[19].y*100)&&p(e,"cy",s),l&1&&R(e,"pinned",n[19].pinned)},d(a){a&&v(e),i=!1,r()}}}function io(n){let e,t,s,i,r;return{c(){e=Q("line"),this.h()},l(o){e=ee(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),L(e).forEach(v),this.h()},h(){p(e,"x1",t=n[3][n[21]-1].x*100),p(e,"y1",s=n[3][n[21]-1].y*100),p(e,"x2",i=n[19].x*100),p(e,"y2",r=n[19].y*100),p(e,"class","svelte-1hhavr7")},m(o,a){C(o,e,a)},p:F,d(o){o&&v(e)}}}function Hs(n){let e,t,s,i=n[21]>0&&n[21]%2===0&&io(n);return{c(){i&&i.c(),e=Q("circle"),this.h()},l(r){i&&i.l(r),e=ee(r,"circle",{cx:!0,cy:!0,r:!0,class:!0}),L(e).forEach(v),this.h()},h(){p(e,"cx",t=n[19].x*100),p(e,"cy",s=n[19].y*100),p(e,"r","1"),p(e,"class","svelte-1hhavr7"),R(e,"pinned",n[19].pinned)},m(r,o){i&&i.m(r,o),C(r,e,o)},p(r,o){r[21]>0&&r[21]%2===0&&i.p(r,o)},d(r){i&&i.d(r),r&&v(e)}}}function no(n){let e,t,s,i,r,o,a=n[0],l=[];for(let d=0;d<a.length;d+=1)l[d]=Fs(Rs(n,a,d));let c=n[3],u=[];for(let d=0;d<c.length;d+=1)u[d]=Hs(Bs(n,c,d));return{c(){e=M("div"),t=Q("svg"),s=Q("path");for(let d=0;d<l.length;d+=1)l[d].c();i=Q("g");for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=N(d,"DIV",{class:!0});var f=L(e);t=ee(f,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var h=L(t);s=ee(h,"path",{d:!0,fill:!0,stroke:!0,class:!0}),L(s).forEach(v);for(let y=0;y<l.length;y+=1)l[y].l(h);i=ee(h,"g",{id:!0,class:!0});var m=L(i);for(let y=0;y<u.length;y+=1)u[y].l(m);m.forEach(v),h.forEach(v),f.forEach(v),this.h()},h(){p(s,"d",n[2]),p(s,"fill","none"),p(s,"stroke","grey"),p(s,"class","svelte-1hhavr7"),p(i,"id","debug"),p(i,"class","svelte-1hhavr7"),p(t,"viewBox","0 0 100 100"),p(t,"width","100"),p(t,"height","100"),p(t,"class","svelte-1hhavr7"),p(e,"class","component-wrapper svelte-1hhavr7")},m(d,f){C(d,e,f),_(e,t),_(t,s);for(let h=0;h<l.length;h+=1)l[h].m(t,null);_(t,i);for(let h=0;h<u.length;h+=1)u[h].m(i,null);r||(o=[B(t,"mousedown",n[5]),B(t,"mousemove",n[4]),B(t,"mouseover",n[7]),B(t,"mouseout",n[8]),B(t,"mouseup",n[6]),B(t,"focus",n[7]),B(t,"blur",n[8])],r=!0)},p(d,[f]){if(f&4&&p(s,"d",d[2]),f&3){a=d[0];let h;for(h=0;h<a.length;h+=1){const m=Rs(d,a,h);l[h]?l[h].p(m,f):(l[h]=Fs(m),l[h].c(),l[h].m(t,i))}for(;h<l.length;h+=1)l[h].d(1);l.length=a.length}if(f&8){c=d[3];let h;for(h=0;h<c.length;h+=1){const m=Bs(d,c,h);u[h]?u[h].p(m,f):(u[h]=Hs(m),u[h].c(),u[h].m(i,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}},i:F,o:F,d(d){d&&v(e),Ee(l,d),Ee(u,d),r=!1,We(o)}}}function ro(n,e,t){let s,i;const r=Le();let{value:o=[{x:0,y:1,pinned:!0},{x:1,y:0,pinned:!0}]}=e,a=!1,l,c,u=0,d=0,f=[];const h=()=>{requestAnimationFrame(()=>{r("change",s),t(0,s=s.sort((k,D)=>k.x>D.x?-1:1))})},m=k=>{k.pinned||(s.splice(s.indexOf(l),1),h())},y=k=>{a&&(u=k.offsetX,d=k.offsetY,l&&(c=l,t(1,l=void 0)),c&&(c.x=u/100,c.y=d/100,h()))},g=()=>{if(!l){const k={x:u/100,y:d/100,pinned:!1};t(1,l=k),s.push(l),h()}},E=()=>{l&&(m(l),t(1,l=void 0)),c=void 0},j=()=>{a=!0},x=()=>{a=!1};function b(k){const D=$s.points(k.map(S=>[S.x*100,S.y*100]));return $s.svgPath(D)}const I=k=>{t(1,l=k)};return n.$$set=k=>{"value"in k&&t(9,o=k.value)},n.$$.update=()=>{n.$$.dirty&512&&t(0,s=o),n.$$.dirty&1&&t(2,i=b(s))},[s,l,i,f,y,g,E,j,x,o,I]}class oo extends ae{constructor(e){super(),le(this,e,ro,no,ce,{value:9})}get value(){return this.$$.ctx[9]}set value(e){this.$$set({value:e}),oe()}}function Us(n){let e,t;return{c(){e=M("span"),this.h()},l(s){e=N(s,"SPAN",{class:!0,style:!0}),L(e).forEach(v),this.h()},h(){p(e,"class","overlay svelte-14cj8jq"),p(e,"style",t=`width: ${(n[0]-n[1])/(n[2]-n[1])*100}%`)},m(s,i){C(s,e,i)},p(s,i){i&7&&t!==(t=`width: ${(s[0]-s[1])/(s[2]-s[1])*100}%`)&&p(e,"style",t)},d(s){s&&v(e)}}}function ao(n){let e,t,s,i,r,o,a,l,c,u,d,f,h=typeof n[1]!="undefined"&&typeof n[2]!="undefined"&&Us(n);return{c(){e=M("div"),h&&h.c(),t=U(),s=M("button"),i=K("-"),r=U(),o=M("input"),l=U(),c=M("button"),u=K("+"),this.h()},l(m){e=N(m,"DIV",{class:!0});var y=L(e);h&&h.l(y),t=W(y),s=N(y,"BUTTON",{class:!0});var g=L(s);i=G(g,"-"),g.forEach(v),r=W(y),o=N(y,"INPUT",{step:!0,max:!0,min:!0,type:!0,style:!0,class:!0}),l=W(y),c=N(y,"BUTTON",{class:!0});var E=L(c);u=G(E,"+"),E.forEach(v),y.forEach(v),this.h()},h(){p(s,"class","svelte-14cj8jq"),p(o,"step",n[3]),p(o,"max",n[2]),p(o,"min",n[1]),p(o,"type","number"),p(o,"style",a=`width:${n[5]};`),p(o,"class","svelte-14cj8jq"),p(c,"class","svelte-14cj8jq"),p(e,"class","component-wrapper svelte-14cj8jq")},m(m,y){C(m,e,y),h&&h.m(e,null),_(e,t),_(e,s),_(s,i),_(e,r),_(e,o),He(o,n[0]),n[11](o),_(e,l),_(e,c),_(c,u),d||(f=[B(s,"click",n[9]),B(o,"input",n[10]),B(o,"mousedown",n[7]),B(o,"mouseup",n[8]),B(c,"click",n[12])],d=!0)},p(m,[y]){typeof m[1]!="undefined"&&typeof m[2]!="undefined"?h?h.p(m,y):(h=Us(m),h.c(),h.m(e,t)):h&&(h.d(1),h=null),y&8&&p(o,"step",m[3]),y&4&&p(o,"max",m[2]),y&2&&p(o,"min",m[1]),y&32&&a!==(a=`width:${m[5]};`)&&p(o,"style",a),y&1&&wt(o.value)!==m[0]&&He(o,m[0])},i:F,o:F,d(m){m&&v(e),h&&h.d(),n[11](null),d=!1,We(f)}}}function lo(n,e,t){let s,i;const r=Le();let{min:o=-1/0}=e,{max:a=1/0}=e,{step:l=1}=e,{value:c=0}=e;c||(c=0);let u;function d(k){t(0,c=Math.max(o,Math.min(+c+k,a)))}let f=0,h=0,m;function y(k){k.preventDefault(),h=c,f=k.clientX,m=u.getBoundingClientRect(),window.removeEventListener("mousemove",E),window.addEventListener("mousemove",E),window.addEventListener("mouseup",g),document.body.style.cursor="ew-resize"}function g(){h===c?u.focus():u.blur(),document.body.style.cursor="unset",window.removeEventListener("mouseup",g),window.removeEventListener("mousemove",E)}function E(k){if(s){const D=(k.clientX-m.left)/m.width;t(0,c=Math.max(Math.min(Math.floor(o+(a-o)*D),a),o))}else{const D=k.clientX-f;t(0,c=h+Math.floor(D/10))}}const j=()=>d(-l);function x(){c=wt(this.value),t(0,c)}function b(k){Ce[k?"unshift":"push"](()=>{u=k,t(4,u)})}const I=()=>d(+l);return n.$$set=k=>{"min"in k&&t(1,o=k.min),"max"in k&&t(2,a=k.max),"step"in k&&t(3,l=k.step),"value"in k&&t(0,c=k.value)},n.$$.update=()=>{var k;n.$$.dirty&6&&(s=typeof o!="undefined"&&typeof a!="undefined"&&Number.isFinite(o)&&Number.isFinite(a)),n.$$.dirty&1&&c!==void 0&&r("change",parseFloat(c+"")),n.$$.dirty&1&&t(5,i=Number.isFinite(c)?Math.max(((k=c==null?void 0:c.toString().length)!=null?k:1)*8,30)+"px":"20px")},[c,o,a,l,u,i,d,y,g,j,x,b,I]}class Ws extends ae{constructor(e){super(),le(this,e,lo,ao,ce,{min:1,max:2,step:3,value:0})}get min(){return this.$$.ctx[1]}set min(e){this.$$set({min:e}),oe()}get max(){return this.$$.ctx[2]}set max(e){this.$$set({max:e}),oe()}get step(){return this.$$.ctx[3]}set step(e){this.$$set({step:e}),oe()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),oe()}}function co(n){let e,t,s,i,r,o,a,l;return{c(){e=M("div"),t=M("span"),i=U(),r=M("input"),this.h()},l(c){e=N(c,"DIV",{class:!0});var u=L(e);t=N(u,"SPAN",{class:!0,style:!0}),L(t).forEach(v),i=W(u),r=N(u,"INPUT",{step:!0,max:!0,min:!0,type:!0,style:!0,class:!0}),u.forEach(v),this.h()},h(){p(t,"class","overlay svelte-1srgbo4"),p(t,"style",s=`width: ${(n[0]-n[1])/(n[2]-n[1])*100}%`),p(r,"step",n[3]),p(r,"max",n[2]),p(r,"min",n[1]),p(r,"type","number"),p(r,"style",o=`width:${n[6]};`),p(r,"class","svelte-1srgbo4"),p(e,"class","component-wrapper svelte-1srgbo4"),R(e,"is-down",n[5])},m(c,u){C(c,e,u),_(e,t),_(e,i),_(e,r),He(r,n[0]),n[10](r),a||(l=[B(r,"input",n[9]),B(r,"mousedown",n[7]),B(r,"mouseup",n[8])],a=!0)},p(c,[u]){u&7&&s!==(s=`width: ${(c[0]-c[1])/(c[2]-c[1])*100}%`)&&p(t,"style",s),u&8&&p(r,"step",c[3]),u&4&&p(r,"max",c[2]),u&2&&p(r,"min",c[1]),u&64&&o!==(o=`width:${c[6]};`)&&p(r,"style",o),u&1&&wt(r.value)!==c[0]&&He(r,c[0]),u&32&&R(e,"is-down",c[5])},i:F,o:F,d(c){c&&v(e),n[10](null),a=!1,We(l)}}}function uo(n){return parseFloat(n).toPrecision(2)}function ho(n,e,t){let s,{value:i=.5}=e,{step:r=.01}=e,{min:o=0}=e,{max:a=1}=e;const l=Le();let c,u=!1,d=0,f=0,h=0,m;function y(b){b.preventDefault(),t(5,u=!0),f=i,d=b.clientY,m=c.getBoundingClientRect(),window.removeEventListener("mousemove",E),window.addEventListener("mousemove",E),window.addEventListener("mouseup",g),document.body.style.cursor="ew-resize"}function g(){t(5,u=!1),f===i&&c.focus(),i<o&&t(1,o=i),i>a&&t(2,a=i),document.body.style.cursor="unset",window.removeEventListener("mouseup",g),window.removeEventListener("mousemove",E)}function E(b){if(h=(b.clientX-m.left)/m.width,b.clientY-d,b.ctrlKey){let I=o+(a-o)*h;t(0,i=I)}else t(0,i=Math.max(Math.min(o+(a-o)*h,a),o))}function j(){i=wt(this.value),t(0,i)}function x(b){Ce[b?"unshift":"push"](()=>{c=b,t(4,c)})}return n.$$set=b=>{"value"in b&&t(0,i=b.value),"step"in b&&t(3,r=b.step),"min"in b&&t(1,o=b.min),"max"in b&&t(2,a=b.max)},n.$$.update=()=>{var b;n.$$.dirty&1&&(i||0).toString().length>5&&t(0,i=uo(i||0)),n.$$.dirty&1&&i!==void 0&&l("change",parseFloat(i+"")),n.$$.dirty&1&&t(6,s=Number.isFinite(i)?Math.max(((b=i==null?void 0:i.toString().length)!=null?b:1)*8,50)+"px":"20px")},[i,o,a,r,c,u,s,y,g,j,x]}class zs extends ae{constructor(e){super(),le(this,e,ho,co,ce,{value:0,step:3,min:1,max:2})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),oe()}get step(){return this.$$.ctx[3]}set step(e){this.$$set({step:e}),oe()}get min(){return this.$$.ctx[1]}set min(e){this.$$set({min:e}),oe()}get max(){return this.$$.ctx[2]}set max(e){this.$$set({max:e}),oe()}}function Xs(n,e,t){const s=n.slice();return s[7]=e[t],s}function Ys(n){let e,t=n[7]+"",s,i,r,o,a;function l(){return n[5](n[7])}return{c(){e=M("p"),s=K(t),i=U(),this.h()},l(c){e=N(c,"P",{style:!0,class:!0});var u=L(e);s=G(u,t),i=W(u),u.forEach(v),this.h()},h(){p(e,"style",r=`opacity: ${n[7]===n[0]?.5:1}`),p(e,"class","item svelte-3ixr9b"),R(e,"selected",n[0]===n[7])},m(c,u){C(c,e,u),_(e,s),_(e,i),o||(a=B(e,"click",l),o=!0)},p(c,u){n=c,u&2&&t!==(t=n[7]+"")&&fe(s,t),u&3&&r!==(r=`opacity: ${n[7]===n[0]?.5:1}`)&&p(e,"style",r),u&3&&R(e,"selected",n[0]===n[7])},d(c){c&&v(e),o=!1,a()}}}function fo(n){let e,t,s=n[1],i=[];for(let r=0;r<s.length;r+=1)i[r]=Ys(Xs(n,s,r));return{c(){e=M("div"),t=M("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=N(r,"DIV",{class:!0});var o=L(e);t=N(o,"DIV",{id:!0,class:!0});var a=L(t);for(let l=0;l<i.length;l+=1)i[l].l(a);a.forEach(v),o.forEach(v),this.h()},h(){p(t,"id","main"),p(t,"class","svelte-3ixr9b"),p(e,"class","component-wrapper svelte-3ixr9b")},m(r,o){C(r,e,o),_(e,t);for(let a=0;a<i.length;a+=1)i[a].m(t,null)},p(r,[o]){if(o&7){s=r[1];let a;for(a=0;a<s.length;a+=1){const l=Xs(r,s,a);i[a]?i[a].p(l,o):(i[a]=Ys(l),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}},i:F,o:F,d(r){r&&v(e),Ee(i,r)}}}function po(n,e,t){const s=Le();let{value:i=void 0}=e;function r(u){t(0,i=u),open=!1}let{values:o=[]}=e;function a(u){t(1,o=u)}function l(u){t(0,i=u)}const c=u=>r(u);return n.$$set=u=>{"value"in u&&t(0,i=u.value),"values"in u&&t(1,o=u.values)},n.$$.update=()=>{n.$$.dirty&1&&i&&s("change",i)},[i,o,r,a,l,c]}class mo extends ae{constructor(e){super(),le(this,e,po,fo,ce,{value:0,values:1,setItems:3,setValue:4})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),oe()}get values(){return this.$$.ctx[1]}set values(e){this.$$set({values:e}),oe()}get setItems(){return this.$$.ctx[3]}get setValue(){return this.$$.ctx[4]}}function qs(n,e,t){const s=n.slice();return s[11]=e[t],s}function vo(n){let e,t,s,i;return{c(){e=M("div"),t=K("none"),this.h()},l(r){e=N(r,"DIV",{id:!0,class:!0});var o=L(e);t=G(o,"none"),o.forEach(v),this.h()},h(){p(e,"id","selected-value"),p(e,"class","svelte-1t3rhtn")},m(r,o){C(r,e,o),_(e,t),s||(i=B(e,"click",n[4]),s=!0)},p:F,d(r){r&&v(e),s=!1,i()}}}function yo(n){let e,t,s,i;return{c(){e=M("div"),t=K(n[0]),this.h()},l(r){e=N(r,"DIV",{id:!0,class:!0});var o=L(e);t=G(o,n[0]),o.forEach(v),this.h()},h(){p(e,"id","selected-value"),p(e,"class","svelte-1t3rhtn")},m(r,o){C(r,e,o),_(e,t),s||(i=B(e,"click",n[4]),s=!0)},p(r,o){o&1&&fe(t,r[0])},d(r){r&&v(e),s=!1,i()}}}function Zs(n){let e,t=n[11]+"",s,i,r,o,a;function l(){return n[8](n[11])}return{c(){e=M("p"),s=K(t),i=U(),this.h()},l(c){e=N(c,"P",{style:!0,class:!0});var u=L(e);s=G(u,t),i=W(u),u.forEach(v),this.h()},h(){p(e,"style",r=`opacity: ${n[11]===n[0]?.5:1}`),p(e,"class","item svelte-1t3rhtn")},m(c,u){C(c,e,u),_(e,s),_(e,i),o||(a=B(e,"click",l),o=!0)},p(c,u){n=c,u&2&&t!==(t=n[11]+"")&&fe(s,t),u&3&&r!==(r=`opacity: ${n[11]===n[0]?.5:1}`)&&p(e,"style",r)},d(c){c&&v(e),o=!1,a()}}}function Ks(n){let e,t=n[11]!==n[0]&&Zs(n);return{c(){t&&t.c(),e=J()},l(s){t&&t.l(s),e=J()},m(s,i){t&&t.m(s,i),C(s,e,i)},p(s,i){s[11]!==s[0]?t?t.p(s,i):(t=Zs(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&v(e)}}}function wo(n){let e,t,s,i;function r(u,d){return u[0]!==void 0?yo:vo}let o=r(n),a=o(n),l=n[1],c=[];for(let u=0;u<l.length;u+=1)c[u]=Ks(qs(n,l,u));return{c(){e=M("div"),t=M("div"),a.c(),s=U(),i=M("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=N(u,"DIV",{class:!0});var d=L(e);t=N(d,"DIV",{id:!0,class:!0});var f=L(t);a.l(f),s=W(f),i=N(f,"DIV",{id:!0,class:!0});var h=L(i);for(let m=0;m<c.length;m+=1)c[m].l(h);h.forEach(v),f.forEach(v),d.forEach(v),this.h()},h(){p(i,"id","item-wrapper"),p(i,"class","svelte-1t3rhtn"),p(t,"id","main"),p(t,"class","svelte-1t3rhtn"),p(e,"class","component-wrapper svelte-1t3rhtn"),R(e,"open",n[2])},m(u,d){C(u,e,d),_(e,t),a.m(t,null),_(t,s),_(t,i);for(let f=0;f<c.length;f+=1)c[f].m(i,null);n[9](t)},p(u,[d]){if(o===(o=r(u))&&a?a.p(u,d):(a.d(1),a=o(u),a&&(a.c(),a.m(t,s))),d&35){l=u[1];let f;for(f=0;f<l.length;f+=1){const h=qs(u,l,f);c[f]?c[f].p(h,d):(c[f]=Ks(h),c[f].c(),c[f].m(i,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=l.length}d&4&&R(e,"open",u[2])},i:F,o:F,d(u){u&&v(e),a.d(),Ee(c,u),n[9](null)}}}function go(n,e,t){const s=Le();let{value:i=void 0}=e,r=!1,o;function a(){t(2,r=!0),setTimeout(()=>{document.addEventListener("click",()=>{t(2,r=!1)},{once:!0})},50)}function l(m){t(0,i=m),t(2,r=!1)}let{values:c=[]}=e;function u(m){t(1,c=m)}function d(m){t(0,i=m)}const f=m=>l(m);function h(m){Ce[m?"unshift":"push"](()=>{o=m,t(3,o)})}return n.$$set=m=>{"value"in m&&t(0,i=m.value),"values"in m&&t(1,c=m.values)},n.$$.update=()=>{n.$$.dirty&1&&i&&s("change",i)},[i,c,r,o,a,l,u,d,f,h]}class _o extends ae{constructor(e){super(),le(this,e,go,wo,ce,{value:0,values:1,setItems:6,setValue:7})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),oe()}get values(){return this.$$.ctx[1]}set values(e){this.$$set({values:e}),oe()}get setItems(){return this.$$.ctx[6]}get setValue(){return this.$$.ctx[7]}}function Gs(n,e,t){const s=n.slice();return s[19]=e[t],s}function Js(n){let e,t,s,i,r;function o(){return n[9](n[19])}return{c(){e=Q("circle"),this.h()},l(a){e=ee(a,"circle",{cx:!0,cy:!0,r:!0,class:!0}),L(e).forEach(v),this.h()},h(){p(e,"cx",t=n[19].x*100),p(e,"cy",s=n[19].y*200-50),p(e,"r","4"),p(e,"class","svelte-1b0v1ro"),R(e,"pinned",n[19].pinned)},m(a,l){C(a,e,l),i||(r=B(e,"mousedown",o),i=!0)},p(a,l){n=a,l&1&&t!==(t=n[19].x*100)&&p(e,"cx",t),l&1&&s!==(s=n[19].y*200-50)&&p(e,"cy",s),l&1&&R(e,"pinned",n[19].pinned)},d(a){a&&v(e),i=!1,r()}}}function bo(n){let e,t,s,i,r,o,a,l,c,u,d,f,h=n[0],m=[];for(let y=0;y<h.length;y+=1)m[y]=Js(Gs(n,h,y));return{c(){e=M("div"),t=Q("svg"),s=Q("path");for(let y=0;y<m.length;y+=1)m[y].c();i=U(),r=Q("svg"),o=Q("defs"),a=Q("linearGradient"),l=Q("stop"),c=Q("stop"),u=Q("path"),this.h()},l(y){e=N(y,"DIV",{class:!0});var g=L(e);t=ee(g,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var E=L(t);s=ee(E,"path",{d:!0,fill:!0,class:!0}),L(s).forEach(v);for(let I=0;I<m.length;I+=1)m[I].l(E);E.forEach(v),i=W(g),r=ee(g,"svg",{id:!0,viewBox:!0,width:!0,height:!0,class:!0});var j=L(r);o=ee(j,"defs",{class:!0});var x=L(o);a=ee(x,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0});var b=L(a);l=ee(b,"stop",{offset:!0,style:!0,class:!0}),L(l).forEach(v),c=ee(b,"stop",{offset:!0,style:!0,class:!0}),L(c).forEach(v),b.forEach(v),x.forEach(v),u=ee(j,"path",{d:!0,fill:!0,stroke:!0,class:!0}),L(u).forEach(v),j.forEach(v),g.forEach(v),this.h()},h(){p(s,"d",n[2]),p(s,"fill","none"),p(s,"class","left-path svelte-1b0v1ro"),p(t,"viewBox","0 0 100 100"),p(t,"width","50"),p(t,"height","100"),p(t,"class","svelte-1b0v1ro"),p(l,"offset","0%"),q(l,"stop-color","#65E2A0"),q(l,"stop-opacity","1"),p(l,"class","svelte-1b0v1ro"),p(c,"offset","100%"),q(c,"stop-color","#469C6E"),q(c,"stop-opacity","1"),p(c,"class","svelte-1b0v1ro"),p(a,"id","grad1"),p(a,"x1","0%"),p(a,"y1","0%"),p(a,"x2","100%"),p(a,"y2","0%"),p(a,"class","svelte-1b0v1ro"),p(o,"class","svelte-1b0v1ro"),p(u,"d",n[2]),p(u,"fill","url(#grad1)"),p(u,"stroke","grey"),p(u,"class","svelte-1b0v1ro"),p(r,"id","right"),p(r,"viewBox","0 0 100 100"),p(r,"width","50"),p(r,"height","100"),p(r,"class","svelte-1b0v1ro"),p(e,"class","component-wrapper svelte-1b0v1ro")},m(y,g){C(y,e,g),_(e,t),_(t,s);for(let E=0;E<m.length;E+=1)m[E].m(t,null);_(e,i),_(e,r),_(r,o),_(o,a),_(a,l),_(a,c),_(r,u),d||(f=[B(t,"mousedown",n[4]),B(t,"mousemove",n[3]),B(t,"mouseover",n[6]),B(t,"mouseout",n[7]),B(t,"mouseup",n[5]),B(t,"focus",n[6]),B(t,"blur",n[7])],d=!0)},p(y,[g]){if(g&4&&p(s,"d",y[2]),g&3){h=y[0];let E;for(E=0;E<h.length;E+=1){const j=Gs(y,h,E);m[E]?m[E].p(j,g):(m[E]=Js(j),m[E].c(),m[E].m(t,null))}for(;E<m.length;E+=1)m[E].d(1);m.length=h.length}g&4&&p(u,"d",y[2])},i:F,o:F,d(y){y&&v(e),Ee(m,y),d=!1,We(f)}}}function ko(n,e,t){let s,i;const r=Le();let{value:o=[{x:1,y:0,pinned:!0},{x:.5,y:.5,pinned:!0},{x:1,y:1,pinned:!0}]}=e,a=!1,l,c,u=0,d=0;const f=()=>{requestAnimationFrame(()=>{r("change",s),t(0,s=s.sort((k,D)=>k.y>D.y?-1:1))})},h=k=>{k.pinned||(s.splice(s.indexOf(l),1),f())},m=k=>{a&&(u=k.offsetX,d=k.offsetY,l&&(c=l,t(1,l=void 0)),c&&(c.x=u/50,c.y=d/100,f()))},y=()=>{if(!l){const k={x:u/50,y:d/100,pinned:!1};t(1,l=k),s.push(l),f()}},g=()=>{l&&(h(l),t(1,l=void 0)),c=void 0},E=()=>{a=!0},j=()=>{a=!1},x=k=>`L ${k.x*100} ${k.y*200-50}`;function b(k){return k.reduce((D,S,z)=>z===0?`M ${S.x*100},${S.y*200-50}`:`${D} ${x(S)}`,"")}const I=k=>{t(1,l=k)};return n.$$set=k=>{"value"in k&&t(8,o=k.value)},n.$$.update=()=>{n.$$.dirty&256&&t(0,s=o),n.$$.dirty&1&&t(2,i=b(s))},[s,l,i,m,y,g,E,j,o,I]}class Eo extends ae{constructor(e){super(),le(this,e,ko,bo,ce,{value:8})}get value(){return this.$$.ctx[8]}set value(e){this.$$set({value:e}),oe()}}function Qs(n,e,t){const s=n.slice();return s[21]=e[t],s[23]=t,s}function ei(n){let e,t=(n[21].title||n[21].value)+"",s,i,r,o;function a(){return n[14](n[21])}function l(){return n[15](n[21])}function c(){return n[16](n[21])}return{c(){e=M("div"),s=K(t),i=U(),this.h()},l(u){e=N(u,"DIV",{class:!0});var d=L(e);s=G(d,t),i=W(d),d.forEach(v),this.h()},h(){p(e,"class","search-entry svelte-1xpdwt6"),R(e,"focused",n[21].value===n[3])},m(u,d){C(u,e,d),_(e,s),_(e,i),r||(o=[B(e,"focus",a),B(e,"mouseover",l),B(e,"click",c)],r=!0)},p(u,d){n=u,d&16&&t!==(t=(n[21].title||n[21].value)+"")&&fe(s,t),d&24&&R(e,"focused",n[21].value===n[3])},d(u){u&&v(e),r=!1,We(o)}}}function ti(n){let e,t=n[23]<n[0]&&ei(n);return{c(){t&&t.c(),e=J()},l(s){t&&t.l(s),e=J()},m(s,i){t&&t.m(s,i),C(s,e,i)},p(s,i){s[23]<s[0]?t?t.p(s,i):(t=ei(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&v(e)}}}function Lo(n){let e,t,s,i,r,o=n[4],a=[];for(let l=0;l<o.length;l+=1)a[l]=ti(Qs(n,o,l));return{c(){e=M("div"),t=M("input"),s=U();for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=N(l,"DIV",{class:!0});var c=L(e);t=N(c,"INPUT",{type:!0,placeholder:!0,class:!0}),s=W(c);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(v),this.h()},h(){p(t,"type","text"),p(t,"placeholder","Search"),p(t,"class","svelte-1xpdwt6"),p(e,"class","search-wrapper svelte-1xpdwt6")},m(l,c){C(l,e,c),_(e,t),n[12](t),He(t,n[1]),_(e,s);for(let u=0;u<a.length;u+=1)a[u].m(e,null);i||(r=[B(window,"keydown",n[6]),B(t,"input",n[13])],i=!0)},p(l,[c]){if(c&2&&t.value!==l[1]&&He(t,l[1]),c&185){o=l[4];let u;for(u=0;u<o.length;u+=1){const d=Qs(l,o,u);a[u]?a[u].p(d,c):(a[u]=ti(d),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=o.length}},i:F,o:F,d(l){l&&v(e),n[12](null),Ee(a,l),i=!1,We(r)}}}function xo(n,e,t){let s,i;const r=Le(),o={};let{limitAmount:a=10}=e,{values:l=[]}=e,c,u="";function d(S,z){if(!(z!=null&&z.length))return S;const X=S.filter(H=>!!(H.value.includes(z)||H.title&&H.title.toLowerCase().includes(z)));return X.length?(X.find(H=>H.value===i)||t(3,i=X[0].value),X):[{value:"Nothing Found"}]}function f(){c.focus()}function h(){t(1,u="")}function m({value:S=i}={value:i}){o[S]=o[S]+1||1,r("input",S)}function y(S){if(!i.length){t(3,i=s[0].value);return}const z=s.slice(0,a).find(Y=>Y.value===i);if(!z)return;const X=s.indexOf(z),pe=Math.min(s.length,a),H=((X+S)%pe+pe)%pe;t(3,i=s[H].value)}function g({key:S}){S==="Enter"&&i.length&&m(),S==="ArrowDown"&&y(1),S==="ArrowUp"&&y(-1)}function E(S){t(3,i=S.value)}const j=S=>{t(8,l=S)};function x(S){Ce[S?"unshift":"push"](()=>{c=S,t(2,c)})}function b(){u=this.value,t(1,u)}const I=S=>E(S),k=S=>E(S),D=S=>m(S);return n.$$set=S=>{"limitAmount"in S&&t(0,a=S.limitAmount),"values"in S&&t(8,l=S.values)},n.$$.update=()=>{n.$$.dirty&258&&t(4,s=d(l,u.toLowerCase()))},t(3,i=""),[a,u,c,i,s,m,g,E,l,f,h,j,x,b,I,k,D]}class Mo extends ae{constructor(e){super(),le(this,e,xo,Lo,ce,{limitAmount:0,values:8,focus:9,clear:10,setItems:11})}get focus(){return this.$$.ctx[9]}get clear(){return this.$$.ctx[10]}get setItems(){return this.$$.ctx[11]}}function No({target:n,template:e,value:t}){const s=So(e),i=_e(he({},e),{value:t});return delete i.type,delete i.internal,delete i.label,delete i.inputType,new s({target:n,props:i})}function So(n){if(n.type==="select")return n.inputType==="tab"?mo:_o;if(n.type==="curve")return oo;if(n.type==="shape")return Eo;if(n.type==="number"){if(n.inputType){if(n.inputType==="float")return zs;if(n.inputType==="integer")return Ws}return(n==null?void 0:n.step)&&n.step%1!==0?zs:Ws}return Qr}class To{constructor(e){this.nodeState=e,this.wrapper=document.createElement("div"),this.input=document.createElement("div"),this.wrapper.classList.add("node-state-single-wrapper"),this.input.classList.add("node-state-input");const t=e.template,s=t.label||e.key;if(typeof s=="string"){const i=document.createElement("p");i.className="state-label",i.innerHTML=s,this.wrapper.appendChild(i)}(t==null?void 0:t.label)===!1&&this.wrapper.classList.add("hide-label"),!t.external&&t.type!=="*"&&(this.element=No({target:this.input,template:t,value:e.getValue()}),this.element&&this.element.$on("change",({detail:i})=>{typeof i!="undefined"&&!Number.isNaN(i)&&this.nodeState.setValue(i)})),e.node.view.stateWrapper.appendChild(this.wrapper),this.wrapper.appendChild(this.input)}updateValue(){setTimeout(()=>{this.element&&(this.element.value=this.nodeState.getValue())},50)}updatePosition(){var e,t;this.rect=this.wrapper.getBoundingClientRect(),(t=(e=this.nodeState.getInput())==null?void 0:e.view)==null||t.updatePosition()}setErrorState(e){e?this.wrapper.classList.add("state-error"):this.wrapper.classList.remove("state-error")}get y(){return this.rect.y-this.nodeState.node.view.y}get height(){return this.rect.height}setActive(e){this.wrapper.classList[e?"remove":"add"]("disabled"),this.nodeState.node.getInputs().forEach(t=>t.view.updatePosition())}}class Co{constructor(e){if(!e||!e.node)throw new Error("Somethings missing");this.input=e,this.node=e.node,this.wrapper=document.createElement("div"),this.wrapper.classList.add("node-input-wrapper"),e.type.forEach(t=>{this.wrapper.classList.add(`socket-type-${t==="*"?"all":t}`)}),e.state.view.wrapper.appendChild(this.wrapper),this.wrapper.addEventListener("mousedown",async t=>{t.stopPropagation(),t.preventDefault(),this.node.enableUpdates=!1;const s=this.input.connection;s?(s.remove(),await this.node.system.view.createFloatingConnection(s.output)):await this.node.system.view.createFloatingConnection(this.input),this.node.enableUpdates=!0,this.node.update()},!1),this.node.system.view.colorStore.onType(e.type[0],t=>{const s=window.getComputedStyle(this.wrapper,null).getPropertyValue("background-color");this.wrapper.style.setProperty("--socket-color",t),this.wrapper.style.backgroundColor=s!=="rgba(0, 0, 0, 0)"?s:t})}updatePosition(){var e;this.rect=this.wrapper.getBoundingClientRect(),(e=this==null?void 0:this.connection)==null||e.setPosition({x2:this.x,y2:this.y})}remove(){this.wrapper.remove(),this.connection&&this.connection.remove()}set state(e){this.wrapper.classList.forEach(t=>{t.includes("socket-state-")&&this.wrapper.classList.remove(t)}),e&&e.length&&this.wrapper.classList.add("socket-state-"+e)}get x(){return this.node.view.x-3}get y(){const e=this.node.system.view;return(this.rect.y+this.rect.height/2-e.y-e.top)/e.s-e.height/2}}class Ye{constructor(e,t,s){this.state=e,this.key=s,this.node=e.node,this.type=Array.isArray(t)?t:[t]}bindView(){this.view=new Co(this)}removeConnection(){const e=this.connection;delete this.connection,e&&e.remove(),this.node.setStateValue(this.key,void 0),this.state.setIsExternal(!1)}setConnection(e){this.connection&&this.connection.remove(),this.connection=e,this.view&&(this.view.connection=e.view),this.state.setIsExternal(!0)}remove(){this.view&&this.view.remove(),this.removeConnection()}}class Bt extends Ie{constructor(e,t,s){var i;super(),this.node=e,this.key=t,this.template=s,this.isExternal=!1,this.isOkay=!0,this.value=(i=e.state[t])!=null?i:s.value,this.node._state[t]=this.value,this.template.internal||(this.input=new Ye(this,s.type,t))}setIsExternal(e=!1){var t;this.isExternal=e,(t=this==null?void 0:this.view)==null||t.setActive(!e)}getValue(){return this.value}checkErrors(e=this.template.value){var t;((t=this.template)==null?void 0:t.required)&&e===void 0?this.isOkay=!1:this.isOkay=!0,this!=null&&this.view&&this.view.setErrorState(!this.isOkay)}setValue(e=this.template.value){this.isExternal||(this.node.enableUpdates&&this.node.system.history.addAction(),this.value=e),this.node._state[this.key]=e,this.checkErrors(e),this.node.enableUpdates&&(this==null||this.view.updateValue(),this.isOkay&&this.node.update())}remove(){}getInput(){return this.input}bindView(){this.view=new To(this),this.input&&this.input.bindView(),this.checkErrors()}}var Io={title:"Boolean",type:"boolean",outputs:["boolean"],meta:{description:"This is the boolean node"},parameters:{value:{type:"boolean",value:!1}},compute({value:n=!1}){return n}},Oo={title:"Math",type:"math",outputs:["number"],parameters:{mode:{type:"select",internal:!0,label:!1,value:"add",values:["add","multiply","subtract"]},a:{type:"number",value:0,label:!1},b:{type:"number",value:0,label:!1}},compute({mode:n,a:e,b:t}){switch(n){case"multiply":return e*t;case"subtract":return e-t;default:return e+t}}},Vo={title:"Number",type:"number",outputs:["number"],parameters:{value:{type:"number",internal:!0,label:!1,value:0}},compute({value:n=0}){return n}};class jo extends Dt{constructor(e,t){super(e,t),this.states={input:new Bt(this,"input",{type:"*"})},this.outputs=[]}compute({input:e}){return e}}class Do extends At{constructor(e){super(e);const t=document.createElement("div");t.style.color="var(--text-color, white)",e.on("computedData",s=>{t.innerHTML="";const i=document.createElement("p");i.innerHTML=JSON.stringify(s,null," "),t.append(i)}),this.wrapper.appendChild(t)}}var Ao={title:"Debug",type:"debug",meta:{description:"Outputs any inputs for debug purposes"},node:jo,view:Do};class Po extends Dt{constructor(e,t){super(e,t),this.attributes.type="output",this.states={input:new Bt(this,"input",{type:"*",external:!0,label:!1})},this.outputs=[]}compute({input:e}){return e}}class $o extends At{constructor(e){super(e);const t=document.createElement("p");t.style.margin="0px",t.style.padding="4px",t.style.color="var(--text-color,white)",t.style.fontWeight="bold",e.on("computedData",s=>{t.innerHTML=JSON.stringify(s,null,2)}),this.wrapper.appendChild(t)}}var Bo={title:"Output",type:"output",meta:{description:"Outputs the final value"},node:Po,view:$o};const Lt={BooleanNode:Io,MathNode:Oo,NumberNode:Vo,DebugNode:Ao,OutputNode:Bo};const Ro=xe("AddMenu");class Fo{constructor(e){this.x=0,this.y=0,this.types=[],this.view=e,this.system=e.system,this.wrapper=document.createElement("div"),this.wrapper.classList.add("context-wrapper"),this.searchEl=new Mo({target:this.wrapper}),this.searchEl.$on("input",({detail:t})=>{this.resolve(t)}),this.view.wrapper.append(this.wrapper),this.view.system.store.on("types",t=>this.updateTypes(t),20),this.wrapper.classList.add("cl-"+Math.floor(Math.random()*1e3)),this.view.on("keydown",({key:t})=>t==="Escape"&&this.hide())}updateTypes(e=this.types){this.types=e,Ro("register types",e),this.searchEl.setItems(e.map(t=>({outputs:t.outputs,inputs:t.inputs,value:t.type||t.title,title:t.title})).filter(t=>{var s,i;return this.socket?Array.isArray(this.socket.type)?(s=t==null?void 0:t.outputs)==null?void 0:s.find(r=>this.socket.type.includes(r)):(i=t==null?void 0:t.inputs)==null?void 0:i.includes(this.socket.type):!0}))}handleWindowClick(e){e.composedPath().includes(this.wrapper)||this.reject()}reject(){this.rej&&this.rej(),this.hide()}resolve(e){const t=this.system.store.getByType(e),{x:s,y:i}=this.view.projectWindowToLocal(this.x,this.y),r=s-this.view.width/2,o=i-this.view.height/2;t?this.res({attributes:{pos:{x:r,y:o},id:"",name:t.title,type:t.type,refs:[]},state:{value:void 0}}):this.reject(),this.hide()}hide(){this.searchEl.clear(),this.wrapper.classList.remove("context-visible"),this.wrapper.blur(),this.rej&&this.rej(),this.res=e=>e,this.reject=()=>{}}show({x:e,y:t,socket:s}){return this.x=e,this.y=t,this.socket=s,this.wrapper.style.left=e/this.system.view.width*100+"%",this.wrapper.style.top=t/this.system.view.height*100+"%",this.wrapper.classList.add("context-visible"),this.updateTypes(),setTimeout(()=>{this.searchEl.focus()},20),new Promise((i,r)=>{this.res=i,this.rej=r})}}class Ho extends Ie{constructor(e){super(),this.mDownX=0,this.mDownY=0,this.downX=0,this.downY=0,this.isShiftKey=!1,this.view=e,this.wrapper=document.createElement("div"),this.wrapper.classList.add("box-selection-wrapper"),this.view.wrapper.append(this.wrapper),this.view.on("mousedown",({target:t,mx:s,x:i,my:r,y:o,keys:a})=>{var l;a.space||a.shiftKey||a.button===2||!a.ctrlKey||t&&!((l=t==null?void 0:t.className)!=null&&l.includes("nodesystem"))||(this.mDownX=s,this.mDownY=r,this.downX=i,this.downY=o,this.wrapper.style.left=s+"px",this.wrapper.style.top=r+"px",this.wrapper.style.width="0px",this.wrapper.style.height="0px",this.isShiftKey=a.shift,this.show())})}show(){this.wrapper.classList.add("box-selection-visible");const e=this.view.system.nodes.map(i=>{const{width:r,height:o}=i.view,{x:a,y:l}=i.view,c=a+this.view.width/2,u=l+this.view.height/2,d=c+r,f=u+o;return{n:i,state:i.view.state,x1:c,y1:u,x2:d,y2:f}});let t=[];const s=this.view.on("mousemove",({mx:i,my:r,x:o,y:a})=>{const{mDownX:l,mDownY:c,downX:u,downY:d,isShiftKey:f}=this,h={x1:Math.min(i,l),x2:Math.max(i,l),y1:Math.min(r,c),y2:Math.max(r,c)};this.wrapper.style.left=h.x1+"px",this.wrapper.style.top=h.y1+"px",this.wrapper.style.width=Math.abs(l-i)+"px",this.wrapper.style.height=Math.abs(c-r)+"px";const m={x1:Math.min(o,u),x2:Math.max(o,u),y1:Math.min(a,d),y2:Math.max(a,d)};t=e.filter(y=>Sn(m,y)?!0:(f||(y.state="normal",y.n.view.state="normal"),!1)).map(({n:y,state:g})=>(g!=="active"&&(g="selected",y.view.state="selected"),y))},5);this.view.once("mouseup",()=>{s(),this.hide(),this.emit("selection",t)})}projectBox(e){const{x:t,y:s}=this.view.projectWindowToLocal(e.x1,e.y1),{x:i,y:r}=this.view.projectWindowToLocal(e.x2,e.y2);return{x1:t,y1:s,x2:i,y2:r}}hide(){this.wrapper.classList.remove("box-selection-visible")}}class Uo{constructor(e){this.connections=[],this.output=e,this.node=e.node,this.wrapper=document.createElement("div"),this.wrapper.classList.add("node-output-wrapper"),this.wrapper.classList.add(`socket-type-${e.type}`),e.node.view.outputWrapper.appendChild(this.wrapper),this.wrapper.addEventListener("mousedown",t=>{t.target===this.wrapper&&(t.stopPropagation(),t.preventDefault(),this.node.system.view.createFloatingConnection(this.output))},!1),this.node.system.view.colorStore.onType(e.type,t=>{const s=window.getComputedStyle(this.wrapper,null).getPropertyValue("background-color");this.wrapper.style.setProperty("--socket-color",t),this.wrapper.style.backgroundColor=s!=="rgba(0, 0, 0, 0)"&&s!=="rgb(0,0,0)"?s:t})}remove(){this.wrapper.remove(),this.connections.forEach(e=>e.remove())}set state(e){this.wrapper.classList.forEach(t=>{t.includes("socket-state-")&&this.wrapper.classList.remove(t)}),e&&e.length&&this.wrapper.classList.add("socket-state-"+e)}updatePosition(){this.rect=this.wrapper.getBoundingClientRect(),this.output.connections.forEach(e=>e.view.setPosition({x1:this.x,y1:this.y}))}get x(){return this.node.view.x+this.node.view.width+3}get y(){const e=this.node.system.view;return(this.rect.y+this.rect.height/2-e.y-e.top)/e.s-e.height/2}}class ct{constructor(e,t){if(this.connections=[],this.node=e,this.type=t,Array.isArray(t))throw new Error("Output can only output one type, not "+t)}bindView(){this.view=new Uo(this)}connectTo(e){const t=this.node.outputs.indexOf(this);return this.node.connectTo(e.node,t,e.key)}removeConnection(e){const t=this.connections.indexOf(e);this.connections.splice(t,1),this.node.disconnectFrom(e.input.node,e.indexIn,e.indexOut),this.view&&this.view.connections.splice(t,1)}setConnection(e){this.connections.push(e),this.view&&this.view.connections.push(e.view)}remove(){this.connections.forEach(e=>e.remove())}}class Wo extends zi(li,Ie){constructor(e,t={}){const{system:s}=e.node;super({},e),this.view=s.view,this.path.style.zIndex="999";const i=Array.isArray(e.type)?e.type[0]:e.type;s.view.colorStore.onType(i,d=>{this.path.style.stroke=d}),e.view.updatePosition();const r=e.view.x,o=e.view.y;let a=r,l=o;t&&(a=t.x-s.view.width/2,l=t.y-s.view.height/2),this.setPosition({x1:r,y1:o,x2:a,y2:l}),this.dx2=this.x2,this.dy2=this.y2,this.isInput=e instanceof Ye,this.allSockets=e instanceof Ye?s.getOutputs(e.type):s.getInputs(e.type),this.allSockets.forEach(d=>d.view.state="potential");let c=this.allSockets.filter(d=>d.node.attributes.id!==e.node.attributes.id);c.forEach(d=>d.view.state="middle");const u="connection"in e?[e.connection]:e.connections;if(u&&!!u.length){const d=u.map(f=>[f.input,f.output]).flat();c=c.filter(f=>!d.includes(f))}this.potentialSockets=c,this.potentialSockets.forEach(d=>d.view.updatePosition()),this.potentialSockets.forEach(d=>d.view.state="highlight"),this._unsubMouseUp=this.view.on("mouseup",this.handleMouseUp.bind(this)),this._unsubMouseMove=this.view.on("mousemove",this.handleMouseMove.bind(this)),this.mdx=this.view.mx,this.mdy=this.view.my,this.socket=e,e.view.updatePosition()}handleMouseUp(e){const{x:t,y:s,keys:i}=e;this._unsubMouseUp(),this._unsubMouseMove(),this.allSockets.forEach(a=>a.view.state="");let r,o=0;this.socket instanceof Ye&&this.hoveredSocket instanceof ct?(r=this.socket.key,o=this.hoveredSocket.node.outputs.indexOf(this.hoveredSocket)):this.socket instanceof ct&&this.hoveredSocket instanceof Ye&&(r=this.hoveredSocket.key,o=this.socket.node.outputs.indexOf(this.socket)),this.hoveredSocket?(this.emit("connection",{keyIn:r,indexOut:o,inputNode:this.isInput?this.socket.node:this.hoveredSocket.node,outputNode:this.isInput?this.hoveredSocket.node:this.socket.node}),this.remove()):i.ctrlKey?this.view.addMenu.show({x:t,y:s,socket:this.socket}).then(a=>this.view.system.createNode(a)).then(a=>{this.socket instanceof ct?this.socket.node.connectTo(a,o,r):a.connectTo(this.socket.node,o,r),this.remove()}).catch(()=>{this.remove()}).finally(()=>{this.remove()}):this.remove()}handleMouseMove(e){const{x:t,y:s}=e;this.mdx||(this.mdx=t,this.mdy=s);const i=this.dx2+(t-this.mdx),r=this.dy2+(s-this.mdy),o=20,a=this.potentialSockets.map(l=>{const{x:c,y:u}=l.view;return{socket:l,distance:Math.abs(i-c)+Math.abs(r-u)}}).filter(l=>l.distance<o).sort((l,c)=>l.distance>c.distance?-1:1).map(l=>l.socket);if(a.length){const{x:l,y:c}=a[0].view;this.hoveredSocket=a[0],this.setPosition({x2:l,y2:c})}else this.hoveredSocket=void 0,this.setPosition({x2:i,y2:r})}remove(){super.remove(),this.emit("remove"),this.system.isPaused=!1}}const zo=[{color:"#a52a2a",name:"brown"},{color:"#008000",name:"green"},{color:"#4b0082",name:"indigo"},{color:"#f0e68c",name:"khaki"},{color:"#add8e6",name:"lightblue"},{color:"#e0ffff",name:"lightcyan"},{color:"#90ee90",name:"lightgreen"},{color:"#d3d3d3",name:"lightgrey"},{color:"#ffb6c1",name:"lightpink"},{color:"#ffffe0",name:"lightyellow"},{color:"#00ff00",name:"lime"},{color:"#ff00ff",name:"magenta"},{color:"#800000",name:"maroon"},{color:"#000080",name:"navy"},{color:"#808000",name:"olive"},{color:"#ffa500",name:"orange"},{color:"#ffc0cb",name:"pink"},{color:"#800080",name:"purple"},{color:"#800080",name:"violet"},{color:"#ff0000",name:"red"},{color:"#c0c0c0",name:"silver"},{color:"#ffffff",name:"white"}];class Xo extends Ie{constructor(e){super(),this.colors={},this.index=0,this.updateTypes(e.system.store.types),e.system.store.on("types",t=>this.updateTypes(t))}updateTypes(e){e.forEach(t=>{var s,i;(s=t==null?void 0:t.inputs)==null||s.forEach(r=>Array.isArray(r)?r.forEach(o=>this.setType(o)):this.setType(r)),(i=t==null?void 0:t.outputs)==null||i.forEach(r=>this.setType(r))})}setColors(e){for(const t in e)this.colors[t]=e[t]}setType(e){!e||(e in this.colors||(this.colors[e]=zo[this.index].color,this.index++),this.emit(e,this.colors[e]),this.emit("colors",Object.entries(this.colors)))}get(e){return this.colors[e]}onType(e,t){return this.setType(e),t(this.colors[e]),super.on(e,t)}}let Fe,qe;globalThis.document&&(typeof document.hidden!="undefined"?(qe="visibilitychange",Fe="visibilityState"):typeof document.mozHidden!="undefined"?(qe="mozvisibilitychange",Fe="mozVisibilityState"):typeof document.msHidden!="undefined"?(qe="msvisibilitychange",Fe="msVisibilityState"):typeof document.webkitHidden!="undefined"&&(qe="webkitvisibilitychange",Fe="webkitVisibilityState"));var Yo=n=>{globalThis.document&&(n(document[Fe]),document.addEventListener(qe,function(){n(document[Fe])},!1))};class qo{constructor(e){this.wrapper=document.createElement("div"),this.wrapper.addEventListener("click",()=>{this.wrapper.focus()}),this.wrapper.classList.add("nodesystem-socket-legend"),e.wrapper.appendChild(this.wrapper),this.updateTypes(Object.entries(e.colorStore.colors)),e.colorStore.on("colors",t=>{this.updateTypes(t)})}updateTypes(e){this.wrapper.style.setProperty("--max-height",(1+e.length)*30+"px"),this.wrapper.innerHTML=`<input type="checkbox"/><div class="socket-legend-title">Legend</div> 
<div class="socket-legend-type-wrapper">
${e.map(([t,s])=>`
<div class="socket-legend-col" style="background-color:${s}"></div><div class="socket-legend-type">${t}</div>
`).join("")}
</div>
`}}class Zo extends Ie{constructor(e){var t,s,i,r,o;super(),this.width=0,this.height=0,this.top=0,this.left=0,this.x=window.innerWidth/2,this.y=window.innerHeight/2,this.s=1,this.mx=0,this.my=0,this.mdx=0,this.mdy=0,this.rmx=0,this.rmy=0,this.mouseDown=!1,this.keyMap={},this.selectedNodes=[],this.selectedNodesDown=[],this.clipboard=[],this.system=e,this.colorStore=new Xo(this),this.wrapper=(s=(t=e.options)==null?void 0:t.wrapper)!=null?s:document.createElement("div"),this.wrapper.classList.add("nodesystem-wrapper"),e.options.parent&&e.options.parent.appendChild(this.wrapper),(i=e.options)!=null&&i.hideLegend||new qo(this),this.transformWrapper=document.createElement("div"),this.transformWrapper.classList.add("nodesystem-transform"),this.wrapper.appendChild(this.transformWrapper),this.errorWrapper=document.createElement("div"),this.errorWrapper.classList.add("nodesystem-errors"),this.wrapper.appendChild(this.errorWrapper),this.nodeContainer=document.createElement("div"),this.nodeContainer.classList.add("nodes-container"),this.transformWrapper.append(this.nodeContainer),this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("viewBox","0 0 1 1"),this.svg.setAttribute("height","1"),this.svg.setAttribute("width","1"),this.svg.setAttribute("preserveAspectRatio","none"),this.svg.style.transform=`scale(${(r=window.devicePixelRatio)!=null?r:1})`,this.transformWrapper.appendChild(this.svg),this.addMenu=new Fo(this),this.boxSelection=new Ho(this),this.boxSelection.on("selection",a=>{this.selectedNodes=a}),this.dpr=(o=window.devicePixelRatio)!=null?o:1,this.bindEventListeners(),this.handleResize(),Yo(()=>{setTimeout(()=>{this.handleResize(),this.system.nodes.forEach(a=>{a.view.updateViewPosition()})},500)})}showErrorMessages(e){if(!e){this.errorWrapper.innerHTML="";return}const t=Array.isArray(e)?e:[e];this.errorWrapper.innerHTML=t.map(s=>`<p>${s}</p>`).join("")}createFloatingConnection(e){const t=new Wo(e,{x:this.mx,y:this.my});return new Promise(s=>{t.once("remove",s),t.once("connection",({inputNode:i,outputNode:r,keyIn:o,indexOut:a})=>{r.connectTo(i,a,o)})})}setActive(e,{shiftKey:t=!1,ctrlKey:s=!1}={}){if(!e)this.activeNode&&(this.activeNode.view.state="normal",this.activeNode=void 0),this.selectedNodes.forEach(i=>i.view.state="normal"),this.selectedNodes=[];else if(t&&s){if(this.activeNode&&(this.activeNode.view.state="normal",this.activeNode=void 0),this.activeNode=e,this.activeNode.view.state="active",this.activeNode.outputs.length){const i=this.system.createNode({state:{},attributes:{type:"debug",id:"0",name:"debug",refs:[],pos:{x:this.activeNode.view.x+this.activeNode.view.width+10,y:this.activeNode.view.y}}});i.enableUpdates=!0,this.activeNode.connectTo(i,0,"input")}}else t?this.activeNode?(this.selectedNodes.push(this.activeNode),this.activeNode.view.state="selected",this.activeNode=e,this.activeNode.view.state="active"):(this.activeNode=e,this.activeNode.view.state="active"):this.activeNode?(this.selectedNodes.forEach(i=>i.view.state="normal"),this.selectedNodes=[],this.activeNode!==e&&(this.activeNode.view.state="normal",this.activeNode=e,this.activeNode.view.state="active")):(this.activeNode=e,this.activeNode.view.state="active")}getSelectedNodes(){return this.activeNode&&this.selectedNodes.includes(this.activeNode)?this.selectedNodes:this.activeNode?[...this.selectedNodes,this.activeNode]:[...this.selectedNodes]}projectLocalToWindow(e,t){const s=e+this.x,i=t+this.y,r=s*this.s,o=i*this.s;return{x:r,y:o}}projectWindowToLocal(e,t){const s=e-this.x,i=t-this.y,r=s/this.s,o=i/this.s;return{x:r,y:o}}setTransform({x:e=this.x,y:t=this.y,s=this.s}={}){this.x=e,this.y=t,this.s=s,this.panzoom.setTransform(e,t,s)}setState(e){this.wrapper.classList.forEach(t=>{t.startsWith("nodesystem-state-")&&this.wrapper.classList.remove(t)}),this.state=e,this.wrapper.classList.add("nodesystem-state-"+e)}showAddMenu(){this.addMenu.show({x:this.rmx,y:this.rmy}).then(e=>{const t=this.system.createNode(e);this.setActive(t)}).catch()}bindEventListeners(){window.addEventListener("keydown",e=>this.handleKeyDown(e)),window.addEventListener("keyup",e=>this.handleKeyUp(e)),this.wrapper.addEventListener("mousemove",e=>this.handleMouseMove(e)),this.wrapper.addEventListener("contextmenu",e=>{e.preventDefault(),this.showAddMenu()}),this.wrapper.addEventListener("mousedown",e=>this.handleMouseDown(e)),this.wrapper.addEventListener("touchdown",e=>this.handleMouseDown(e)),this.wrapper.addEventListener("mouseup",e=>this.handleMouseUp(e)),window.addEventListener("resize",ai(()=>this.handleResize(),10)),this.panzoom=Mn(this.transformWrapper,{minZoom:.2,maxZoom:5,onTransform:({x:e,y:t,scale:s})=>{this.x=e,this.y=t,this.s=s;const i=(s-.2)/5/2,r=s*this.height*.02,o=s*this.width*.02;this.wrapper.style.setProperty("--scale",Math.abs(i)+""),this.wrapper.style.setProperty("--scale-x",r+"%"),this.wrapper.style.setProperty("--scale-y",o+"%"),this.wrapper.style.setProperty("--pos-x",`${e}px`),this.wrapper.style.setProperty("--pos-y",`${t}px`),this.system.setMetaData({transform:{x:e,y:t,s}}),this.emit("transform",{x:e,y:t,s})}})}handleResize(){const{width:e,height:t,top:s,left:i}=this.wrapper.getBoundingClientRect();this.width=e,this.height=t,this.top=s,this.left=i,this.emit("resize",{width:e,height:t})}handleMouseMove(e){this.ev=e;const{clientX:t,clientY:s,shiftKey:i,ctrlKey:r}=e;this.rmx=t-this.left,this.rmy=s-this.top;const{x:o,y:a}=this.projectWindowToLocal(this.rmx,this.rmy);this.mx=o,this.my=a,this.emit("mousemove",{x:o,y:a,mx:this.rmx,my:this.rmy,keys:_e(he({},this.keyMap),{shiftKey:i,ctrlKey:r})})}handleMouseDown(e){const{shiftKey:t,ctrlKey:s,clientX:i,clientY:r,button:o,target:a}=e;this.state==="help"&&this.setState("normal"),t||this.setActive(),e.path&&![...e.path].includes(this.addMenu.wrapper)&&(this.addMenu.hide(),e.preventDefault()),this.mouseDown=!0,this.rmx=i-this.left,this.rmy=r-this.top;const{x:l,y:c}=this.projectWindowToLocal(this.rmx,this.rmy);this.selectedNodesDown=this.selectedNodes.map(u=>[u.view.x,u.view.y]),this.emit("mousedown",{x:l,y:c,mx:this.rmx,my:this.rmy,target:a,keys:_e(he({},this.keyMap),{shiftKey:t,ctrlKey:s,button:o})})}handleMouseUp({clientX:e,clientY:t,shiftKey:s,ctrlKey:i}){this.mouseDown=!1;const r=e-this.left,o=t-this.top;this.emit("mouseup",{x:r,y:o,keys:_e(he({},this.keyMap),{shiftKey:s,ctrlKey:i})})}handleKeyUp({key:e}){e===" "&&(e="space"),delete this.keyMap[e&&e.toLowerCase()],this.emit("keyup",{key:e,keys:this.keyMap})}handleKeyDown({key:e,ctrlKey:t,shiftKey:s}){switch(e=e===" "?"space":e.toLowerCase(),this.keyMap[e&&e.toLowerCase()]=!0,e==="space"&&this.ev&&this.handleMouseDown(this.ev),e){case"escape":this.addMenu.hide(),this.setState("normal");break;case"?":this.setState("help");break;case"a":s&&this.showAddMenu();break;case"c":if(s&&t)window.confirm("Clear Storage?")&&(localStorage.clear(),window.location.reload());else if(t){const i=this.selectedNodes.splice(0);this.activeNode&&!i.includes(this.activeNode)&&i.push(this.activeNode),this.clipboard=i.map(r=>r.deserialize()).map(r=>(r.attributes.pos.x-=this.mx,r.attributes.pos.y-=this.my,r))}else this.selectedNodes.length&&this.activeNode&&this.selectedNodes[0].connectTo(this.activeNode);break;case"f":this.setTransform({x:0,y:0,s:1});break;case"g":this.keyMap.g||(this.mdx=this.mx,this.mdy=this.my,this.selectedNodesDown=this.selectedNodes.map(i=>[i.view.x,i.view.y]));break;case"x":t?(this.activeNode&&this.system.spliceNode(this.activeNode),this.selectedNodes.forEach(i=>this.system.spliceNode(i))):(this.activeNode&&this.system.removeNode(this.activeNode),this.selectedNodes.forEach(i=>i.remove()));break;case"z":this.system.history&&t&&(s?this.system.history.redo():this.system.history.undo());break;case"l":this.activeNode&&(console.log(this.activeNode),console.log(this.activeNode.deserialize()));break;case"v":t&&this.clipboard.map(i=>{const{pos:{x:r=0,y:o=0}={}}=i.attributes;return i.attributes.pos={x:r+this.mx,y:o+this.my},i}).forEach(i=>this.system.createNode(i));break}this.emit("keydown",{key:e,keys:_e(he({},this.keyMap),{ctrlKey:t})})}}const xt=xe("NodeFactory");class Ko{constructor(e){this.id=Ki(),this.system=e,xt("Initialized")}reset(){this.id.reset(),xt("Reset id generator")}create(e){const{attributes:t}=e;t.type=t.type.toLowerCase();const s=this.system.store.getByType(t.type);t.id=this.id(+t.id);const i=new s.node(this.system,e);if(this.system.options.view&&s.view){const r=new s.view(i);i.bindView(r)}return s.type==="output"&&this.system.setOutputNode(i),xt(`Created node with type ${t.type}`,e),i}}const at=xe("NodeHistory");class Go{constructor(e){this.system=e,this.history=[],this.historyIndex=-1,this.isApplyingChanges=!1,at("Initialized")}addAction(){!this.system.isLoaded||this.isApplyingChanges||(this._timeout?clearTimeout(this._timeout):this.prevState=this.system.serialize().nodes,this._timeout=setTimeout(()=>{this._addAction(),this._timeout=void 0},200))}_addAction(){if(at("Register History Step"),this.isApplyingChanges)return;this.historyIndex!==this.history.length-1&&(this.history.length=this.historyIndex+1);const e=this.system.serialize().nodes,[t,s]=Cn(this.prevState,e);!s||!t||(this.history.push({previous:s,next:t}),this.history.length>60&&(this.history=this.history.reverse().slice(0,60).reverse()),this.historyIndex=this.history.length-1)}serialize(){return{steps:this.history,index:this.historyIndex}}deserialize(e){this.historyIndex=e.index,this.history=e.steps}undo(){if(this.isApplyingChanges)return;if(this.isApplyingChanges=!0,this.historyIndex<0){at("Reached beginning of Stack"),this.isApplyingChanges=!1;return}const{previous:e}=this.history[this.historyIndex],t=this.system.serialize(),s=pt(t.nodes,e);t.nodes=s,this.system.load(t),this.historyIndex--,this.isApplyingChanges=!1}redo(){if(this.isApplyingChanges)return;if(this.isApplyingChanges=!0,this.historyIndex>=this.history.length-1){at("Reached end of Stack"),this.isApplyingChanges=!1;return}const{next:e}=this.history[this.historyIndex+1],t=this.system.serialize(),s=pt(t.nodes,e);t.nodes=s,this.system.load(t),this.historyIndex++,this.isApplyingChanges=!1}}class Jo{constructor(e){this.system=e}parseSystem(e){const{nodes:t}=e,s=new Map,i=t.map(r=>{const o=this.system.factory.create(r);return o.enableUpdates=!1,s.set(o.id,o),o});return i.forEach(r=>{r.attributes.refs&&r.attributes.refs.forEach(o=>{const a=s.get(o.id);if(!a)throw new Error(`Failed ref: from ${r.attributes.name||r.attributes.id} to ${o.id} `);r.connectTo(a,o.out,o.in)})}),i.forEach(r=>{r.enableUpdates=!0,r.update()}),i}parseType(e){const{compute:t,meta:s,outputs:i,title:r,parameters:o={}}=e,a=class extends Dt{constructor(c,u){if(super(c,u),this.meta=s,t&&(this.compute=t),i){const d=Array.isArray(i)?i:[i];this.outputs=d.map(f=>new ct(this,f))}Object.entries(o).forEach(([d,f])=>{this.states[d]=new Bt(this,d,f)})}},l=Object.values(o).filter(c=>c.internal!==!0).map(c=>c.type);if(this.system.options.view){const c=class extends At{constructor(d){super(d)}};return _e(he({},e),{inputs:l,title:r,meta:s,node:a,view:c})}return _e(he({inputs:l},e),{title:r,meta:s,node:a})}getData(){return{meta:this.system.meta,nodes:this.system.nodes.map(e=>e.deserialize())}}}const Qo=xe("NodeTypeStore");class ea extends Ie{constructor(){super(),this.types=[],this.typeMap={}}add(e){Qo("register new type "+e.title,e),this.types=[...this.types.filter(t=>t.type.toLowerCase()!==e.type.toLowerCase()),e],this.typeMap[e.type.toLowerCase()]=e,this.emit("types",this.types),this.emit("type",e)}clear(){this.typeMap={},this.types=[],this.emit("types",this.types)}getByType(e){if(e in this.typeMap)return this.typeMap[e];if(e.toLowerCase()in this.typeMap)return this.typeMap[e.toLowerCase()];throw console.log({typeMap:this.typeMap}),new Error("NodeTypeStore: type "+e+" does not exist")}}var ta=Object.defineProperty,sa=Object.getOwnPropertyDescriptor,ia=(n,e,t,s)=>{for(var i=s>1?void 0:s?sa(e,t):e,r=n.length-1,o;r>=0;r--)(o=n[r])&&(i=(s?o(e,t,i):o(i))||i);return s&&i&&ta(e,t,i),i};let na=0;const Pe=xe("NodeSystem");class ra extends Ie{constructor(e={}){super(),this.parser=new Jo(this),this.meta={lastSaved:Date.now()},this.isLoaded=!1,this.isPaused=!1,this.nodes=[],this.states=[],this.id=na++;const{view:t=!1,wrapper:s,defaultNodes:i=!1,registerNodes:r=!1,connectionColors:o=!1,showUpdates:a=!1,deferCompute:l=!1}=e;this.options={view:t,wrapper:s,showUpdates:a,deferCompute:l};try{if(Pe(`Instantiated id:${this.id}`),this.store=new ea,this.factory=new Ko(this),this.history=new Go(this),t&&(this.view=new Zo(this),o&&this.view.colorStore.setColors(o)),i){const c=[];i===!0?c.push(...Object.entries(Lt).map(u=>u[1])):Array.isArray(i)&&i.length&&i.forEach(u=>{typeof u=="string"&&u in Lt&&c.push(Lt[u])}),c.forEach(u=>this.registerNodeType(u))}r&&r.length&&r.forEach(c=>this.registerNodeType(c))}catch(c){console.warn("Error Loading",c),this.emit("error",{type:"init",error:c})}}get result(){return this._result}set result(e){this._result=e,this.isLoaded&&this.emit("result",e)}setMetaData(e){this.meta=he(he({},this.meta),e),this.save()}load(e){var t;if(Pe("Loading NodeSystemData",{systemData:e}),!e){this.isLoaded=!0;return}try{this.isLoaded=!1,this.isPaused=!0,this.nodes.forEach(i=>i.enableUpdates=!1),this.nodes.forEach(i=>i.remove()),this.factory.reset();const s=this.parser.parseSystem(e);return this.addNodes(s),this.meta=e.meta||{lastSaved:0},this.meta.lastSaved=Date.now(),(t=this==null?void 0:this.view)==null||t.setTransform(this.meta.transform),Pe(`Loaded NodeSystemData with ${s.length} Nodes`,e),"history"in e&&this.history.deserialize(e.history),this.isPaused=!1,this.isLoaded=!0,this.result=this._result,this}catch(s){console.warn("Error",s),this.emit("error",{type:"loading",error:s})}}serialize(){return _e(he({},this.parser.getData()),{history:this.history.serialize(),meta:this.meta})}save(){this.isLoaded&&(this.meta.lastSaved=Date.now(),Pe("save system",this.serialize()),this.emit("save",this.serialize()))}setOutputNode(e){this.outputNode&&this.outputNode.remove(),this.outputNode=e,e.on("computedData",t=>{this.options.deferCompute?this.result={type:"output",parameters:t}:this.result=t})}addNodes(e){e.forEach(t=>this.addNode(t))}addNode(e){this.history.addAction(),this.nodes.push(e),this.save()}removeNode(e){this.history.addAction(),e.enableUpdates=!1,e.view.remove(),Object.values(e.states).forEach(t=>t.remove()),e.outputs.forEach(t=>t.remove()),e.getInputs().forEach(t=>t.remove()),this.nodes=this.nodes.filter(t=>t!==e),this.save(),Pe(`Removed Node id:${e.id} type:${e.attributes.type}`,e.deserialize())}spliceNode(e){const t=e.getInputs().map(i=>{var r;return(r=i==null?void 0:i.connection)==null?void 0:r.output}),s=e.outputs.map(i=>i.connections).flat().map(i=>i.input);for(let i=0;i<t.length;i++){const r=t[i],o=s[i];!o||!r||r.connectTo(o)}return this.removeNode(e)}getSockets(e){const t=this.nodes.map(s=>[...s.getSockets()]).flat();return e?t.filter(s=>s.type===e):t}getInputs(e){const t=this.nodes.map(s=>s.getInputs()).flat();return!e||e==="*"?t:t.filter(s=>s.type.includes("*")||s.type.includes(e))}getOutputs(e){const t=this.nodes.map(s=>s.outputs).flat();return!e||e.includes("*")?t:t.filter(s=>s.type==="*"||e.includes(s.type))}createNode(e){const t=this.factory.create(e);return this.addNode(t),this.save(),Pe(`Created new node id:${e.attributes.id} type:${e.attributes.type}`,e),t}getNodes(){return this.nodes}findNodeById(e){return this.nodes.filter(t=>t.id===e)[0]}getNodeTypes(){return this.store.types}registerNodeType(e){if(Array.isArray(e))return e.forEach(t=>this.registerNodeType(t));if("node"in e)this.store.add(e);else{const t=this.parser.parseType(e);this.store.add(t)}}}ia([Yi(1e3)],ra.prototype,"save",1);const Ia={meta:{lastSaved:Date.now(),transform:{x:0,y:0,s:1}},nodes:[{attributes:{pos:{x:127,y:-46},type:"output",id:"0",refs:[]},state:{}},{attributes:{pos:{x:-15,y:-59},type:"math",id:"1",refs:[{id:"0",out:0,in:"input"}]},state:{mode:"multiply",a:0,b:0}},{attributes:{pos:{x:-157,y:-120},type:"number",id:"2",refs:[{id:"1",out:0,in:"a"}]},state:{value:2}},{attributes:{pos:{x:-159,y:48},type:"number",id:"3",refs:[{id:"1",out:0,in:"b"}]},state:{value:2}}]},Ot={meta:{lastSaved:Date.now(),transform:{x:0,y:0,s:1}},nodes:[{attributes:{pos:{x:-300,y:0},type:"number",id:"0",refs:[{id:"1",out:0,in:"a"},{id:"1",out:0,in:"b"}]},state:{value:2}}]},ke=12,oa=new Array(ke).fill(null).map(n=>new Array(ke).fill(null)).map((n,e)=>n.map((t,s)=>{const i=e*ke+s+1;return{attributes:{id:i.toString(),pos:{x:-200+s*100,y:e*150},type:"math",refs:[{id:(i+1).toString(),out:0,in:"a"},{id:(i+1).toString(),out:0,in:"b"}]},state:{mode:"add"}}}));Ot.nodes.push(...oa.flat().flat(),{attributes:{id:(ke*ke+1).toString(),pos:{x:-200+ke*100,y:(ke-1)*150},type:"output",refs:[]},state:{value:2}});Ot.nodes[Ot.nodes.length-2].attributes.refs=[{id:(ke*ke+1).toString(),out:0,in:"input"}];const Oa={meta:{lastSaved:1652709738865},nodes:[],history:{steps:[],index:-1}},aa="#469c6e",la="#b74141",ca="0px 0px 2px rgba(0, 0, 0, 0.7)",ua="#65e2a0",ha="#e26565",da="0px 0px 5px rgba(0, 0, 0, 0.144)",fa="0px 0px 5px rgba(0, 0, 0, 0.144)";var pa={"dark_background-color":"#141516","dark_midground-color":"#242729",dark_accent:aa,"dark_accent-dark":"#65e2a0",dark_error:la,"dark_foreground-color":"#33373a","dark_outline-color":"#212121","dark_text-color":"#ffffff","dark_text-color-invert":"black",dark_shadow:ca,"light_background-color":"#d0d0d0","light_midground-color":"white",light_accent:ua,"light_accent-dark":"#469c6e",light_error:ha,"light_foreground-color":"#e8e8e8","light_outline-color":"#b9b9b9","light_text-color":"#484848","light_text-color-invert":"white",light_shadow:da,"pinky_background-color":"#d0d0d0","pinky_foreground-color":"pink","pinky_outline-color":"#b9b9b9","pinky_text-color":"#484848",pinky_shadow:fa};function ma(n){const e={};return Object.entries(n).forEach(([t,s])=>{const[i,r]=t.split("_");i in e?e[i][r]=s:e[i]={[r]:s}}),e}const Rt=ma(pa),vt=Object.keys(Rt);let Ue="dark";"localStorage"in globalThis&&(Ue="theme"in localStorage?localStorage.getItem("theme"):vt[0]);vt.includes(Ue)||(Ue=vt[0]);globalThis.window&&document.body.classList.add("theme-"+Ue);const mi=gt(Rt[Ue]),vi=gt(Ue),va=n=>{if(vt.includes(n)){for(const e of document.body.classList.values())e.startsWith("theme-")&&document.body.classList.remove(e);document.body.classList.add("theme-"+n),mi.set(Rt[n]),vi.set(n),localStorage.setItem("theme",n)}else console.warn("cannot set theme",n)};function ya(n){return yi("",typeof n=="string"?JSON.parse(n):n)}function yi(n,e){var t="";return Object.entries(e).forEach(function(s){var i=s[0],r=s[1];t+=typeof r=="object"?yi(""+si(n,i),r):"--"+si(n,i)+": "+r+";"}),t}function si(n,e){return n?e==="__default"?n:n+"-"+e:e}function wa(n){let e;return{c(){e=M("style"),this.h()},l(t){const s=Wi('[data-svelte="svelte-14spz5y"]',document.head);e=N(s,"STYLE",{type:!0,id:!0});var i=L(e);i.forEach(v),s.forEach(v),this.h()},h(){p(e,"type","text/css"),p(e,"id","theme-css")},m(t,s){_(document.head,e),n[3](e)},p:F,i:F,o:F,d(t){v(e),n[3](null)}}}function ga(n,e,t){let s,i;yt(n,mi,c=>t(2,i=c));let r,o=!1;function a(){o||!r||(o=!0,t(0,r.innerHTML="* {transition: color 0.2s ease, background-color 0.2s ease, outline 0.2s ease !important;}",r),setTimeout(()=>{t(0,r.innerHTML=`* {transition: color 0.2s ease, background-color 0.2s ease, outline 0.2s ease !important;} :root{${s}}`,r),setTimeout(()=>{t(0,r.innerHTML=`:root{${s}}`,r),o=!1},200)},1))}Vt(()=>{t(0,r.innerHTML=`:root{${s}}`,r)});function l(c){Ce[c?"unshift":"push"](()=>{r=c,t(0,r)})}return n.$$.update=()=>{n.$$.dirty&4&&t(1,s=ya(i)),n.$$.dirty&2&&s&&a()},[r,s,i,l]}class _a extends ae{constructor(e){super(),le(this,e,ga,wa,ce,{})}}function ba(n){let e,t,s,i,r,o,a,l,c,u;t=new Ke({props:{icon:n[0]==="dark"?"bulb_dark":"bulb"}}),t.$on("click",n[3]);const d=n[2].default,f=ii(d,n,n[1],null);return r=new _a({}),a=new Kr({}),c=new Ir({}),{c(){e=M("header"),ie(t.$$.fragment),s=U(),f&&f.c(),i=U(),ie(r.$$.fragment),o=U(),ie(a.$$.fragment),l=U(),ie(c.$$.fragment),this.h()},l(h){e=N(h,"HEADER",{class:!0});var m=L(e);ue(t.$$.fragment,m),s=W(m),f&&f.l(m),m.forEach(v),i=W(h),ue(r.$$.fragment,h),o=W(h),ue(a.$$.fragment,h),l=W(h),ue(c.$$.fragment,h),this.h()},h(){p(e,"class","svelte-8lwjtb")},m(h,m){C(h,e,m),ne(t,e,null),_(e,s),f&&f.m(e,null),C(h,i,m),ne(r,h,m),C(h,o,m),ne(a,h,m),C(h,l,m),ne(c,h,m),u=!0},p(h,[m]){const y={};m&1&&(y.icon=h[0]==="dark"?"bulb_dark":"bulb"),t.$set(y),f&&f.p&&(!u||m&2)&&ni(f,d,h,h[1],u?oi(d,h[1],m,null):ri(h[1]),null)},i(h){u||(O(t.$$.fragment,h),O(f,h),O(r.$$.fragment,h),O(a.$$.fragment,h),O(c.$$.fragment,h),u=!0)},o(h){A(t.$$.fragment,h),A(f,h),A(r.$$.fragment,h),A(a.$$.fragment,h),A(c.$$.fragment,h),u=!1},d(h){h&&v(e),re(t),f&&f.d(h),h&&v(i),re(r,h),h&&v(o),re(a,h),h&&v(l),re(c,h)}}}function ka(n,e,t){let s;yt(n,vi,a=>t(0,s=a));let{$$slots:i={},$$scope:r}=e;const o=()=>va(s==="dark"?"light":"dark");return n.$$set=a=>{"$$scope"in a&&t(1,r=a.$$scope)},[s,r,i,o]}class Va extends ae{constructor(e){super(),le(this,e,ka,ba,ce,{})}}je.disable_scroll_handling;const ja=je.goto;je.invalidate;je.prefetch;je.prefetch_routes;je.before_navigate;je.after_navigate;export{Ke as B,Va as H,ra as N,Dt as a,Bt as b,At as c,Ia as d,Sa as e,Ta as f,ja as g,Ot as s,Oa as t};
