import{S as he,i as de,s as ve,e as k,t as T,k as j,c as E,a as w,g as O,d as u,n as L,b as y,f as b,E as v,h as G,l as K,G as ge,F as Q,a0 as xe,P as He,a1 as Ve,j as ke,m as Ee,o as Re,a2 as $e,x as M,u as W,v as we,w as Ge,H as Ue,A as el,r as Je,J as Ne}from"../../chunks/vendor-f14ba82b.js";import{b as ll,c as tl,p as sl,d as il,e as fl,f as rl,u as ol,s as al}from"../../chunks/index-ff97ad8c.js";import{c as ul,p as nl}from"../../chunks/Section.svelte_svelte_type_style_lang-0ee6f658.js";function Ce(f,e,l){const t=f.slice();return t[1]=e[l],t}function Me(f){let e,l,t,r=f[0].type+"",o,s,a,n=f[0].title+"",c,p,h,I,B=f[0].lines,_=[];for(let d=0;d<B.length;d+=1)_[d]=ze(Ce(f,B,d));return{c(){e=k("div"),l=k("p"),t=k("b"),o=T(r),s=T(":"),a=j(),c=T(n),p=j(),h=k("pre"),I=k("code");for(let d=0;d<_.length;d+=1)_[d].c();this.h()},l(d){e=E(d,"DIV",{class:!0});var S=w(e);l=E(S,"P",{});var R=w(l);t=E(R,"B",{});var N=w(t);o=O(N,r),s=O(N,":"),N.forEach(u),a=L(R),c=O(R,n),R.forEach(u),p=L(S),h=E(S,"PRE",{class:!0});var X=w(h);I=E(X,"CODE",{});var Y=w(I);for(let F=0;F<_.length;F+=1)_[F].l(Y);Y.forEach(u),X.forEach(u),S.forEach(u),this.h()},h(){y(h,"class","svelte-1jrh130"),y(e,"class","wrapper svelte-1jrh130")},m(d,S){b(d,e,S),v(e,l),v(l,t),v(t,o),v(t,s),v(l,a),v(l,c),v(e,p),v(e,h),v(h,I);for(let R=0;R<_.length;R+=1)_[R].m(I,null)},p(d,S){if(S&1&&r!==(r=d[0].type+"")&&G(o,r),S&1&&n!==(n=d[0].title+"")&&G(c,n),S&1){B=d[0].lines;let R;for(R=0;R<B.length;R+=1){const N=Ce(d,B,R);_[R]?_[R].p(N,S):(_[R]=ze(N),_[R].c(),_[R].m(I,null))}for(;R<_.length;R+=1)_[R].d(1);_.length=B.length}},d(d){d&&u(e),ge(_,d)}}}function Fe(f){let e,l,t,r=f[1].alias+"",o;return{c(){e=T("as "),l=k("strong"),t=T("$"),o=T(r)},l(s){e=O(s,"as "),l=E(s,"STRONG",{});var a=w(l);t=O(a,"$"),o=O(a,r),a.forEach(u)},m(s,a){b(s,e,a),b(s,l,a),v(l,t),v(l,o)},p(s,a){a&1&&r!==(r=s[1].alias+"")&&G(o,r)},d(s){s&&u(e),s&&u(l)}}}function qe(f){let e,l,t=f[1].location+"",r,o;return{c(){e=T("\xA0("),l=k("i"),r=T(t),o=T(")")},l(s){e=O(s,"\xA0("),l=E(s,"I",{});var a=w(l);r=O(a,t),a.forEach(u),o=O(s,")")},m(s,a){b(s,e,a),b(s,l,a),v(l,r),b(s,o,a)},p(s,a){a&1&&t!==(t=s[1].location+"")&&G(r,t)},d(s){s&&u(e),s&&u(l),s&&u(o)}}}function ze(f){let e,l,t=f[1].name+"",r,o,s,a=f[1].alias&&Fe(f),n=f[1].location&&qe(f);return{c(){e=T("at "),l=k("strong"),r=T(t),a&&a.c(),o=K(),n&&n.c(),s=k("br")},l(c){e=O(c,"at "),l=E(c,"STRONG",{});var p=w(l);r=O(p,t),p.forEach(u),a&&a.l(c),o=K(),n&&n.l(c),s=E(c,"BR",{})},m(c,p){b(c,e,p),b(c,l,p),v(l,r),a&&a.m(c,p),b(c,o,p),n&&n.m(c,p),b(c,s,p)},p(c,p){p&1&&t!==(t=c[1].name+"")&&G(r,t),c[1].alias?a?a.p(c,p):(a=Fe(c),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null),c[1].location?n?n.p(c,p):(n=qe(c),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(c){c&&u(e),c&&u(l),a&&a.d(c),c&&u(o),n&&n.d(c),c&&u(s)}}}function cl(f){let e,l=f[0]&&Me(f);return{c(){l&&l.c(),e=K()},l(t){l&&l.l(t),e=K()},m(t,r){l&&l.m(t,r),b(t,e,r)},p(t,[r]){t[0]?l?l.p(t,r):(l=Me(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Q,o:Q,d(t){l&&l.d(t),t&&u(e)}}}function _l(f,e,l){let{stacktrace:t}=e;return f.$$set=r=>{"stacktrace"in r&&l(0,t=r.stacktrace)},[t]}class pl extends he{constructor(e){super();de(this,e,_l,cl,ve,{stacktrace:0})}}function bl(f){let e,l,t,r=JSON.stringify(f[0],null,2)+"",o;return{c(){e=k("details"),l=k("pre"),t=k("code"),o=T(r)},l(s){e=E(s,"DETAILS",{});var a=w(e);l=E(a,"PRE",{});var n=w(l);t=E(n,"CODE",{});var c=w(t);o=O(c,r),c.forEach(u),n.forEach(u),a.forEach(u)},m(s,a){b(s,e,a),v(e,l),v(l,t),v(t,o)},p(s,[a]){a&1&&r!==(r=JSON.stringify(s[0],null,2)+"")&&G(o,r)},i:Q,o:Q,d(s){s&&u(e)}}}function ml(f,e,l){let{object:t}=e;return f.$$set=r=>{"object"in r&&l(0,t=r.object)},[t]}class hl extends he{constructor(e){super();de(this,e,ml,bl,ve,{object:0})}}function dl(f){let e,l,t;function r(s){f[2](s)}let o={options:f[1]};return f[0]!==void 0&&(o.selected=f[0]),e=new xe({props:o}),He.push(()=>Ve(e,"selected",r)),{c(){ke(e.$$.fragment)},l(s){Ee(e.$$.fragment,s)},m(s,a){Re(e,s,a),t=!0},p(s,[a]){const n={};a&2&&(n.options=s[1]),!l&&a&1&&(l=!0,n.selected=s[0],$e(()=>l=!1)),e.$set(n)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){we(e,s)}}}function vl(f,e,l){let{values:t=[]}=e,{selected:r}=e;function o(s){r=s,l(0,r)}return f.$$set=s=>{"values"in s&&l(1,t=s.values),"selected"in s&&l(0,r=s.selected)},[r,t,o]}class kl extends he{constructor(e){super();de(this,e,vl,dl,ve,{values:1,selected:0})}}function El(f){var Pe,ye;let e,l,t,r=f[0].type+"",o,s,a,n,c,p,h,I,B,_,d,S,R=(f[0].title?f[0].title:"")+"",N,X,Y,F,x,se=f[0].description+"",re,oe,ae,ue,Z,Te,ne,U,Oe,ce,_e,pe,ee,le,ie,be,$,q,Se,Ie=(ye=(Pe=f[4])==null?void 0:Pe.permissions)==null?void 0:ye.includes("report.delete"),g,V=f[3]&&Ke();function je(i,m){var J,z;if(i[0].gh_issue)return Tl;if((I==null||m&16)&&(I=!!((z=(J=i[4])==null?void 0:J.permissions)==null?void 0:z.includes("report.update"))),I)return wl}let te=je(f,-1),D=te&&te(f);function Ze(i){f[11](i)}let Le={values:f[1]};f[2]!==void 0&&(Le.selected=f[2]),U=new kl({props:Le}),He.push(()=>Ve(U,"selected",Ze));let A=f[0].browser&&We(f),P=f[0].stacktrace&&Xe(f);q=new hl({props:{object:f[0]}});let H=Ie&&Ye(f);return{c(){e=k("header"),l=k("h2"),t=k("b"),o=T(r),s=j(),a=k("div"),n=k("a"),c=T("api"),p=j(),V&&V.c(),h=j(),D&&D.c(),B=j(),_=k("hr"),d=j(),S=k("h1"),N=T(R),X=j(),Y=k("br"),F=j(),x=k("p"),re=T(se),oe=j(),ae=k("br"),ue=j(),Z=k("h3"),Te=T("Tags:"),ne=j(),ke(U.$$.fragment),ce=j(),_e=k("br"),pe=j(),A&&A.c(),ee=j(),P&&P.c(),le=j(),ie=k("hr"),be=j(),$=k("footer"),ke(q.$$.fragment),Se=j(),H&&H.c(),this.h()},l(i){e=E(i,"HEADER",{class:!0});var m=w(e);l=E(m,"H2",{class:!0});var J=w(l);t=E(J,"B",{});var z=w(t);o=O(z,r),z.forEach(u),J.forEach(u),s=L(m),a=E(m,"DIV",{});var C=w(a);n=E(C,"A",{href:!0});var fe=w(n);c=O(fe,"api"),fe.forEach(u),p=L(C),V&&V.l(C),h=L(C),D&&D.l(C),C.forEach(u),m.forEach(u),B=L(i),_=E(i,"HR",{class:!0}),d=L(i),S=E(i,"H1",{class:!0});var Be=w(S);N=O(Be,R),Be.forEach(u),X=L(i),Y=E(i,"BR",{}),F=L(i),x=E(i,"P",{});var De=w(x);re=O(De,se),De.forEach(u),oe=L(i),ae=E(i,"BR",{}),ue=L(i),Z=E(i,"H3",{class:!0});var Ae=w(Z);Te=O(Ae,"Tags:"),Ae.forEach(u),ne=L(i),Ee(U.$$.fragment,i),ce=L(i),_e=E(i,"BR",{}),pe=L(i),A&&A.l(i),ee=L(i),P&&P.l(i),le=L(i),ie=E(i,"HR",{class:!0}),be=L(i),$=E(i,"FOOTER",{class:!0});var me=w($);Ee(q.$$.fragment,me),Se=L(me),H&&H.l(me),me.forEach(u),this.h()},h(){y(l,"class","text-4xl"),y(n,"href",`${f[6]}/api/report/${f[5]}`),y(e,"class","flex justify-between border-bottom items-center"),y(_,"class","my-2"),y(S,"class","text-4xl"),y(Z,"class","svelte-13w5fsi"),y(ie,"class","my-2"),y($,"class","flex items-center justify-between mb-10")},m(i,m){b(i,e,m),v(e,l),v(l,t),v(t,o),v(e,s),v(e,a),v(a,n),v(n,c),v(a,p),V&&V.m(a,null),v(a,h),D&&D.m(a,null),b(i,B,m),b(i,_,m),b(i,d,m),b(i,S,m),v(S,N),b(i,X,m),b(i,Y,m),b(i,F,m),b(i,x,m),v(x,re),b(i,oe,m),b(i,ae,m),b(i,ue,m),b(i,Z,m),v(Z,Te),b(i,ne,m),Re(U,i,m),b(i,ce,m),b(i,_e,m),b(i,pe,m),A&&A.m(i,m),b(i,ee,m),P&&P.m(i,m),b(i,le,m),b(i,ie,m),b(i,be,m),b(i,$,m),Re(q,$,null),v($,Se),H&&H.m($,null),g=!0},p(i,m){var C,fe;(!g||m&1)&&r!==(r=i[0].type+"")&&G(o,r),i[3]?V||(V=Ke(),V.c(),V.m(a,h)):V&&(V.d(1),V=null),te===(te=je(i,m))&&D?D.p(i,m):(D&&D.d(1),D=te&&te(i),D&&(D.c(),D.m(a,null))),(!g||m&1)&&R!==(R=(i[0].title?i[0].title:"")+"")&&G(N,R),(!g||m&1)&&se!==(se=i[0].description+"")&&G(re,se);const J={};m&2&&(J.values=i[1]),!Oe&&m&4&&(Oe=!0,J.selected=i[2],$e(()=>Oe=!1)),U.$set(J),i[0].browser?A?A.p(i,m):(A=We(i),A.c(),A.m(ee.parentNode,ee)):A&&(A.d(1),A=null),i[0].stacktrace?P?(P.p(i,m),m&1&&M(P,1)):(P=Xe(i),P.c(),M(P,1),P.m(le.parentNode,le)):P&&(Je(),W(P,1,1,()=>{P=null}),Ge());const z={};m&1&&(z.object=i[0]),q.$set(z),m&16&&(Ie=(fe=(C=i[4])==null?void 0:C.permissions)==null?void 0:fe.includes("report.delete")),Ie?H?H.p(i,m):(H=Ye(i),H.c(),H.m($,null)):H&&(H.d(1),H=null)},i(i){g||(M(U.$$.fragment,i),M(P),M(q.$$.fragment,i),g=!0)},o(i){W(U.$$.fragment,i),W(P),W(q.$$.fragment,i),g=!1},d(i){i&&u(e),V&&V.d(),D&&D.d(),i&&u(B),i&&u(_),i&&u(d),i&&u(S),i&&u(X),i&&u(Y),i&&u(F),i&&u(x),i&&u(oe),i&&u(ae),i&&u(ue),i&&u(Z),i&&u(ne),we(U,i),i&&u(ce),i&&u(_e),i&&u(pe),A&&A.d(i),i&&u(ee),P&&P.d(i),i&&u(le),i&&u(ie),i&&u(be),i&&u($),we(q),H&&H.d()}}}function Rl(f){let e,l;return{c(){e=T("Loading ... "),l=T(f[5])},l(t){e=O(t,"Loading ... "),l=O(t,f[5])},m(t,r){b(t,e,r),b(t,l,r)},p:Q,i:Q,o:Q,d(t){t&&u(e),t&&u(l)}}}function Ke(f){let e,l;return{c(){e=k("span"),l=T("...")},l(t){e=E(t,"SPAN",{});var r=w(e);l=O(r,"..."),r.forEach(u)},m(t,r){b(t,e,r),v(e,l)},d(t){t&&u(e)}}}function wl(f){let e,l,t,r;return{c(){e=k("button"),l=T("publish"),this.h()},l(o){e=E(o,"BUTTON",{class:!0});var s=w(e);l=O(s,"publish"),s.forEach(u),this.h()},h(){y(e,"class","publish svelte-13w5fsi"),e.disabled=f[3]},m(o,s){b(o,e,s),v(e,l),t||(r=Ne(e,"click",f[9]),t=!0)},p(o,s){s&8&&(e.disabled=o[3])},d(o){o&&u(e),t=!1,r()}}}function Tl(f){var I,B;let e,l,t,r,o,s,a,n,c=(B=(I=f[4])==null?void 0:I.permissions)==null?void 0:B.includes("report.update"),p,h=c&&Qe(f);return{c(){e=k("a"),l=T("gh-api"),r=j(),o=k("a"),s=T("gh-issue"),n=j(),h&&h.c(),p=K(),this.h()},l(_){e=E(_,"A",{href:!0});var d=w(e);l=O(d,"gh-api"),d.forEach(u),r=L(_),o=E(_,"A",{href:!0});var S=w(o);s=O(S,"gh-issue"),S.forEach(u),n=L(_),h&&h.l(_),p=K(),this.h()},h(){y(e,"href",t="https://api.github.com/repos/"+f[7]+"/"+f[8]+"/issues/"+f[0].gh_issue),y(o,"href",a="https://github.com/"+f[7]+"/"+f[8]+"/issues/"+f[0].gh_issue)},m(_,d){b(_,e,d),v(e,l),b(_,r,d),b(_,o,d),v(o,s),b(_,n,d),h&&h.m(_,d),b(_,p,d)},p(_,d){var S,R;d&1&&t!==(t="https://api.github.com/repos/"+_[7]+"/"+_[8]+"/issues/"+_[0].gh_issue)&&y(e,"href",t),d&1&&a!==(a="https://github.com/"+_[7]+"/"+_[8]+"/issues/"+_[0].gh_issue)&&y(o,"href",a),d&16&&(c=(R=(S=_[4])==null?void 0:S.permissions)==null?void 0:R.includes("report.update")),c?h?h.p(_,d):(h=Qe(_),h.c(),h.m(p.parentNode,p)):h&&(h.d(1),h=null)},d(_){_&&u(e),_&&u(r),_&&u(o),_&&u(n),h&&h.d(_),_&&u(p)}}}function Qe(f){let e,l,t,r;return{c(){e=k("button"),l=T("unpublish"),this.h()},l(o){e=E(o,"BUTTON",{class:!0});var s=w(e);l=O(s,"unpublish"),s.forEach(u),this.h()},h(){y(e,"class","publish svelte-13w5fsi"),e.disabled=f[3]},m(o,s){b(o,e,s),v(e,l),t||(r=Ne(e,"click",f[9]),t=!0)},p(o,s){s&8&&(e.disabled=o[3])},d(o){o&&u(e),t=!1,r()}}}function We(f){let e,l,t,r,o,s=JSON.stringify(f[0].browser,null,2)+"",a,n,c;return{c(){e=k("h3"),l=T("Browser:"),t=j(),r=k("pre"),o=k("code"),a=T(s),n=j(),c=k("br"),this.h()},l(p){e=E(p,"H3",{class:!0});var h=w(e);l=O(h,"Browser:"),h.forEach(u),t=L(p),r=E(p,"PRE",{});var I=w(r);o=E(I,"CODE",{});var B=w(o);a=O(B,s),B.forEach(u),I.forEach(u),n=L(p),c=E(p,"BR",{}),this.h()},h(){y(e,"class","svelte-13w5fsi")},m(p,h){b(p,e,h),v(e,l),b(p,t,h),b(p,r,h),v(r,o),v(o,a),b(p,n,h),b(p,c,h)},p(p,h){h&1&&s!==(s=JSON.stringify(p[0].browser,null,2)+"")&&G(a,s)},d(p){p&&u(e),p&&u(t),p&&u(r),p&&u(n),p&&u(c)}}}function Xe(f){let e,l,t,r,o,s;return o=new pl({props:{stacktrace:f[0].stacktrace}}),{c(){e=k("div"),l=k("h3"),t=T("StackTrace:"),r=j(),ke(o.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var n=w(e);l=E(n,"H3",{class:!0});var c=w(l);t=O(c,"StackTrace:"),c.forEach(u),r=L(n),Ee(o.$$.fragment,n),n.forEach(u),this.h()},h(){y(l,"class","svelte-13w5fsi"),y(e,"class","stack svelte-13w5fsi")},m(a,n){b(a,e,n),v(e,l),v(l,t),v(e,r),Re(o,e,null),s=!0},p(a,n){const c={};n&1&&(c.stacktrace=a[0].stacktrace),o.$set(c)},i(a){s||(M(o.$$.fragment,a),s=!0)},o(a){W(o.$$.fragment,a),s=!1},d(a){a&&u(e),we(o)}}}function Ye(f){let e,l,t,r;return{c(){e=k("button"),l=T("delete"),this.h()},l(o){e=E(o,"BUTTON",{class:!0});var s=w(e);l=O(s,"delete"),s.forEach(u),this.h()},h(){y(e,"class","bg-red-600 rounded-md text-white px-2 py-1 self-start")},m(o,s){b(o,e,s),v(e,l),t||(r=Ne(e,"click",f[10]),t=!0)},p:Q,d(o){o&&u(e),t=!1,r()}}}function Ol(f){let e,l,t,r;const o=[Rl,El],s=[];function a(n,c){return n[0]?1:0}return e=a(f),l=s[e]=o[e](f),{c(){l.c(),t=K()},l(n){l.l(n),t=K()},m(n,c){s[e].m(n,c),b(n,t,c),r=!0},p(n,[c]){let p=e;e=a(n),e===p?s[e].p(n,c):(Je(),W(s[p],1,1,()=>{s[p]=null}),Ge(),l=s[e],l?l.p(n,c):(l=s[e]=o[e](n),l.c()),M(l,1),l.m(t.parentNode,t))},i(n){r||(M(l),r=!0)},o(n){W(l),r=!1},d(n){s[e].d(n),n&&u(t)}}}async function Ll({page:f}){console.log("Looad",f.params);const e=await ll(f.params.reportId),l=await tl();return{props:{report:e,reportLabels:l}}}function Sl(f,e,l){let t,r;Ue(f,nl,N=>l(15,t=N)),Ue(f,ol,N=>l(4,r=N));const{reportId:o}=t.params,{VITE_API_URL:s="http://localhost:3000",VITE_GH_ORG:a,VITE_GH_REPO:n}={VITE_API_URL:"https://plant-api.jim-fx.com",VITE_SVELTEKIT_AMP:"",VITE_GH_ORG:"jim-fx",VITE_GH_REPO:"plantarium",BASE_URL:"/admin/_app/",MODE:"production",DEV:!1,PROD:!0};let{report:c}=e,{reportLabels:p}=e,h=!1,I;async function B(){I||(c.gh_issue?l(3,I=il(o)):l(3,I=sl(o)),l(0,c.gh_issue=await I,c),l(0,c),l(2,_),I.then(()=>l(3,I=null)))}let _=c.labels;async function d(){!h||al(o,_)}async function S(){await ul("Delete Report?",{values:["yes","no"]})==="yes"&&fl(o)}el(async()=>{rl(),setTimeout(()=>{h=!0},500)});function R(N){_=N,l(2,_)}return f.$$set=N=>{"report"in N&&l(0,c=N.report),"reportLabels"in N&&l(1,p=N.reportLabels)},f.$$.update=()=>{f.$$.dirty&4&&l(0,c.labels=_,c),f.$$.dirty&5&&c.labels&&_&&d()},[c,p,_,I,r,o,s,a,n,B,S,R]}class Pl extends he{constructor(e){super();de(this,e,Sl,Ol,ve,{report:0,reportLabels:1})}}export{Pl as default,Ll as load};
