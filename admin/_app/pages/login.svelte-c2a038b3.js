var ae=Object.defineProperty;var z=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var K=(e,t,s)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,B=(e,t)=>{for(var s in t||(t={}))ue.call(t,s)&&K(e,s,t[s]);if(z)for(var s of z(t))le.call(t,s)&&K(e,s,t[s]);return e};import{Z as oe,S as ce,i as de,s as fe,e as E,t as J,k as x,c as O,a as P,h as j,d as k,m as C,b as m,f as pe,g as me,J as y,_ as M,O as I,E as Q,G as he,L as ge}from"../chunks/index-bfb72d91.js";import{d as U,w as L}from"../chunks/index-56b15200.js";import{l as be}from"../chunks/index-8f25427e.js";var W=Object.prototype.hasOwnProperty;function G(e,t){var s,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&G(e[n],t[n]););return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(W.call(e,s)&&++n&&!W.call(t,s)||!(s in t)||!G(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function ye(e){return new Promise(t=>{e.subscribe(t)()})}function ve(e,t,s){e.update(n=>(te(n,t,s),n))}function _e(e){return JSON.parse(JSON.stringify(e))}function $(e){return e==null}function Y(e){return $(e)||Object.keys(e).length<=0}function ee(e){let t=[];for(const[,s]of Object.entries(e)){const n=typeof s=="object"?ee(s):[s];t=[...t,...n]}return t}function H(e,t,s={}){for(const n in t)switch(!0){case(t[n].type==="object"&&!Y(t[n].fields)):{s[n]=H(e[n],t[n].fields,B({},s[n]));break}case t[n].type==="array":{const c=e&&e[n]?e[n]:[];s[n]=c.map(l=>{const i=H(l,t[n].innerType.fields,B({},s[n]));return Object.keys(i).length>0?i:""});break}default:s[n]=""}return s}const we=G;function Z(e,t){if(Array.isArray(e))return e.map(n=>Z(n,t));const s={};for(const n in e)s[n]=typeof e[n]=="object"&&!$(e[n])?Z(e[n],t):t;return s}function te(e,t,s){if(new Object(e)!==e)return e;Array.isArray(t)||(t=t.toString().match(/[^.[\]]+/g)||[]);const n=t.slice(0,-1).reduce((c,l,i)=>new Object(c[l])===c[l]?c[l]:c[l]=Math.trunc(Math.abs(t[i+1]))===+t[i+1]?[]:{},e);return n[t[t.length-1]]=s,e}const o={assignDeep:Z,cloneDeep:_e,deepEqual:we,getErrorsFromSchema:H,getValues:ee,isEmpty:Y,isNullish:$,set:te,subscribeOnce:ye,update:ve},X="",Se=!0;function Ee(e){return e.getAttribute&&e.getAttribute("type")==="checkbox"}function Oe(e){return e.getAttribute&&e.getAttribute("type")==="file"}function Ae(e){return Oe(e)?e.files:Ee(e)?e.checked:e.value}const Ve=e=>{let t=e.initialValues||{};const s=e.validationSchema,n=e.validate,c=e.onSubmit,l={values:()=>o.cloneDeep(t),errors:()=>s?o.getErrorsFromSchema(t,s.fields):o.assignDeep(t,X),touched:()=>o.assignDeep(t,!Se)},i=L(l.values()),d=L(l.errors()),h=L(l.touched()),f=L(!1),g=L(!1),p=U(d,r=>o.getValues(r).every(u=>u===X)),S=U(i,r=>{const a=o.assignDeep(r,!1);for(let u in r)a[u]=!o.deepEqual(r[u],t[u]);return a}),_=U(S,r=>o.getValues(r).includes(!0));function F(r){return o.subscribeOnce(i).then(a=>A(r,a[r]))}function A(r,a){return q(r,!0),s?(g.set(!0),s.validateAt(r,oe(i)).then(()=>o.update(d,r,"")).catch(u=>o.update(d,r,u.message)).finally(()=>{g.set(!1)})):n?(g.set(!0),Promise.resolve().then(()=>n({[r]:a})).then(u=>o.update(d,r,o.isNullish(u)?"":u[r])).finally(()=>{g.set(!1)})):Promise.resolve()}function N(r,a){return T(r,a),A(r,a)}function v(r){const a=r.target,u=a.name||a.id,D=Ae(a);return N(u,D)}function w(r){return r&&r.preventDefault&&r.preventDefault(),f.set(!0),o.subscribeOnce(i).then(a=>typeof n=="function"?(g.set(!0),Promise.resolve().then(()=>n(a)).then(u=>{if(o.isNullish(u)||o.getValues(u).length===0)return V(a);d.set(u),f.set(!1)}).finally(()=>g.set(!1))):s?(g.set(!0),s.validate(a,{abortEarly:!1}).then(()=>V(a)).catch(u=>{if(u&&u.inner){const D=l.errors();u.inner.map(R=>o.set(D,R.path,R.message)),d.set(D)}f.set(!1)}).finally(()=>g.set(!1))):V(a))}function b(){i.set(l.values()),d.set(l.errors()),h.set(l.touched())}function V(r){return Promise.resolve().then(()=>d.set(l.errors())).then(()=>c(r,i,d)).finally(()=>f.set(!1))}function T(r,a){o.update(i,r,a)}function q(r,a){o.update(h,r,a)}function se(r){t=r,b()}return{form:i,errors:d,touched:h,modified:S,isValid:p,isSubmitting:f,isValidating:g,isModified:_,handleChange:v,handleSubmit:w,handleReset:b,updateField:T,updateValidateField:N,updateTouched:q,validateField:F,updateInitialValues:se,state:U([i,d,h,S,p,g,f,_],([r,a,u,D,R,ne,re,ie])=>({form:r,errors:a,touched:u,modified:D,isValid:R,isSubmitting:re,isValidating:ne,isModified:ie}))}};function De(e){let t,s,n,c,l,i,d,h,f,g,p,S,_,F,A,N;return{c(){t=E("div"),s=E("form"),n=E("label"),c=J("username"),l=x(),i=E("input"),d=x(),h=E("label"),f=J("password"),g=x(),p=E("input"),S=x(),_=E("button"),F=J("Submit"),this.h()},l(v){t=O(v,"DIV",{class:!0,style:!0});var w=P(t);s=O(w,"FORM",{});var b=P(s);n=O(b,"LABEL",{for:!0,class:!0});var V=P(n);c=j(V,"username"),V.forEach(k),l=C(b),i=O(b,"INPUT",{class:!0,id:!0,name:!0,type:!0}),d=C(b),h=O(b,"LABEL",{for:!0,class:!0});var T=P(h);f=j(T,"password"),T.forEach(k),g=C(b),p=O(b,"INPUT",{class:!0,id:!0,name:!0,type:!0}),S=C(b),_=O(b,"BUTTON",{class:!0,type:!0});var q=P(_);F=j(q,"Submit"),q.forEach(k),b.forEach(k),w.forEach(k),this.h()},h(){m(n,"for","username"),m(n,"class","svelte-190qtc0"),m(i,"class","mb-4 svelte-190qtc0"),m(i,"id","username"),m(i,"name","username"),m(i,"type","username"),m(h,"for","password"),m(h,"class","svelte-190qtc0"),m(p,"class","mb-6 svelte-190qtc0"),m(p,"id","password"),m(p,"name","password"),m(p,"type","password"),m(_,"class","bg-blue-400 hover:bg-blue-dark text-white font-bold py-2 px-4 rounded"),m(_,"type","submit"),m(t,"class","bg-white shadow-md my-10 rounded px-8 pt-6 pb-8 mb-4 flex flex-col mx-auto"),pe(t,"width","500px")},m(v,w){me(v,t,w),y(t,s),y(s,n),y(n,c),y(s,l),y(s,i),M(i,e[0].username),y(s,d),y(s,h),y(h,f),y(s,g),y(s,p),M(p,e[0].password),y(s,S),y(s,_),y(_,F),A||(N=[I(i,"change",e[2]),I(i,"input",e[4]),I(p,"change",e[2]),I(p,"input",e[5]),I(s,"submit",e[3])],A=!0)},p(v,[w]){w&1&&M(i,v[0].username),w&1&&p.value!==v[0].password&&M(p,v[0].password)},i:Q,o:Q,d(v){v&&k(t),A=!1,he(N)}}}function ke(e,t,s){let n;const{form:c,handleChange:l,handleSubmit:i}=Ve({initialValues:{username:"",password:""},onSubmit:f=>{be(f.username,f.password)}});ge(e,c,f=>s(0,n=f));function d(){n.username=this.value,c.set(n)}function h(){n.password=this.value,c.set(n)}return[n,c,l,i,d,h]}class Pe extends ce{constructor(t){super(),de(this,t,ke,De,fe,{})}}export{Pe as default};
